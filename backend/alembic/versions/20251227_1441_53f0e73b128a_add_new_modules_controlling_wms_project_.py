"""add_new_modules_controlling_wms_project_workflow_dms

Revision ID: 53f0e73b128a
Revises: c6bea02ad829
Create Date: 2025-12-27 14:41:24.356180+00:00

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
import sqlmodel
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '53f0e73b128a'
down_revision: Union[str, None] = 'c6bea02ad829'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('acc_ap_aging_snapshots',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('snapshot_date', sa.DateTime(), nullable=False),
    sa.Column('vendor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('vendor_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('vendor_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('current_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_1_30', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_31_60', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_61_90', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_over_90', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_payable', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_ap_aging_snapshots_id'), 'acc_ap_aging_snapshots', ['id'], unique=False)
    op.create_index(op.f('ix_acc_ap_aging_snapshots_snapshot_date'), 'acc_ap_aging_snapshots', ['snapshot_date'], unique=False)
    op.create_index(op.f('ix_acc_ap_aging_snapshots_tenant_id'), 'acc_ap_aging_snapshots', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_ap_aging_snapshots_vendor_id'), 'acc_ap_aging_snapshots', ['vendor_id'], unique=False)
    op.create_table('acc_ar_aging_snapshots',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('snapshot_date', sa.DateTime(), nullable=False),
    sa.Column('customer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('customer_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('current_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_1_30', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_31_60', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_61_90', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('days_over_90', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_receivable', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('credit_limit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('available_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_ar_aging_snapshots_customer_id'), 'acc_ar_aging_snapshots', ['customer_id'], unique=False)
    op.create_index(op.f('ix_acc_ar_aging_snapshots_id'), 'acc_ar_aging_snapshots', ['id'], unique=False)
    op.create_index(op.f('ix_acc_ar_aging_snapshots_snapshot_date'), 'acc_ar_aging_snapshots', ['snapshot_date'], unique=False)
    op.create_index(op.f('ix_acc_ar_aging_snapshots_tenant_id'), 'acc_ar_aging_snapshots', ['tenant_id'], unique=False)
    op.create_table('acc_audit_logs',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('table_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('old_values', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('new_values', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('changed_fields', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ip_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('timestamp', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_audit_logs_id'), 'acc_audit_logs', ['id'], unique=False)
    op.create_index(op.f('ix_acc_audit_logs_record_id'), 'acc_audit_logs', ['record_id'], unique=False)
    op.create_index(op.f('ix_acc_audit_logs_table_name'), 'acc_audit_logs', ['table_name'], unique=False)
    op.create_index(op.f('ix_acc_audit_logs_tenant_id'), 'acc_audit_logs', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_audit_logs_timestamp'), 'acc_audit_logs', ['timestamp'], unique=False)
    op.create_index(op.f('ix_acc_audit_logs_user_id'), 'acc_audit_logs', ['user_id'], unique=False)
    op.create_table('acc_currency_rates',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('currency_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('currency_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('rate_date', sa.DateTime(), nullable=False),
    sa.Column('buying_rate', sa.Numeric(precision=20, scale=6), nullable=False),
    sa.Column('selling_rate', sa.Numeric(precision=20, scale=6), nullable=False),
    sa.Column('average_rate', sa.Numeric(precision=20, scale=6), nullable=False),
    sa.Column('source', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_currency_rates_currency_code'), 'acc_currency_rates', ['currency_code'], unique=False)
    op.create_index(op.f('ix_acc_currency_rates_id'), 'acc_currency_rates', ['id'], unique=False)
    op.create_index(op.f('ix_acc_currency_rates_rate_date'), 'acc_currency_rates', ['rate_date'], unique=False)
    op.create_index(op.f('ix_acc_currency_rates_tenant_id'), 'acc_currency_rates', ['tenant_id'], unique=False)
    op.create_table('acc_pit_brackets',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('bracket_level', sa.Integer(), nullable=False),
    sa.Column('from_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('to_amount', sa.Numeric(precision=20, scale=2), nullable=True),
    sa.Column('rate', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('quick_deduction', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('effective_from', sa.DateTime(), nullable=False),
    sa.Column('effective_to', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_pit_brackets_id'), 'acc_pit_brackets', ['id'], unique=False)
    op.create_index(op.f('ix_acc_pit_brackets_tenant_id'), 'acc_pit_brackets', ['tenant_id'], unique=False)
    op.create_table('acc_pit_deductions',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('deduction_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('amount_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('effective_from', sa.DateTime(), nullable=False),
    sa.Column('effective_to', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_pit_deductions_code'), 'acc_pit_deductions', ['code'], unique=False)
    op.create_index(op.f('ix_acc_pit_deductions_id'), 'acc_pit_deductions', ['id'], unique=False)
    op.create_index(op.f('ix_acc_pit_deductions_tenant_id'), 'acc_pit_deductions', ['tenant_id'], unique=False)
    op.create_table('acc_pit_transactions',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('employee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('employee_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('employee_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tax_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('period', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('payroll_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('gross_income', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('taxable_income', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('personal_deduction', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('dependent_deduction', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('insurance_deduction', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('other_deductions', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_base', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('is_finalized', sa.Boolean(), nullable=False),
    sa.Column('declaration_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_pit_transactions_employee_id'), 'acc_pit_transactions', ['employee_id'], unique=False)
    op.create_index(op.f('ix_acc_pit_transactions_id'), 'acc_pit_transactions', ['id'], unique=False)
    op.create_index(op.f('ix_acc_pit_transactions_period'), 'acc_pit_transactions', ['period'], unique=False)
    op.create_index(op.f('ix_acc_pit_transactions_tenant_id'), 'acc_pit_transactions', ['tenant_id'], unique=False)
    op.create_table('acc_report_templates',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('structure', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_system', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_report_templates_code'), 'acc_report_templates', ['code'], unique=False)
    op.create_index(op.f('ix_acc_report_templates_id'), 'acc_report_templates', ['id'], unique=False)
    op.create_index(op.f('ix_acc_report_templates_report_type'), 'acc_report_templates', ['report_type'], unique=False)
    op.create_index(op.f('ix_acc_report_templates_tenant_id'), 'acc_report_templates', ['tenant_id'], unique=False)
    op.create_table('acc_vat_declarations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('declaration_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('declaration_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_from', sa.DateTime(), nullable=False),
    sa.Column('period_to', sa.DateTime(), nullable=False),
    sa.Column('output_tax_base', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('output_tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('input_tax_base', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('input_tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('non_deductible_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_payable', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_refundable', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('carried_forward', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('previous_period_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('adjustments', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('amount_due', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('submitted_at', sa.DateTime(), nullable=True),
    sa.Column('submission_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('paid_at', sa.DateTime(), nullable=True),
    sa.Column('paid_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('payment_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_vat_declarations_declaration_number'), 'acc_vat_declarations', ['declaration_number'], unique=False)
    op.create_index(op.f('ix_acc_vat_declarations_id'), 'acc_vat_declarations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_vat_declarations_period'), 'acc_vat_declarations', ['period'], unique=False)
    op.create_index(op.f('ix_acc_vat_declarations_status'), 'acc_vat_declarations', ['status'], unique=False)
    op.create_index(op.f('ix_acc_vat_declarations_tenant_id'), 'acc_vat_declarations', ['tenant_id'], unique=False)
    op.create_table('acc_withholding_taxes',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transaction_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transaction_date', sa.DateTime(), nullable=False),
    sa.Column('contractor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contractor_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('contractor_country', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contractor_tax_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('invoice_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('invoice_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contract_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('service_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('gross_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('vat_rate', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('vat_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('cit_rate', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('cit_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_withholding', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('net_payment', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('exchange_rate', sa.Numeric(precision=15, scale=6), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('paid_at', sa.DateTime(), nullable=True),
    sa.Column('payment_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_withholding_taxes_id'), 'acc_withholding_taxes', ['id'], unique=False)
    op.create_index(op.f('ix_acc_withholding_taxes_tenant_id'), 'acc_withholding_taxes', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_withholding_taxes_transaction_date'), 'acc_withholding_taxes', ['transaction_date'], unique=False)
    op.create_index(op.f('ix_acc_withholding_taxes_transaction_number'), 'acc_withholding_taxes', ['transaction_number'], unique=False)
    op.create_table('dms_archive_policies',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('apply_to_all', sa.Boolean(), nullable=False),
    sa.Column('folder_ids', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('document_types', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('categories', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('retention_days', sa.Integer(), nullable=False),
    sa.Column('retention_based_on', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('archive_folder_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notify_before_days', sa.Integer(), nullable=False),
    sa.Column('notify_users', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('run_schedule', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('last_run_at', sa.DateTime(), nullable=True),
    sa.Column('next_run_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_archive_policies_tenant_id'), 'dms_archive_policies', ['tenant_id'], unique=False)
    op.create_table('dms_archived_documents',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('original_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('original_folder_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('original_folder_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('archive_policy_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('archive_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('archive_location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('file_path', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_size', sa.Integer(), nullable=False),
    sa.Column('content_hash', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('document_snapshot', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_restorable', sa.Boolean(), nullable=False),
    sa.Column('restored_at', sa.DateTime(), nullable=True),
    sa.Column('restored_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('restored_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('scheduled_delete_at', sa.DateTime(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('deleted_at', sa.DateTime(), nullable=True),
    sa.Column('archived_at', sa.DateTime(), nullable=False),
    sa.Column('archived_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('archived_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_archived_documents_original_document_id'), 'dms_archived_documents', ['original_document_id'], unique=False)
    op.create_index(op.f('ix_dms_archived_documents_tenant_id'), 'dms_archived_documents', ['tenant_id'], unique=False)
    op.create_table('dms_document_comments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_comment_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('content', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('page_number', sa.Integer(), nullable=True),
    sa.Column('position_x', sa.Integer(), nullable=True),
    sa.Column('position_y', sa.Integer(), nullable=True),
    sa.Column('author_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('author_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_resolved', sa.Boolean(), nullable=False),
    sa.Column('resolved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('resolved_at', sa.DateTime(), nullable=True),
    sa.Column('is_edited', sa.Boolean(), nullable=False),
    sa.Column('edited_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_document_comments_document_id'), 'dms_document_comments', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_document_comments_tenant_id'), 'dms_document_comments', ['tenant_id'], unique=False)
    op.create_table('dms_document_retention',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('policy_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('retention_start_date', sa.DateTime(), nullable=False),
    sa.Column('retention_end_date', sa.DateTime(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('notification_sent', sa.Boolean(), nullable=False),
    sa.Column('notification_sent_at', sa.DateTime(), nullable=True),
    sa.Column('is_legal_hold', sa.Boolean(), nullable=False),
    sa.Column('legal_hold_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('legal_hold_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('legal_hold_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_document_retention_document_id'), 'dms_document_retention', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_document_retention_tenant_id'), 'dms_document_retention', ['tenant_id'], unique=False)
    op.create_table('dms_document_shares',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('share_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('target_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('target_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('target_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('access_level', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('can_download', sa.Boolean(), nullable=False),
    sa.Column('can_print', sa.Boolean(), nullable=False),
    sa.Column('can_reshare', sa.Boolean(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('message', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notify_on_share', sa.Boolean(), nullable=False),
    sa.Column('notified_at', sa.DateTime(), nullable=True),
    sa.Column('access_count', sa.Integer(), nullable=False),
    sa.Column('last_accessed_at', sa.DateTime(), nullable=True),
    sa.Column('shared_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('shared_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_document_shares_document_id'), 'dms_document_shares', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_document_shares_target_id'), 'dms_document_shares', ['target_id'], unique=False)
    op.create_index(op.f('ix_dms_document_shares_tenant_id'), 'dms_document_shares', ['tenant_id'], unique=False)
    op.create_table('dms_document_tags',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tag_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tag_color', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_document_tags_document_id'), 'dms_document_tags', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_document_tags_tag_name'), 'dms_document_tags', ['tag_name'], unique=False)
    op.create_index(op.f('ix_dms_document_tags_tenant_id'), 'dms_document_tags', ['tenant_id'], unique=False)
    op.create_table('dms_document_versions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('version_number', sa.Integer(), nullable=False),
    sa.Column('is_latest', sa.Boolean(), nullable=False),
    sa.Column('file_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_path', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_size', sa.Integer(), nullable=False),
    sa.Column('content_hash', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('change_summary', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('change_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uploaded_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('uploaded_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_document_versions_document_id'), 'dms_document_versions', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_document_versions_tenant_id'), 'dms_document_versions', ['tenant_id'], unique=False)
    op.create_table('dms_documents',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('folder_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('folder_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('file_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_path', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_size', sa.Integer(), nullable=False),
    sa.Column('file_extension', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mime_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('content_hash', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('version_number', sa.Integer(), nullable=False),
    sa.Column('is_latest', sa.Boolean(), nullable=False),
    sa.Column('parent_version_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('owner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('subcategory', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('tags', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('has_preview', sa.Boolean(), nullable=False),
    sa.Column('preview_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('thumbnail_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('extracted_text', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_searchable', sa.Boolean(), nullable=False),
    sa.Column('document_date', sa.DateTime(), nullable=True),
    sa.Column('expiry_date', sa.DateTime(), nullable=True),
    sa.Column('requires_approval', sa.Boolean(), nullable=False),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('is_locked', sa.Boolean(), nullable=False),
    sa.Column('locked_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('locked_at', sa.DateTime(), nullable=True),
    sa.Column('view_count', sa.Integer(), nullable=False),
    sa.Column('download_count', sa.Integer(), nullable=False),
    sa.Column('last_accessed_at', sa.DateTime(), nullable=True),
    sa.Column('is_archived', sa.Boolean(), nullable=False),
    sa.Column('archived_at', sa.DateTime(), nullable=True),
    sa.Column('archived_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('deleted_at', sa.DateTime(), nullable=True),
    sa.Column('deleted_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_documents_tenant_id'), 'dms_documents', ['tenant_id'], unique=False)
    op.create_table('dms_folder_permissions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('folder_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('grantee_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('grantee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('grantee_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('permission_level', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_inherited', sa.Boolean(), nullable=False),
    sa.Column('inherited_from', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('valid_from', sa.DateTime(), nullable=True),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('granted_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_folder_permissions_folder_id'), 'dms_folder_permissions', ['folder_id'], unique=False)
    op.create_index(op.f('ix_dms_folder_permissions_grantee_id'), 'dms_folder_permissions', ['grantee_id'], unique=False)
    op.create_index(op.f('ix_dms_folder_permissions_tenant_id'), 'dms_folder_permissions', ['tenant_id'], unique=False)
    op.create_table('dms_folders',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('folder_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('color', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('icon', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('owner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('document_count', sa.Integer(), nullable=False),
    sa.Column('subfolder_count', sa.Integer(), nullable=False),
    sa.Column('total_size', sa.Integer(), nullable=False),
    sa.Column('is_public', sa.Boolean(), nullable=False),
    sa.Column('is_system', sa.Boolean(), nullable=False),
    sa.Column('allow_upload', sa.Boolean(), nullable=False),
    sa.Column('max_file_size', sa.Integer(), nullable=True),
    sa.Column('allowed_extensions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_archived', sa.Boolean(), nullable=False),
    sa.Column('archived_at', sa.DateTime(), nullable=True),
    sa.Column('archived_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_folders_tenant_id'), 'dms_folders', ['tenant_id'], unique=False)
    op.create_table('dms_generated_documents',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_version', sa.Integer(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('document_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('field_values', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('generated_at', sa.DateTime(), nullable=False),
    sa.Column('generated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_generated_documents_document_id'), 'dms_generated_documents', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_generated_documents_template_id'), 'dms_generated_documents', ['template_id'], unique=False)
    op.create_index(op.f('ix_dms_generated_documents_tenant_id'), 'dms_generated_documents', ['tenant_id'], unique=False)
    op.create_table('dms_share_links',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('link_token', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('short_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('access_level', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('requires_password', sa.Boolean(), nullable=False),
    sa.Column('password_hash', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('requires_login', sa.Boolean(), nullable=False),
    sa.Column('can_download', sa.Boolean(), nullable=False),
    sa.Column('can_print', sa.Boolean(), nullable=False),
    sa.Column('max_access_count', sa.Integer(), nullable=True),
    sa.Column('access_count', sa.Integer(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('disabled_at', sa.DateTime(), nullable=True),
    sa.Column('disabled_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('disabled_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('last_accessed_at', sa.DateTime(), nullable=True),
    sa.Column('unique_visitors', sa.Integer(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_share_links_document_id'), 'dms_share_links', ['document_id'], unique=False)
    op.create_index(op.f('ix_dms_share_links_link_token'), 'dms_share_links', ['link_token'], unique=False)
    op.create_index(op.f('ix_dms_share_links_tenant_id'), 'dms_share_links', ['tenant_id'], unique=False)
    op.create_table('dms_template_fields',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('field_order', sa.Integer(), nullable=False),
    sa.Column('field_key', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('field_label', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('field_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_required', sa.Boolean(), nullable=False),
    sa.Column('default_value', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('placeholder', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('help_text', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('options', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('min_length', sa.Integer(), nullable=True),
    sa.Column('max_length', sa.Integer(), nullable=True),
    sa.Column('min_value', sa.Float(), nullable=True),
    sa.Column('max_value', sa.Float(), nullable=True),
    sa.Column('regex_pattern', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('width', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('group_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('depends_on_field', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('depends_on_value', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_template_fields_template_id'), 'dms_template_fields', ['template_id'], unique=False)
    op.create_index(op.f('ix_dms_template_fields_tenant_id'), 'dms_template_fields', ['tenant_id'], unique=False)
    op.create_table('dms_templates',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('content_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_content', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('template_file_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('preview_image', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_default', sa.Boolean(), nullable=False),
    sa.Column('default_folder_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('requires_approval', sa.Boolean(), nullable=False),
    sa.Column('workflow_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('is_current_version', sa.Boolean(), nullable=False),
    sa.Column('previous_version_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('usage_count', sa.Integer(), nullable=False),
    sa.Column('last_used_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_dms_templates_code'), 'dms_templates', ['code'], unique=False)
    op.create_index(op.f('ix_dms_templates_tenant_id'), 'dms_templates', ['tenant_id'], unique=False)
    op.create_table('prj_checklist_items',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('checklist_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('content', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_checked', sa.Boolean(), nullable=False),
    sa.Column('position', sa.Integer(), nullable=False),
    sa.Column('assignee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('due_date', sa.Date(), nullable=True),
    sa.Column('checked_at', sa.DateTime(), nullable=True),
    sa.Column('checked_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_checklist_items_checklist_id'), 'prj_checklist_items', ['checklist_id'], unique=False)
    op.create_index(op.f('ix_prj_checklist_items_tenant_id'), 'prj_checklist_items', ['tenant_id'], unique=False)
    op.create_table('prj_issue_comments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('issue_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_comment_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('content', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('author_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('author_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status_changed_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status_changed_from', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_edited', sa.Boolean(), nullable=False),
    sa.Column('edited_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_issue_comments_issue_id'), 'prj_issue_comments', ['issue_id'], unique=False)
    op.create_index(op.f('ix_prj_issue_comments_tenant_id'), 'prj_issue_comments', ['tenant_id'], unique=False)
    op.create_table('prj_issues',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('issue_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('issue_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reporter_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reporter_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assignee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assignee_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reported_date', sa.Date(), nullable=False),
    sa.Column('due_date', sa.Date(), nullable=True),
    sa.Column('resolved_date', sa.Date(), nullable=True),
    sa.Column('closed_date', sa.Date(), nullable=True),
    sa.Column('resolution', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('resolution_notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('resolved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_blocking', sa.Boolean(), nullable=False),
    sa.Column('affected_areas', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('related_risk_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_issues_issue_number'), 'prj_issues', ['issue_number'], unique=False)
    op.create_index(op.f('ix_prj_issues_project_id'), 'prj_issues', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_issues_tenant_id'), 'prj_issues', ['tenant_id'], unique=False)
    op.create_table('prj_milestones',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('phase_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('due_date', sa.Date(), nullable=True),
    sa.Column('completed_date', sa.Date(), nullable=True),
    sa.Column('owner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_tasks', sa.Integer(), nullable=False),
    sa.Column('completed_tasks', sa.Integer(), nullable=False),
    sa.Column('progress_percent', sa.Numeric(), nullable=False),
    sa.Column('deliverables', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('budget_checkpoint', sa.Numeric(), nullable=False),
    sa.Column('actual_cost_at_milestone', sa.Numeric(), nullable=False),
    sa.Column('requires_approval', sa.Boolean(), nullable=False),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approval_notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notify_days_before', sa.Integer(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('completed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_milestones_project_id'), 'prj_milestones', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_milestones_tenant_id'), 'prj_milestones', ['tenant_id'], unique=False)
    op.create_table('prj_project_members',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('employee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('role', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('user_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('position', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allocation_percent', sa.Numeric(), nullable=False),
    sa.Column('hourly_rate', sa.Numeric(), nullable=False),
    sa.Column('billing_rate', sa.Numeric(), nullable=False),
    sa.Column('join_date', sa.Date(), nullable=True),
    sa.Column('leave_date', sa.Date(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_project_members_project_id'), 'prj_project_members', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_project_members_tenant_id'), 'prj_project_members', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_prj_project_members_user_id'), 'prj_project_members', ['user_id'], unique=False)
    op.create_table('prj_project_phases',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('phase_number', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('planned_start_date', sa.Date(), nullable=True),
    sa.Column('planned_end_date', sa.Date(), nullable=True),
    sa.Column('actual_start_date', sa.Date(), nullable=True),
    sa.Column('actual_end_date', sa.Date(), nullable=True),
    sa.Column('progress_percent', sa.Numeric(), nullable=False),
    sa.Column('weight_percent', sa.Numeric(), nullable=False),
    sa.Column('budget_amount', sa.Numeric(), nullable=False),
    sa.Column('actual_cost', sa.Numeric(), nullable=False),
    sa.Column('deliverables', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('requires_approval', sa.Boolean(), nullable=False),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_project_phases_project_id'), 'prj_project_phases', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_project_phases_tenant_id'), 'prj_project_phases', ['tenant_id'], unique=False)
    op.create_table('prj_projects',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('customer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contract_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contract_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('manager_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('manager_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('end_date', sa.Date(), nullable=True),
    sa.Column('actual_start_date', sa.Date(), nullable=True),
    sa.Column('actual_end_date', sa.Date(), nullable=True),
    sa.Column('budget_amount', sa.Numeric(), nullable=False),
    sa.Column('actual_cost', sa.Numeric(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('progress_percent', sa.Numeric(), nullable=False),
    sa.Column('total_tasks', sa.Integer(), nullable=False),
    sa.Column('completed_tasks', sa.Integer(), nullable=False),
    sa.Column('estimated_hours', sa.Numeric(), nullable=False),
    sa.Column('actual_hours', sa.Numeric(), nullable=False),
    sa.Column('parent_project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('tags', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_template', sa.Boolean(), nullable=False),
    sa.Column('allow_overtime', sa.Boolean(), nullable=False),
    sa.Column('track_time', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_projects_code'), 'prj_projects', ['code'], unique=False)
    op.create_index(op.f('ix_prj_projects_tenant_id'), 'prj_projects', ['tenant_id'], unique=False)
    op.create_table('prj_resource_allocations',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('resource_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=False),
    sa.Column('end_date', sa.Date(), nullable=False),
    sa.Column('allocation_percent', sa.Numeric(), nullable=False),
    sa.Column('planned_hours', sa.Numeric(), nullable=False),
    sa.Column('actual_hours', sa.Numeric(), nullable=False),
    sa.Column('planned_cost', sa.Numeric(), nullable=False),
    sa.Column('actual_cost', sa.Numeric(), nullable=False),
    sa.Column('role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_confirmed', sa.Boolean(), nullable=False),
    sa.Column('confirmed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('confirmed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_resource_allocations_project_id'), 'prj_resource_allocations', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_resource_allocations_resource_id'), 'prj_resource_allocations', ['resource_id'], unique=False)
    op.create_index(op.f('ix_prj_resource_allocations_tenant_id'), 'prj_resource_allocations', ['tenant_id'], unique=False)
    op.create_table('prj_resource_calendars',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('resource_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('calendar_date', sa.Date(), nullable=False),
    sa.Column('is_working_day', sa.Boolean(), nullable=False),
    sa.Column('is_holiday', sa.Boolean(), nullable=False),
    sa.Column('holiday_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('work_start_time', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('work_end_time', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('break_hours', sa.Numeric(), nullable=False),
    sa.Column('available_hours', sa.Numeric(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_resource_calendars_calendar_date'), 'prj_resource_calendars', ['calendar_date'], unique=False)
    op.create_index(op.f('ix_prj_resource_calendars_tenant_id'), 'prj_resource_calendars', ['tenant_id'], unique=False)
    op.create_table('prj_resources',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('resource_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('employee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('capacity_hours_per_day', sa.Numeric(), nullable=False),
    sa.Column('capacity_hours_per_week', sa.Numeric(), nullable=False),
    sa.Column('max_allocation_percent', sa.Numeric(), nullable=False),
    sa.Column('cost_rate_per_hour', sa.Numeric(), nullable=False),
    sa.Column('billing_rate_per_hour', sa.Numeric(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('skills', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_available', sa.Boolean(), nullable=False),
    sa.Column('available_from', sa.Date(), nullable=True),
    sa.Column('available_to', sa.Date(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_resources_code'), 'prj_resources', ['code'], unique=False)
    op.create_index(op.f('ix_prj_resources_tenant_id'), 'prj_resources', ['tenant_id'], unique=False)
    op.create_table('prj_risk_mitigations',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('risk_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action_number', sa.Integer(), nullable=False),
    sa.Column('action_description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('owner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('due_date', sa.Date(), nullable=True),
    sa.Column('completed_date', sa.Date(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('progress_percent', sa.Numeric(), nullable=False),
    sa.Column('estimated_cost', sa.Numeric(), nullable=False),
    sa.Column('actual_cost', sa.Numeric(), nullable=False),
    sa.Column('result', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('effectiveness', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_risk_mitigations_risk_id'), 'prj_risk_mitigations', ['risk_id'], unique=False)
    op.create_index(op.f('ix_prj_risk_mitigations_tenant_id'), 'prj_risk_mitigations', ['tenant_id'], unique=False)
    op.create_table('prj_risks',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('risk_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('probability', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('impact', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('risk_score', sa.Numeric(), nullable=False),
    sa.Column('cost_impact', sa.Numeric(), nullable=False),
    sa.Column('schedule_impact_days', sa.Integer(), nullable=False),
    sa.Column('scope_impact', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quality_impact', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('identified_date', sa.Date(), nullable=False),
    sa.Column('target_resolution_date', sa.Date(), nullable=True),
    sa.Column('actual_resolution_date', sa.Date(), nullable=True),
    sa.Column('owner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('response_strategy', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('response_plan', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contingency_plan', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('trigger_conditions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_risks_project_id'), 'prj_risks', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_risks_risk_number'), 'prj_risks', ['risk_number'], unique=False)
    op.create_index(op.f('ix_prj_risks_tenant_id'), 'prj_risks', ['tenant_id'], unique=False)
    op.create_table('prj_task_assignments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_primary', sa.Boolean(), nullable=False),
    sa.Column('role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allocation_percent', sa.Numeric(), nullable=False),
    sa.Column('estimated_hours', sa.Numeric(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(), nullable=False),
    sa.Column('assigned_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_task_assignments_task_id'), 'prj_task_assignments', ['task_id'], unique=False)
    op.create_index(op.f('ix_prj_task_assignments_tenant_id'), 'prj_task_assignments', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_prj_task_assignments_user_id'), 'prj_task_assignments', ['user_id'], unique=False)
    op.create_table('prj_task_attachments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_path', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_size', sa.Integer(), nullable=False),
    sa.Column('file_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('thumbnail_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uploaded_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('uploaded_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_task_attachments_task_id'), 'prj_task_attachments', ['task_id'], unique=False)
    op.create_index(op.f('ix_prj_task_attachments_tenant_id'), 'prj_task_attachments', ['tenant_id'], unique=False)
    op.create_table('prj_task_checklists',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('position', sa.Integer(), nullable=False),
    sa.Column('total_items', sa.Integer(), nullable=False),
    sa.Column('completed_items', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_task_checklists_task_id'), 'prj_task_checklists', ['task_id'], unique=False)
    op.create_index(op.f('ix_prj_task_checklists_tenant_id'), 'prj_task_checklists', ['tenant_id'], unique=False)
    op.create_table('prj_task_comments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_comment_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('content', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('content_html', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('author_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('author_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('author_avatar', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mentions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_edited', sa.Boolean(), nullable=False),
    sa.Column('edited_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_task_comments_task_id'), 'prj_task_comments', ['task_id'], unique=False)
    op.create_index(op.f('ix_prj_task_comments_tenant_id'), 'prj_task_comments', ['tenant_id'], unique=False)
    op.create_table('prj_task_dependencies',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('predecessor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('successor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dependency_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('lag_days', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_task_dependencies_predecessor_id'), 'prj_task_dependencies', ['predecessor_id'], unique=False)
    op.create_index(op.f('ix_prj_task_dependencies_successor_id'), 'prj_task_dependencies', ['successor_id'], unique=False)
    op.create_index(op.f('ix_prj_task_dependencies_tenant_id'), 'prj_task_dependencies', ['tenant_id'], unique=False)
    op.create_table('prj_tasks',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('phase_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('milestone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assignee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assignee_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reporter_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reporter_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('due_date', sa.Date(), nullable=True),
    sa.Column('actual_start_date', sa.Date(), nullable=True),
    sa.Column('actual_end_date', sa.Date(), nullable=True),
    sa.Column('estimated_hours', sa.Numeric(), nullable=False),
    sa.Column('actual_hours', sa.Numeric(), nullable=False),
    sa.Column('remaining_hours', sa.Numeric(), nullable=False),
    sa.Column('story_points', sa.Integer(), nullable=True),
    sa.Column('progress_percent', sa.Numeric(), nullable=False),
    sa.Column('estimated_cost', sa.Numeric(), nullable=False),
    sa.Column('actual_cost', sa.Numeric(), nullable=False),
    sa.Column('sprint_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('board_column', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('position', sa.Integer(), nullable=False),
    sa.Column('labels', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('time_tracking_enabled', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('completed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_tasks_project_id'), 'prj_tasks', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_tasks_task_number'), 'prj_tasks', ['task_number'], unique=False)
    op.create_index(op.f('ix_prj_tasks_tenant_id'), 'prj_tasks', ['tenant_id'], unique=False)
    op.create_table('prj_timesheet_approvals',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('timesheet_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approver_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approver_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approver_level', sa.Integer(), nullable=False),
    sa.Column('action', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action_date', sa.DateTime(), nullable=False),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_timesheet_approvals_tenant_id'), 'prj_timesheet_approvals', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheet_approvals_timesheet_id'), 'prj_timesheet_approvals', ['timesheet_id'], unique=False)
    op.create_table('prj_timesheet_entries',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('timesheet_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('work_date', sa.Date(), nullable=False),
    sa.Column('start_time', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('end_time', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('hours', sa.Numeric(), nullable=False),
    sa.Column('overtime_hours', sa.Numeric(), nullable=False),
    sa.Column('is_billable', sa.Boolean(), nullable=False),
    sa.Column('billing_rate', sa.Numeric(), nullable=False),
    sa.Column('billable_amount', sa.Numeric(), nullable=False),
    sa.Column('cost_rate', sa.Numeric(), nullable=False),
    sa.Column('cost_amount', sa.Numeric(), nullable=False),
    sa.Column('work_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('activity_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('internal_notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_approved', sa.Boolean(), nullable=False),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_timesheet_entries_project_id'), 'prj_timesheet_entries', ['project_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheet_entries_tenant_id'), 'prj_timesheet_entries', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheet_entries_timesheet_id'), 'prj_timesheet_entries', ['timesheet_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheet_entries_user_id'), 'prj_timesheet_entries', ['user_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheet_entries_work_date'), 'prj_timesheet_entries', ['work_date'], unique=False)
    op.create_table('prj_timesheets',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('employee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('period_start', sa.Date(), nullable=False),
    sa.Column('period_end', sa.Date(), nullable=False),
    sa.Column('period_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('total_regular_hours', sa.Numeric(), nullable=False),
    sa.Column('total_overtime_hours', sa.Numeric(), nullable=False),
    sa.Column('total_billable_hours', sa.Numeric(), nullable=False),
    sa.Column('total_non_billable_hours', sa.Numeric(), nullable=False),
    sa.Column('total_cost', sa.Numeric(), nullable=False),
    sa.Column('total_billable_amount', sa.Numeric(), nullable=False),
    sa.Column('submitted_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_prj_timesheets_period_start'), 'prj_timesheets', ['period_start'], unique=False)
    op.create_index(op.f('ix_prj_timesheets_tenant_id'), 'prj_timesheets', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_prj_timesheets_user_id'), 'prj_timesheets', ['user_id'], unique=False)
    op.create_table('roles',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_system', sa.Boolean(), nullable=False),
    sa.Column('module_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_roles_code'), 'roles', ['code'], unique=False)
    op.create_index(op.f('ix_roles_id'), 'roles', ['id'], unique=False)
    op.create_index(op.f('ix_roles_module_code'), 'roles', ['module_code'], unique=False)
    op.create_index(op.f('ix_roles_name'), 'roles', ['name'], unique=False)
    op.create_index(op.f('ix_roles_tenant_id'), 'roles', ['tenant_id'], unique=False)
    op.create_table('wf_approval_decisions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('request_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('decision', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('decided_by_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('decided_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('decided_at', sa.DateTime(), nullable=False),
    sa.Column('delegated_to_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('delegated_to_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('attachments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_approval_decisions_request_id'), 'wf_approval_decisions', ['request_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_decisions_step_id'), 'wf_approval_decisions', ['step_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_decisions_tenant_id'), 'wf_approval_decisions', ['tenant_id'], unique=False)
    op.create_table('wf_approval_delegates',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delegator_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delegator_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('delegate_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delegate_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=False),
    sa.Column('end_date', sa.Date(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('all_approvals', sa.Boolean(), nullable=False),
    sa.Column('workflow_ids', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_types', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('max_amount', sa.Numeric(), nullable=True),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_approval_delegates_delegate_id'), 'wf_approval_delegates', ['delegate_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_delegates_delegator_id'), 'wf_approval_delegates', ['delegator_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_delegates_tenant_id'), 'wf_approval_delegates', ['tenant_id'], unique=False)
    op.create_table('wf_approval_requests',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('request_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approval_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('requester_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('requester_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('requester_department', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('amount', sa.Numeric(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('is_urgent', sa.Boolean(), nullable=False),
    sa.Column('requested_at', sa.DateTime(), nullable=False),
    sa.Column('due_date', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('expired_at', sa.DateTime(), nullable=True),
    sa.Column('final_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('final_approver_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('final_approver_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('final_comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('request_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_approval_requests_entity_id'), 'wf_approval_requests', ['entity_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_requests_request_number'), 'wf_approval_requests', ['request_number'], unique=False)
    op.create_index(op.f('ix_wf_approval_requests_tenant_id'), 'wf_approval_requests', ['tenant_id'], unique=False)
    op.create_table('wf_approval_rules',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('rule_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('workflow_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('min_amount', sa.Numeric(), nullable=True),
    sa.Column('max_amount', sa.Numeric(), nullable=True),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approver_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approver_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approver_expression', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approval_chain', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('require_all', sa.Boolean(), nullable=False),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('condition_expression', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_approval_rules_code'), 'wf_approval_rules', ['code'], unique=False)
    op.create_index(op.f('ix_wf_approval_rules_tenant_id'), 'wf_approval_rules', ['tenant_id'], unique=False)
    op.create_table('wf_approval_steps',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('request_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_order', sa.Integer(), nullable=False),
    sa.Column('approver_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approver_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approver_role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approver_department', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_delegated', sa.Boolean(), nullable=False),
    sa.Column('delegated_from_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('delegated_from_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_current', sa.Boolean(), nullable=False),
    sa.Column('decision', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('decided_at', sa.DateTime(), nullable=True),
    sa.Column('activated_at', sa.DateTime(), nullable=True),
    sa.Column('due_date', sa.DateTime(), nullable=True),
    sa.Column('reminder_sent', sa.Boolean(), nullable=False),
    sa.Column('reminder_count', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_approval_steps_approver_id'), 'wf_approval_steps', ['approver_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_steps_request_id'), 'wf_approval_steps', ['request_id'], unique=False)
    op.create_index(op.f('ix_wf_approval_steps_tenant_id'), 'wf_approval_steps', ['tenant_id'], unique=False)
    op.create_table('wf_conditions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transition_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('condition_order', sa.Integer(), nullable=False),
    sa.Column('condition_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('field_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('operator', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('value', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('expression', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('and_group', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_conditions_tenant_id'), 'wf_conditions', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wf_conditions_transition_id'), 'wf_conditions', ['transition_id'], unique=False)
    op.create_table('wf_definitions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('workflow_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('is_current_version', sa.Boolean(), nullable=False),
    sa.Column('previous_version_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_module', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allow_parallel', sa.Boolean(), nullable=False),
    sa.Column('allow_delegation', sa.Boolean(), nullable=False),
    sa.Column('allow_recall', sa.Boolean(), nullable=False),
    sa.Column('auto_complete_on_all_approved', sa.Boolean(), nullable=False),
    sa.Column('require_comments_on_reject', sa.Boolean(), nullable=False),
    sa.Column('default_sla_hours', sa.Integer(), nullable=True),
    sa.Column('escalation_enabled', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('activated_at', sa.DateTime(), nullable=True),
    sa.Column('activated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_definitions_code'), 'wf_definitions', ['code'], unique=False)
    op.create_index(op.f('ix_wf_definitions_tenant_id'), 'wf_definitions', ['tenant_id'], unique=False)
    op.create_table('wf_history',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('event_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('actor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('actor_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('actor_role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_step', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_step', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('old_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('new_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ip_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_agent', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_history_instance_id'), 'wf_history', ['instance_id'], unique=False)
    op.create_index(op.f('ix_wf_history_tenant_id'), 'wf_history', ['tenant_id'], unique=False)
    op.create_table('wf_instances',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('workflow_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('workflow_version', sa.Integer(), nullable=False),
    sa.Column('instance_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('entity_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('initiator_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('initiator_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('initiator_department', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('current_step_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('current_step_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('due_date', sa.DateTime(), nullable=True),
    sa.Column('sla_deadline', sa.DateTime(), nullable=True),
    sa.Column('final_action', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('final_comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('form_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('extra_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_instances_instance_number'), 'wf_instances', ['instance_number'], unique=False)
    op.create_index(op.f('ix_wf_instances_tenant_id'), 'wf_instances', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wf_instances_workflow_id'), 'wf_instances', ['workflow_id'], unique=False)
    op.create_table('wf_notification_templates',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notification_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('channel', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('subject_template', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('body_template', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('body_html_template', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('available_variables', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('language', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_notification_templates_code'), 'wf_notification_templates', ['code'], unique=False)
    op.create_index(op.f('ix_wf_notification_templates_tenant_id'), 'wf_notification_templates', ['tenant_id'], unique=False)
    op.create_table('wf_notifications',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approval_request_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notification_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('channel', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('recipient_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('recipient_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('recipient_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('recipient_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('subject', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('body', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('body_html', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('template_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('template_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('retry_count', sa.Integer(), nullable=False),
    sa.Column('max_retries', sa.Integer(), nullable=False),
    sa.Column('scheduled_at', sa.DateTime(), nullable=True),
    sa.Column('sent_at', sa.DateTime(), nullable=True),
    sa.Column('read_at', sa.DateTime(), nullable=True),
    sa.Column('error_message', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('extra_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_notifications_notification_type'), 'wf_notifications', ['notification_type'], unique=False)
    op.create_index(op.f('ix_wf_notifications_recipient_id'), 'wf_notifications', ['recipient_id'], unique=False)
    op.create_index(op.f('ix_wf_notifications_tenant_id'), 'wf_notifications', ['tenant_id'], unique=False)
    op.create_table('wf_step_instances',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_order', sa.Integer(), nullable=False),
    sa.Column('step_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assigned_to_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_to_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_to_role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('delegated_from_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action_taken', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action_by_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action_comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('activated_at', sa.DateTime(), nullable=True),
    sa.Column('due_date', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('sla_hours', sa.Integer(), nullable=True),
    sa.Column('is_overdue', sa.Boolean(), nullable=False),
    sa.Column('escalated_at', sa.DateTime(), nullable=True),
    sa.Column('escalated_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reminder_sent_count', sa.Integer(), nullable=False),
    sa.Column('last_reminder_at', sa.DateTime(), nullable=True),
    sa.Column('step_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_step_instances_instance_id'), 'wf_step_instances', ['instance_id'], unique=False)
    op.create_index(op.f('ix_wf_step_instances_step_id'), 'wf_step_instances', ['step_id'], unique=False)
    op.create_index(op.f('ix_wf_step_instances_tenant_id'), 'wf_step_instances', ['tenant_id'], unique=False)
    op.create_table('wf_steps',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_order', sa.Integer(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assignee_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assignee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assignee_expression', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('fallback_assignee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('require_all_approvers', sa.Boolean(), nullable=False),
    sa.Column('min_approvers', sa.Integer(), nullable=False),
    sa.Column('max_approvers', sa.Integer(), nullable=True),
    sa.Column('sla_hours', sa.Integer(), nullable=True),
    sa.Column('reminder_hours', sa.Integer(), nullable=True),
    sa.Column('escalation_hours', sa.Integer(), nullable=True),
    sa.Column('escalation_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allowed_actions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('form_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('required_fields', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('visible_fields', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('editable_fields', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('on_enter_script', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('on_exit_script', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('validation_script', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('position_x', sa.Integer(), nullable=False),
    sa.Column('position_y', sa.Integer(), nullable=False),
    sa.Column('color', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('icon', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_steps_tenant_id'), 'wf_steps', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wf_steps_workflow_id'), 'wf_steps', ['workflow_id'], unique=False)
    op.create_table('wf_task_escalations',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('escalation_level', sa.Integer(), nullable=False),
    sa.Column('escalation_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('escalated_from_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('escalated_from_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('escalated_to_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('escalated_to_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('action_taken', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('escalated_at', sa.DateTime(), nullable=False),
    sa.Column('resolved_at', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_task_escalations_task_id'), 'wf_task_escalations', ['task_id'], unique=False)
    op.create_index(op.f('ix_wf_task_escalations_tenant_id'), 'wf_task_escalations', ['tenant_id'], unique=False)
    op.create_table('wf_task_reminders',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reminder_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reminder_hours', sa.Integer(), nullable=False),
    sa.Column('scheduled_at', sa.DateTime(), nullable=False),
    sa.Column('sent_at', sa.DateTime(), nullable=True),
    sa.Column('is_sent', sa.Boolean(), nullable=False),
    sa.Column('recipient_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('recipient_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('recipient_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('channel', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('subject', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('message', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_task_reminders_task_id'), 'wf_task_reminders', ['task_id'], unique=False)
    op.create_index(op.f('ix_wf_task_reminders_tenant_id'), 'wf_task_reminders', ['tenant_id'], unique=False)
    op.create_table('wf_tasks',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('step_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approval_request_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('priority', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assigned_to_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_to_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_to_role', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(), nullable=True),
    sa.Column('delegated_from_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('delegated_from_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('claimed_by_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('claimed_by_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('claimed_at', sa.DateTime(), nullable=True),
    sa.Column('due_date', sa.DateTime(), nullable=True),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('sla_hours', sa.Integer(), nullable=True),
    sa.Column('is_overdue', sa.Boolean(), nullable=False),
    sa.Column('result', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('result_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('comments', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('form_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('form_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allowed_actions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('task_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('completed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_tasks_task_number'), 'wf_tasks', ['task_number'], unique=False)
    op.create_index(op.f('ix_wf_tasks_tenant_id'), 'wf_tasks', ['tenant_id'], unique=False)
    op.create_table('wf_transitions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('workflow_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('from_step_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('to_step_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('trigger_action', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('condition_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('condition_expression', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_transitions_from_step_id'), 'wf_transitions', ['from_step_id'], unique=False)
    op.create_index(op.f('ix_wf_transitions_tenant_id'), 'wf_transitions', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wf_transitions_to_step_id'), 'wf_transitions', ['to_step_id'], unique=False)
    op.create_index(op.f('ix_wf_transitions_workflow_id'), 'wf_transitions', ['workflow_id'], unique=False)
    op.create_table('wf_variables',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('step_instance_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('variable_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('variable_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('variable_value', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('scope', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wf_variables_instance_id'), 'wf_variables', ['instance_id'], unique=False)
    op.create_index(op.f('ix_wf_variables_tenant_id'), 'wf_variables', ['tenant_id'], unique=False)
    op.create_table('wms_product_categories',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('requires_lot', sa.Boolean(), nullable=False),
    sa.Column('requires_serial', sa.Boolean(), nullable=False),
    sa.Column('requires_expiry', sa.Boolean(), nullable=False),
    sa.Column('temperature_min', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('temperature_max', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('humidity_max', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('inventory_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('cogs_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('revenue_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['parent_id'], ['wms_product_categories.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_product_categories_code'), 'wms_product_categories', ['code'], unique=False)
    op.create_index(op.f('ix_wms_product_categories_id'), 'wms_product_categories', ['id'], unique=False)
    op.create_index(op.f('ix_wms_product_categories_parent_id'), 'wms_product_categories', ['parent_id'], unique=False)
    op.create_index(op.f('ix_wms_product_categories_tenant_id'), 'wms_product_categories', ['tenant_id'], unique=False)
    op.create_table('wms_product_units',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_base_unit', sa.Boolean(), nullable=False),
    sa.Column('conversion_factor', sa.Numeric(precision=18, scale=6), nullable=False),
    sa.Column('weight_kg', sa.Numeric(precision=12, scale=4), nullable=False),
    sa.Column('length_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('width_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('height_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('barcode', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_product_units_barcode'), 'wms_product_units', ['barcode'], unique=False)
    op.create_index(op.f('ix_wms_product_units_code'), 'wms_product_units', ['code'], unique=False)
    op.create_index(op.f('ix_wms_product_units_id'), 'wms_product_units', ['id'], unique=False)
    op.create_index(op.f('ix_wms_product_units_product_id'), 'wms_product_units', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_product_units_tenant_id'), 'wms_product_units', ['tenant_id'], unique=False)
    op.create_table('wms_products',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('short_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('track_lot', sa.Boolean(), nullable=False),
    sa.Column('track_serial', sa.Boolean(), nullable=False),
    sa.Column('track_expiry', sa.Boolean(), nullable=False),
    sa.Column('base_unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('purchase_unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('sales_unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('weight_kg', sa.Numeric(precision=12, scale=4), nullable=False),
    sa.Column('length_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('width_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('height_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('volume_cbm', sa.Numeric(precision=12, scale=6), nullable=False),
    sa.Column('standard_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('list_price', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('min_stock', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('max_stock', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('reorder_point', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('reorder_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('lead_time_days', sa.Integer(), nullable=False),
    sa.Column('default_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('shelf_life_days', sa.Integer(), nullable=True),
    sa.Column('default_vendor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('image_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_sellable', sa.Boolean(), nullable=False),
    sa.Column('is_purchasable', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['base_unit_id'], ['wms_product_units.id'], ),
    sa.ForeignKeyConstraint(['category_id'], ['wms_product_categories.id'], ),
    sa.ForeignKeyConstraint(['purchase_unit_id'], ['wms_product_units.id'], ),
    sa.ForeignKeyConstraint(['sales_unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_products_category_id'), 'wms_products', ['category_id'], unique=False)
    op.create_index(op.f('ix_wms_products_code'), 'wms_products', ['code'], unique=False)
    op.create_index(op.f('ix_wms_products_id'), 'wms_products', ['id'], unique=False)
    op.create_index(op.f('ix_wms_products_tenant_id'), 'wms_products', ['tenant_id'], unique=False)
    op.create_table('wms_warehouses',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('province', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('country', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('postal_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('manager_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_area_sqm', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('storage_capacity', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('used_capacity', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('allow_negative_stock', sa.Boolean(), nullable=False),
    sa.Column('use_lots', sa.Boolean(), nullable=False),
    sa.Column('use_serial_numbers', sa.Boolean(), nullable=False),
    sa.Column('use_expiry_dates', sa.Boolean(), nullable=False),
    sa.Column('operating_hours', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_warehouses_code'), 'wms_warehouses', ['code'], unique=False)
    op.create_index(op.f('ix_wms_warehouses_id'), 'wms_warehouses', ['id'], unique=False)
    op.create_index(op.f('ix_wms_warehouses_manager_id'), 'wms_warehouses', ['manager_id'], unique=False)
    op.create_index(op.f('ix_wms_warehouses_tenant_id'), 'wms_warehouses', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_warehouses_warehouse_type'), 'wms_warehouses', ['warehouse_type'], unique=False)
    op.create_table('acc_budget_periods',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('start_date', sa.DateTime(), nullable=False),
    sa.Column('end_date', sa.DateTime(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_budget_periods_code'), 'acc_budget_periods', ['code'], unique=False)
    op.create_index(op.f('ix_acc_budget_periods_id'), 'acc_budget_periods', ['id'], unique=False)
    op.create_index(op.f('ix_acc_budget_periods_tenant_id'), 'acc_budget_periods', ['tenant_id'], unique=False)
    op.create_table('acc_cit_declarations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('declaration_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('declaration_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('total_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('deductible_expenses', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('non_deductible_expenses', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('accounting_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('adjustments', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('taxable_income', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_rate', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_incentive', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_payable', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('prepaid_tax', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('amount_due', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('submitted_at', sa.DateTime(), nullable=True),
    sa.Column('submission_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_cit_declarations_declaration_number'), 'acc_cit_declarations', ['declaration_number'], unique=False)
    op.create_index(op.f('ix_acc_cit_declarations_id'), 'acc_cit_declarations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_cit_declarations_period'), 'acc_cit_declarations', ['period'], unique=False)
    op.create_index(op.f('ix_acc_cit_declarations_status'), 'acc_cit_declarations', ['status'], unique=False)
    op.create_index(op.f('ix_acc_cit_declarations_tenant_id'), 'acc_cit_declarations', ['tenant_id'], unique=False)
    op.create_table('acc_generated_reports',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_from', sa.DateTime(), nullable=False),
    sa.Column('period_to', sa.DateTime(), nullable=False),
    sa.Column('compare_period_from', sa.DateTime(), nullable=True),
    sa.Column('compare_period_to', sa.DateTime(), nullable=True),
    sa.Column('report_data', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('generated_at', sa.DateTime(), nullable=False),
    sa.Column('generated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.ForeignKeyConstraint(['template_id'], ['acc_report_templates.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_generated_reports_id'), 'acc_generated_reports', ['id'], unique=False)
    op.create_index(op.f('ix_acc_generated_reports_report_number'), 'acc_generated_reports', ['report_number'], unique=False)
    op.create_index(op.f('ix_acc_generated_reports_report_type'), 'acc_generated_reports', ['report_type'], unique=False)
    op.create_index(op.f('ix_acc_generated_reports_status'), 'acc_generated_reports', ['status'], unique=False)
    op.create_index(op.f('ix_acc_generated_reports_tenant_id'), 'acc_generated_reports', ['tenant_id'], unique=False)
    op.create_table('acc_report_template_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('template_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('line_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name_en', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('formula_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_codes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('formula', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('sign', sa.Integer(), nullable=False),
    sa.Column('is_bold', sa.Boolean(), nullable=False),
    sa.Column('is_italic', sa.Boolean(), nullable=False),
    sa.Column('is_total', sa.Boolean(), nullable=False),
    sa.Column('indent', sa.Integer(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['parent_id'], ['acc_report_template_lines.id'], ),
    sa.ForeignKeyConstraint(['template_id'], ['acc_report_templates.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_report_template_lines_id'), 'acc_report_template_lines', ['id'], unique=False)
    op.create_index(op.f('ix_acc_report_template_lines_template_id'), 'acc_report_template_lines', ['template_id'], unique=False)
    op.create_index(op.f('ix_acc_report_template_lines_tenant_id'), 'acc_report_template_lines', ['tenant_id'], unique=False)
    op.create_table('ctrl_activity_types',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uom', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('uom_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('default_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['default_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_activity_types_code'), 'ctrl_activity_types', ['code'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_types_id'), 'ctrl_activity_types', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_types_tenant_id'), 'ctrl_activity_types', ['tenant_id'], unique=False)
    op.create_table('ctrl_budgets',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_from', sa.DateTime(), nullable=False),
    sa.Column('period_to', sa.DateTime(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_committed', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_actual', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_remaining', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('submitted_at', sa.DateTime(), nullable=True),
    sa.Column('submitted_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('allow_overspend', sa.Boolean(), nullable=False),
    sa.Column('overspend_limit_percent', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.ForeignKeyConstraint(['project_id'], ['acc_projects.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_budgets_budget_type'), 'ctrl_budgets', ['budget_type'], unique=False)
    op.create_index(op.f('ix_ctrl_budgets_code'), 'ctrl_budgets', ['code'], unique=False)
    op.create_index(op.f('ix_ctrl_budgets_id'), 'ctrl_budgets', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_budgets_status'), 'ctrl_budgets', ['status'], unique=False)
    op.create_index(op.f('ix_ctrl_budgets_tenant_id'), 'ctrl_budgets', ['tenant_id'], unique=False)
    op.create_table('ctrl_cost_allocation_rules',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('sender_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('allocation_method', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_from', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('account_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('execution_frequency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('last_executed_at', sa.DateTime(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['sender_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_cost_allocation_rules_code'), 'ctrl_cost_allocation_rules', ['code'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_allocation_rules_id'), 'ctrl_cost_allocation_rules', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_allocation_rules_tenant_id'), 'ctrl_cost_allocation_rules', ['tenant_id'], unique=False)
    op.create_table('ctrl_cost_center_hierarchy',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('responsible_user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('budget_control_enabled', sa.Boolean(), nullable=False),
    sa.Column('budget_warning_threshold', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('budget_block_threshold', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('ytd_actual', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_variance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('allow_posting', sa.Boolean(), nullable=False),
    sa.Column('is_statistical', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['responsible_user_id'], ['users.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_cost_center_hierarchy_cost_center_id'), 'ctrl_cost_center_hierarchy', ['cost_center_id'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_center_hierarchy_id'), 'ctrl_cost_center_hierarchy', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_center_hierarchy_tenant_id'), 'ctrl_cost_center_hierarchy', ['tenant_id'], unique=False)
    op.create_table('ctrl_profit_centers',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('profit_center_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('manager_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('primary_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('revenue_target', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('profit_target', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('margin_target_percent', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('ytd_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_margin_percent', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['manager_id'], ['users.id'], ),
    sa.ForeignKeyConstraint(['parent_id'], ['ctrl_profit_centers.id'], ),
    sa.ForeignKeyConstraint(['primary_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_profit_centers_code'), 'ctrl_profit_centers', ['code'], unique=False)
    op.create_index(op.f('ix_ctrl_profit_centers_id'), 'ctrl_profit_centers', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_profit_centers_profit_center_type'), 'ctrl_profit_centers', ['profit_center_type'], unique=False)
    op.create_index(op.f('ix_ctrl_profit_centers_tenant_id'), 'ctrl_profit_centers', ['tenant_id'], unique=False)
    op.create_table('ctrl_segment_reports',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('segment_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_from', sa.DateTime(), nullable=False),
    sa.Column('period_to', sa.DateTime(), nullable=False),
    sa.Column('segment_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('segment_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('external_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('inter_segment_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('segment_expenses', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('depreciation', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('segment_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('segment_assets', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('segment_liabilities', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('capital_expenditure', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('revenue_share_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('profit_share_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('generated_at', sa.DateTime(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_segment_reports_id'), 'ctrl_segment_reports', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_segment_reports_report_code'), 'ctrl_segment_reports', ['report_code'], unique=False)
    op.create_index(op.f('ix_ctrl_segment_reports_segment_type'), 'ctrl_segment_reports', ['segment_type'], unique=False)
    op.create_index(op.f('ix_ctrl_segment_reports_tenant_id'), 'ctrl_segment_reports', ['tenant_id'], unique=False)
    op.create_table('hrm_bonuses',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('employee_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('bonus_type', sqlmodel.sql.sqltypes.AutoString(length=50), nullable=False),
    sa.Column('amount', sa.Numeric(precision=18, scale=2), nullable=False),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(length=500), nullable=False),
    sa.Column('effective_date', sa.Date(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(length=20), nullable=False),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(length=1000), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['approved_by'], ['users.id'], ),
    sa.ForeignKeyConstraint(['created_by'], ['users.id'], ),
    sa.ForeignKeyConstraint(['employee_id'], ['hrm_employees.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_hrm_bonuses_effective_date'), 'hrm_bonuses', ['effective_date'], unique=False)
    op.create_index(op.f('ix_hrm_bonuses_employee_id'), 'hrm_bonuses', ['employee_id'], unique=False)
    op.create_index(op.f('ix_hrm_bonuses_id'), 'hrm_bonuses', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_bonuses_status'), 'hrm_bonuses', ['status'], unique=False)
    op.create_index(op.f('ix_hrm_bonuses_tenant_id'), 'hrm_bonuses', ['tenant_id'], unique=False)
    op.create_table('permissions',
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('role_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('module', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('resource', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('action', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('conditions_json', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['role_id'], ['roles.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_permissions_id'), 'permissions', ['id'], unique=False)
    op.create_index(op.f('ix_permissions_module'), 'permissions', ['module'], unique=False)
    op.create_index(op.f('ix_permissions_resource'), 'permissions', ['resource'], unique=False)
    op.create_index(op.f('ix_permissions_role_id'), 'permissions', ['role_id'], unique=False)
    op.create_table('tenant_modules',
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('module_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('enabled_at', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('disabled_at', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('subscription_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('price_per_month', sa.Float(), nullable=True),
    sa.Column('max_users', sa.Integer(), nullable=True),
    sa.Column('max_records', sa.Integer(), nullable=True),
    sa.Column('settings_json', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['tenant_id'], ['tenants.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tenant_modules_id'), 'tenant_modules', ['id'], unique=False)
    op.create_index(op.f('ix_tenant_modules_module_code'), 'tenant_modules', ['module_code'], unique=False)
    op.create_index(op.f('ix_tenant_modules_tenant_id'), 'tenant_modules', ['tenant_id'], unique=False)
    op.create_table('user_roles',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('role_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assigned_at', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assigned_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['assigned_by'], ['users.id'], ),
    sa.ForeignKeyConstraint(['role_id'], ['roles.id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_roles_id'), 'user_roles', ['id'], unique=False)
    op.create_index(op.f('ix_user_roles_role_id'), 'user_roles', ['role_id'], unique=False)
    op.create_index(op.f('ix_user_roles_user_id'), 'user_roles', ['user_id'], unique=False)
    op.create_table('wms_product_barcodes',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('barcode', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('barcode_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_primary', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_product_barcodes_barcode'), 'wms_product_barcodes', ['barcode'], unique=False)
    op.create_index(op.f('ix_wms_product_barcodes_id'), 'wms_product_barcodes', ['id'], unique=False)
    op.create_index(op.f('ix_wms_product_barcodes_product_id'), 'wms_product_barcodes', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_product_barcodes_tenant_id'), 'wms_product_barcodes', ['tenant_id'], unique=False)
    op.create_table('wms_product_lots',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('serial_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('production_date', sa.DateTime(), nullable=True),
    sa.Column('expiry_date', sa.DateTime(), nullable=True),
    sa.Column('received_date', sa.DateTime(), nullable=True),
    sa.Column('supplier_lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('supplier_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('purchase_order_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('initial_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('current_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_product_lots_expiry_date'), 'wms_product_lots', ['expiry_date'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_id'), 'wms_product_lots', ['id'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_lot_number'), 'wms_product_lots', ['lot_number'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_product_id'), 'wms_product_lots', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_serial_number'), 'wms_product_lots', ['serial_number'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_status'), 'wms_product_lots', ['status'], unique=False)
    op.create_index(op.f('ix_wms_product_lots_tenant_id'), 'wms_product_lots', ['tenant_id'], unique=False)
    op.create_table('wms_warehouse_zones',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('zone_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('area_sqm', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('storage_capacity', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('is_temperature_controlled', sa.Boolean(), nullable=False),
    sa.Column('min_temperature', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('max_temperature', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('is_humidity_controlled', sa.Boolean(), nullable=False),
    sa.Column('min_humidity', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('max_humidity', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('restricted_access', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_warehouse_zones_code'), 'wms_warehouse_zones', ['code'], unique=False)
    op.create_index(op.f('ix_wms_warehouse_zones_id'), 'wms_warehouse_zones', ['id'], unique=False)
    op.create_index(op.f('ix_wms_warehouse_zones_tenant_id'), 'wms_warehouse_zones', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_warehouse_zones_warehouse_id'), 'wms_warehouse_zones', ['warehouse_id'], unique=False)
    op.create_index(op.f('ix_wms_warehouse_zones_zone_type'), 'wms_warehouse_zones', ['zone_type'], unique=False)
    op.create_table('acc_bank_statements',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('bank_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('statement_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('statement_date', sa.DateTime(), nullable=False),
    sa.Column('start_date', sa.DateTime(), nullable=False),
    sa.Column('end_date', sa.DateTime(), nullable=False),
    sa.Column('opening_balance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('closing_balance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_debit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('transaction_count', sa.Integer(), nullable=False),
    sa.Column('import_file', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('imported_at', sa.DateTime(), nullable=True),
    sa.Column('imported_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_reconciled', sa.Boolean(), nullable=False),
    sa.Column('reconciliation_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['bank_account_id'], ['acc_bank_accounts.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_bank_statements_bank_account_id'), 'acc_bank_statements', ['bank_account_id'], unique=False)
    op.create_index(op.f('ix_acc_bank_statements_id'), 'acc_bank_statements', ['id'], unique=False)
    op.create_index(op.f('ix_acc_bank_statements_statement_number'), 'acc_bank_statements', ['statement_number'], unique=False)
    op.create_index(op.f('ix_acc_bank_statements_tenant_id'), 'acc_bank_statements', ['tenant_id'], unique=False)
    op.create_table('acc_budget_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('jan', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('feb', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('mar', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('apr', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('may', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('jun', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('jul', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('aug', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('sep', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('oct', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('nov', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('dec', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['account_id'], ['acc_chart_of_accounts.id'], ),
    sa.ForeignKeyConstraint(['budget_period_id'], ['acc_budget_periods.id'], ),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_budget_lines_account_id'), 'acc_budget_lines', ['account_id'], unique=False)
    op.create_index(op.f('ix_acc_budget_lines_budget_period_id'), 'acc_budget_lines', ['budget_period_id'], unique=False)
    op.create_index(op.f('ix_acc_budget_lines_id'), 'acc_budget_lines', ['id'], unique=False)
    op.create_index(op.f('ix_acc_budget_lines_tenant_id'), 'acc_budget_lines', ['tenant_id'], unique=False)
    op.create_table('acc_budget_vs_actual',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('budget_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('actual_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_percent', sa.Numeric(precision=8, scale=2), nullable=False),
    sa.Column('ytd_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_actual', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_variance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.ForeignKeyConstraint(['account_id'], ['acc_chart_of_accounts.id'], ),
    sa.ForeignKeyConstraint(['budget_period_id'], ['acc_budget_periods.id'], ),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['fiscal_period_id'], ['acc_fiscal_periods.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_budget_vs_actual_account_id'), 'acc_budget_vs_actual', ['account_id'], unique=False)
    op.create_index(op.f('ix_acc_budget_vs_actual_budget_period_id'), 'acc_budget_vs_actual', ['budget_period_id'], unique=False)
    op.create_index(op.f('ix_acc_budget_vs_actual_id'), 'acc_budget_vs_actual', ['id'], unique=False)
    op.create_index(op.f('ix_acc_budget_vs_actual_tenant_id'), 'acc_budget_vs_actual', ['tenant_id'], unique=False)
    op.create_table('acc_cash_counts',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cash_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('count_date', sa.DateTime(), nullable=False),
    sa.Column('count_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('book_balance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('denominations', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('actual_balance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('difference', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('difference_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('counted_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('verified_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('confirmed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['cash_account_id'], ['acc_bank_accounts.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_cash_counts_cash_account_id'), 'acc_cash_counts', ['cash_account_id'], unique=False)
    op.create_index(op.f('ix_acc_cash_counts_count_date'), 'acc_cash_counts', ['count_date'], unique=False)
    op.create_index(op.f('ix_acc_cash_counts_count_number'), 'acc_cash_counts', ['count_number'], unique=False)
    op.create_index(op.f('ix_acc_cash_counts_id'), 'acc_cash_counts', ['id'], unique=False)
    op.create_index(op.f('ix_acc_cash_counts_tenant_id'), 'acc_cash_counts', ['tenant_id'], unique=False)
    op.create_table('acc_trial_balance_reports',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('report_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('opening_debit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('opening_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_debit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_debit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('closing_debit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('closing_credit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.ForeignKeyConstraint(['account_id'], ['acc_chart_of_accounts.id'], ),
    sa.ForeignKeyConstraint(['report_id'], ['acc_generated_reports.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_trial_balance_reports_id'), 'acc_trial_balance_reports', ['id'], unique=False)
    op.create_index(op.f('ix_acc_trial_balance_reports_report_id'), 'acc_trial_balance_reports', ['report_id'], unique=False)
    op.create_index(op.f('ix_acc_trial_balance_reports_tenant_id'), 'acc_trial_balance_reports', ['tenant_id'], unique=False)
    op.create_table('ctrl_activities',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('activity_type_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('planned_quantity', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('actual_quantity', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('available_capacity', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('planned_price', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('actual_price', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['activity_type_id'], ['ctrl_activity_types.id'], ),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_activities_activity_type_id'), 'ctrl_activities', ['activity_type_id'], unique=False)
    op.create_index(op.f('ix_ctrl_activities_code'), 'ctrl_activities', ['code'], unique=False)
    op.create_index(op.f('ix_ctrl_activities_id'), 'ctrl_activities', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_activities_tenant_id'), 'ctrl_activities', ['tenant_id'], unique=False)
    op.create_table('ctrl_budget_versions',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('version_number', sa.Integer(), nullable=False),
    sa.Column('version_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('is_current', sa.Boolean(), nullable=False),
    sa.Column('is_approved', sa.Boolean(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['budget_id'], ['ctrl_budgets.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_budget_versions_budget_id'), 'ctrl_budget_versions', ['budget_id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_versions_id'), 'ctrl_budget_versions', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_versions_tenant_id'), 'ctrl_budget_versions', ['tenant_id'], unique=False)
    op.create_table('ctrl_cost_allocations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('rule_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receiver_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('allocation_percentage', sa.Numeric(precision=10, scale=4), nullable=False),
    sa.Column('allocation_base_value', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('fixed_amount', sa.Numeric(precision=20, scale=2), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['receiver_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['rule_id'], ['ctrl_cost_allocation_rules.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_cost_allocations_id'), 'ctrl_cost_allocations', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_allocations_rule_id'), 'ctrl_cost_allocations', ['rule_id'], unique=False)
    op.create_index(op.f('ix_ctrl_cost_allocations_tenant_id'), 'ctrl_cost_allocations', ['tenant_id'], unique=False)
    op.create_table('ctrl_internal_orders',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('order_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('order_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('responsible_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('responsible_user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('profit_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_date', sa.DateTime(), nullable=False),
    sa.Column('end_date', sa.DateTime(), nullable=True),
    sa.Column('planned_total', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('committed_total', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('actual_total', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('remaining_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('settlement_rule_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_settled', sa.Boolean(), nullable=False),
    sa.Column('settled_at', sa.DateTime(), nullable=True),
    sa.Column('settled_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('allow_posting', sa.Boolean(), nullable=False),
    sa.Column('statistical_only', sa.Boolean(), nullable=False),
    sa.Column('technically_completed_at', sa.DateTime(), nullable=True),
    sa.Column('closed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['profit_center_id'], ['ctrl_profit_centers.id'], ),
    sa.ForeignKeyConstraint(['project_id'], ['acc_projects.id'], ),
    sa.ForeignKeyConstraint(['responsible_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['responsible_user_id'], ['users.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_internal_orders_id'), 'ctrl_internal_orders', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_orders_order_number'), 'ctrl_internal_orders', ['order_number'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_orders_order_type'), 'ctrl_internal_orders', ['order_type'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_orders_status'), 'ctrl_internal_orders', ['status'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_orders_tenant_id'), 'ctrl_internal_orders', ['tenant_id'], unique=False)
    op.create_table('ctrl_profit_analysis',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('profit_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('period_date', sa.DateTime(), nullable=False),
    sa.Column('gross_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('discounts', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('net_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('direct_costs', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('indirect_costs', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('allocated_costs', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_costs', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('gross_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('gross_margin_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('operating_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('operating_margin_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('net_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('net_margin_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('budget_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('budget_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('prev_revenue', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('prev_profit', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('growth_revenue_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('growth_profit_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('calculated_at', sa.DateTime(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['fiscal_period_id'], ['acc_fiscal_periods.id'], ),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.ForeignKeyConstraint(['profit_center_id'], ['ctrl_profit_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_profit_analysis_id'), 'ctrl_profit_analysis', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_profit_analysis_profit_center_id'), 'ctrl_profit_analysis', ['profit_center_id'], unique=False)
    op.create_index(op.f('ix_ctrl_profit_analysis_tenant_id'), 'ctrl_profit_analysis', ['tenant_id'], unique=False)
    op.create_table('wms_delivery_orders',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_date', sa.DateTime(), nullable=False),
    sa.Column('delivery_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('shipping_zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ship_to_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ship_to_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ship_to_city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ship_to_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('carrier_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('carrier_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('shipping_method', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('tracking_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('expected_delivery_date', sa.DateTime(), nullable=True),
    sa.Column('actual_delivery_date', sa.DateTime(), nullable=True),
    sa.Column('total_lines', sa.Integer(), nullable=False),
    sa.Column('total_ordered_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_picked_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_shipped_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_weight_kg', sa.Numeric(precision=12, scale=4), nullable=False),
    sa.Column('total_volume_cbm', sa.Numeric(precision=12, scale=6), nullable=False),
    sa.Column('total_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('picker_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('packer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('shipped_at', sa.DateTime(), nullable=True),
    sa.Column('delivered_at', sa.DateTime(), nullable=True),
    sa.Column('pod_signature', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('pod_photo', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['shipping_zone_id'], ['wms_warehouse_zones.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_delivery_orders_customer_id'), 'wms_delivery_orders', ['customer_id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_delivery_date'), 'wms_delivery_orders', ['delivery_date'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_delivery_number'), 'wms_delivery_orders', ['delivery_number'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_delivery_type'), 'wms_delivery_orders', ['delivery_type'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_id'), 'wms_delivery_orders', ['id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_status'), 'wms_delivery_orders', ['status'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_tenant_id'), 'wms_delivery_orders', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_orders_warehouse_id'), 'wms_delivery_orders', ['warehouse_id'], unique=False)
    op.create_table('wms_goods_receipts',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receipt_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receipt_date', sa.DateTime(), nullable=False),
    sa.Column('receipt_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receiving_zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('supplier_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('supplier_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('supplier_delivery_note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('carrier_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('vehicle_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('driver_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('expected_arrival_date', sa.DateTime(), nullable=True),
    sa.Column('actual_arrival_date', sa.DateTime(), nullable=True),
    sa.Column('total_lines', sa.Integer(), nullable=False),
    sa.Column('total_expected_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_received_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_rejected_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receiver_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('received_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['receiving_zone_id'], ['wms_warehouse_zones.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_goods_receipts_id'), 'wms_goods_receipts', ['id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_receipt_date'), 'wms_goods_receipts', ['receipt_date'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_receipt_number'), 'wms_goods_receipts', ['receipt_number'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_receipt_type'), 'wms_goods_receipts', ['receipt_type'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_status'), 'wms_goods_receipts', ['status'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_supplier_id'), 'wms_goods_receipts', ['supplier_id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_tenant_id'), 'wms_goods_receipts', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipts_warehouse_id'), 'wms_goods_receipts', ['warehouse_id'], unique=False)
    op.create_table('wms_stock_transfers',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_date', sa.DateTime(), nullable=False),
    sa.Column('transfer_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('source_warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('source_zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dest_warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dest_zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_lines', sa.Integer(), nullable=False),
    sa.Column('total_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_received_qty', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('carrier_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('vehicle_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('driver_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('expected_arrival_date', sa.DateTime(), nullable=True),
    sa.Column('actual_arrival_date', sa.DateTime(), nullable=True),
    sa.Column('shipped_at', sa.DateTime(), nullable=True),
    sa.Column('shipped_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('received_at', sa.DateTime(), nullable=True),
    sa.Column('received_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dest_warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['dest_zone_id'], ['wms_warehouse_zones.id'], ),
    sa.ForeignKeyConstraint(['source_warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['source_zone_id'], ['wms_warehouse_zones.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_transfers_dest_warehouse_id'), 'wms_stock_transfers', ['dest_warehouse_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_id'), 'wms_stock_transfers', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_source_warehouse_id'), 'wms_stock_transfers', ['source_warehouse_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_status'), 'wms_stock_transfers', ['status'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_tenant_id'), 'wms_stock_transfers', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_transfer_date'), 'wms_stock_transfers', ['transfer_date'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_transfer_number'), 'wms_stock_transfers', ['transfer_number'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfers_transfer_type'), 'wms_stock_transfers', ['transfer_type'], unique=False)
    op.create_table('wms_storage_locations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('barcode', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('aisle', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('rack', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('shelf', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('bin', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('width_cm', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('depth_cm', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('height_cm', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('max_weight_kg', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('max_items', sa.Integer(), nullable=True),
    sa.Column('current_items', sa.Integer(), nullable=False),
    sa.Column('picking_priority', sa.Integer(), nullable=False),
    sa.Column('putaway_priority', sa.Integer(), nullable=False),
    sa.Column('allowed_product_categories', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_reserved', sa.Boolean(), nullable=False),
    sa.Column('reserved_for_product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['zone_id'], ['wms_warehouse_zones.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_storage_locations_barcode'), 'wms_storage_locations', ['barcode'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_code'), 'wms_storage_locations', ['code'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_id'), 'wms_storage_locations', ['id'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_location_type'), 'wms_storage_locations', ['location_type'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_tenant_id'), 'wms_storage_locations', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_warehouse_id'), 'wms_storage_locations', ['warehouse_id'], unique=False)
    op.create_index(op.f('ix_wms_storage_locations_zone_id'), 'wms_storage_locations', ['zone_id'], unique=False)
    op.create_table('acc_asset_disposals',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('asset_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('disposal_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('disposal_date', sa.DateTime(), nullable=False),
    sa.Column('disposal_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('original_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('accumulated_depreciation', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('book_value', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('disposal_proceeds', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('disposal_costs', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('gain_loss', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('buyer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('buyer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('invoice_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['asset_id'], ['acc_fixed_assets.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_asset_disposals_asset_id'), 'acc_asset_disposals', ['asset_id'], unique=False)
    op.create_index(op.f('ix_acc_asset_disposals_disposal_date'), 'acc_asset_disposals', ['disposal_date'], unique=False)
    op.create_index(op.f('ix_acc_asset_disposals_disposal_number'), 'acc_asset_disposals', ['disposal_number'], unique=False)
    op.create_index(op.f('ix_acc_asset_disposals_id'), 'acc_asset_disposals', ['id'], unique=False)
    op.create_index(op.f('ix_acc_asset_disposals_tenant_id'), 'acc_asset_disposals', ['tenant_id'], unique=False)
    op.create_table('acc_asset_maintenances',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('asset_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('maintenance_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('maintenance_date', sa.DateTime(), nullable=False),
    sa.Column('maintenance_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('labor_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('parts_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('other_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('is_capitalized', sa.Boolean(), nullable=False),
    sa.Column('capitalized_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('extended_life_months', sa.Integer(), nullable=False),
    sa.Column('vendor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('vendor_invoice', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['asset_id'], ['acc_fixed_assets.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_asset_maintenances_asset_id'), 'acc_asset_maintenances', ['asset_id'], unique=False)
    op.create_index(op.f('ix_acc_asset_maintenances_id'), 'acc_asset_maintenances', ['id'], unique=False)
    op.create_index(op.f('ix_acc_asset_maintenances_maintenance_date'), 'acc_asset_maintenances', ['maintenance_date'], unique=False)
    op.create_index(op.f('ix_acc_asset_maintenances_maintenance_number'), 'acc_asset_maintenances', ['maintenance_number'], unique=False)
    op.create_index(op.f('ix_acc_asset_maintenances_tenant_id'), 'acc_asset_maintenances', ['tenant_id'], unique=False)
    op.create_table('acc_asset_revaluations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('asset_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('revaluation_date', sa.DateTime(), nullable=False),
    sa.Column('previous_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('previous_accumulated_depreciation', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('previous_book_value', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('new_cost', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('new_accumulated_depreciation', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('new_book_value', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('revaluation_surplus', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('new_useful_life_months', sa.Integer(), nullable=True),
    sa.Column('new_monthly_depreciation', sa.Numeric(precision=20, scale=2), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('appraiser', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['asset_id'], ['acc_fixed_assets.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_asset_revaluations_asset_id'), 'acc_asset_revaluations', ['asset_id'], unique=False)
    op.create_index(op.f('ix_acc_asset_revaluations_id'), 'acc_asset_revaluations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_asset_revaluations_revaluation_date'), 'acc_asset_revaluations', ['revaluation_date'], unique=False)
    op.create_index(op.f('ix_acc_asset_revaluations_tenant_id'), 'acc_asset_revaluations', ['tenant_id'], unique=False)
    op.create_table('acc_asset_transfers',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('asset_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_date', sa.DateTime(), nullable=False),
    sa.Column('from_location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_assigned_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_department_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_assigned_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['asset_id'], ['acc_fixed_assets.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_asset_transfers_asset_id'), 'acc_asset_transfers', ['asset_id'], unique=False)
    op.create_index(op.f('ix_acc_asset_transfers_id'), 'acc_asset_transfers', ['id'], unique=False)
    op.create_index(op.f('ix_acc_asset_transfers_tenant_id'), 'acc_asset_transfers', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_asset_transfers_transfer_date'), 'acc_asset_transfers', ['transfer_date'], unique=False)
    op.create_index(op.f('ix_acc_asset_transfers_transfer_number'), 'acc_asset_transfers', ['transfer_number'], unique=False)
    op.create_table('acc_vat_transactions',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transaction_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transaction_date', sa.DateTime(), nullable=False),
    sa.Column('vat_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tax_rate_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tax_rate', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('invoice_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('invoice_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('invoice_date', sa.DateTime(), nullable=False),
    sa.Column('invoice_series', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('partner_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('partner_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('partner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('partner_tax_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('partner_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('goods_service_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('base_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('exchange_rate', sa.Numeric(precision=15, scale=6), nullable=False),
    sa.Column('is_deductible', sa.Boolean(), nullable=False),
    sa.Column('non_deductible_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('declaration_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('declaration_period', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['declaration_id'], ['acc_vat_declarations.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.ForeignKeyConstraint(['tax_rate_id'], ['acc_tax_rates.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_vat_transactions_id'), 'acc_vat_transactions', ['id'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_partner_id'), 'acc_vat_transactions', ['partner_id'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_partner_tax_code'), 'acc_vat_transactions', ['partner_tax_code'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_tenant_id'), 'acc_vat_transactions', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_transaction_date'), 'acc_vat_transactions', ['transaction_date'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_transaction_number'), 'acc_vat_transactions', ['transaction_number'], unique=False)
    op.create_index(op.f('ix_acc_vat_transactions_vat_type'), 'acc_vat_transactions', ['vat_type'], unique=False)
    op.create_table('ctrl_activity_allocations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('allocation_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('allocation_date', sa.DateTime(), nullable=False),
    sa.Column('sender_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('activity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receiver_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receiver_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('receiver_internal_order_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('receiver_project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('rate', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('fiscal_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['activity_id'], ['ctrl_activities.id'], ),
    sa.ForeignKeyConstraint(['fiscal_period_id'], ['acc_fiscal_periods.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.ForeignKeyConstraint(['receiver_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['receiver_internal_order_id'], ['ctrl_internal_orders.id'], ),
    sa.ForeignKeyConstraint(['receiver_project_id'], ['acc_projects.id'], ),
    sa.ForeignKeyConstraint(['sender_cost_center_id'], ['acc_cost_centers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_activity_allocations_allocation_number'), 'ctrl_activity_allocations', ['allocation_number'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_allocations_id'), 'ctrl_activity_allocations', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_allocations_tenant_id'), 'ctrl_activity_allocations', ['tenant_id'], unique=False)
    op.create_table('ctrl_activity_rates',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('activity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_year_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('fiscal_period_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('planned_rate', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('actual_rate', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('fixed_cost_rate', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('variable_cost_rate', sa.Numeric(precision=15, scale=4), nullable=False),
    sa.Column('is_released', sa.Boolean(), nullable=False),
    sa.Column('released_at', sa.DateTime(), nullable=True),
    sa.Column('released_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['activity_id'], ['ctrl_activities.id'], ),
    sa.ForeignKeyConstraint(['fiscal_period_id'], ['acc_fiscal_periods.id'], ),
    sa.ForeignKeyConstraint(['fiscal_year_id'], ['acc_fiscal_years.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_activity_rates_activity_id'), 'ctrl_activity_rates', ['activity_id'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_rates_id'), 'ctrl_activity_rates', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_activity_rates_tenant_id'), 'ctrl_activity_rates', ['tenant_id'], unique=False)
    op.create_table('ctrl_budget_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('version_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('period_01', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_02', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_03', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_04', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_05', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_06', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_07', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_08', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_09', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_10', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_11', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_12', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('annual_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_budget', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_actual', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('ytd_variance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['account_id'], ['acc_chart_of_accounts.id'], ),
    sa.ForeignKeyConstraint(['budget_id'], ['ctrl_budgets.id'], ),
    sa.ForeignKeyConstraint(['cost_center_id'], ['acc_cost_centers.id'], ),
    sa.ForeignKeyConstraint(['project_id'], ['acc_projects.id'], ),
    sa.ForeignKeyConstraint(['version_id'], ['ctrl_budget_versions.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_budget_lines_budget_id'), 'ctrl_budget_lines', ['budget_id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_lines_id'), 'ctrl_budget_lines', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_lines_tenant_id'), 'ctrl_budget_lines', ['tenant_id'], unique=False)
    op.create_table('ctrl_internal_order_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('internal_order_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('account_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('planned_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('committed_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('actual_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('remaining_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('variance_percent', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['account_id'], ['acc_chart_of_accounts.id'], ),
    sa.ForeignKeyConstraint(['internal_order_id'], ['ctrl_internal_orders.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_internal_order_lines_id'), 'ctrl_internal_order_lines', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_order_lines_internal_order_id'), 'ctrl_internal_order_lines', ['internal_order_id'], unique=False)
    op.create_index(op.f('ix_ctrl_internal_order_lines_tenant_id'), 'ctrl_internal_order_lines', ['tenant_id'], unique=False)
    op.create_table('wms_delivery_order_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ordered_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('picked_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('packed_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('shipped_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('serial_numbers', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_price', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_price', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('weight_kg', sa.Numeric(precision=12, scale=4), nullable=False),
    sa.Column('volume_cbm', sa.Numeric(precision=12, scale=6), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['delivery_id'], ['wms_delivery_orders.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['source_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_delivery_order_lines_delivery_id'), 'wms_delivery_order_lines', ['delivery_id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_order_lines_id'), 'wms_delivery_order_lines', ['id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_order_lines_product_id'), 'wms_delivery_order_lines', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_delivery_order_lines_tenant_id'), 'wms_delivery_order_lines', ['tenant_id'], unique=False)
    op.create_table('wms_goods_receipt_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receipt_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('expected_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('received_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('rejected_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('serial_numbers', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('production_date', sa.DateTime(), nullable=True),
    sa.Column('expiry_date', sa.DateTime(), nullable=True),
    sa.Column('dest_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quality_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('rejection_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dest_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['receipt_id'], ['wms_goods_receipts.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_goods_receipt_lines_id'), 'wms_goods_receipt_lines', ['id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipt_lines_product_id'), 'wms_goods_receipt_lines', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipt_lines_receipt_id'), 'wms_goods_receipt_lines', ['receipt_id'], unique=False)
    op.create_index(op.f('ix_wms_goods_receipt_lines_tenant_id'), 'wms_goods_receipt_lines', ['tenant_id'], unique=False)
    op.create_table('wms_inventory_counts',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('count_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('count_date', sa.DateTime(), nullable=False),
    sa.Column('count_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('zone_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_stock_frozen', sa.Boolean(), nullable=False),
    sa.Column('frozen_at', sa.DateTime(), nullable=True),
    sa.Column('total_lines', sa.Integer(), nullable=False),
    sa.Column('lines_counted', sa.Integer(), nullable=False),
    sa.Column('lines_with_variance', sa.Integer(), nullable=False),
    sa.Column('total_system_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_counted_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_variance_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('counter_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('verifier_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['category_id'], ['wms_product_categories.id'], ),
    sa.ForeignKeyConstraint(['location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['zone_id'], ['wms_warehouse_zones.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_inventory_counts_count_date'), 'wms_inventory_counts', ['count_date'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_count_number'), 'wms_inventory_counts', ['count_number'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_count_type'), 'wms_inventory_counts', ['count_type'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_id'), 'wms_inventory_counts', ['id'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_status'), 'wms_inventory_counts', ['status'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_tenant_id'), 'wms_inventory_counts', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_inventory_counts_warehouse_id'), 'wms_inventory_counts', ['warehouse_id'], unique=False)
    op.create_table('wms_packing_tasks',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('package_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('package_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('length_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('width_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('height_cm', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('weight_kg', sa.Numeric(precision=12, scale=4), nullable=False),
    sa.Column('items', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(), nullable=True),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['delivery_id'], ['wms_delivery_orders.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_packing_tasks_assigned_to'), 'wms_packing_tasks', ['assigned_to'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_delivery_id'), 'wms_packing_tasks', ['delivery_id'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_id'), 'wms_packing_tasks', ['id'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_package_number'), 'wms_packing_tasks', ['package_number'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_status'), 'wms_packing_tasks', ['status'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_task_number'), 'wms_packing_tasks', ['task_number'], unique=False)
    op.create_index(op.f('ix_wms_packing_tasks_tenant_id'), 'wms_packing_tasks', ['tenant_id'], unique=False)
    op.create_table('wms_stock_adjustments',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('adjustment_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('adjustment_date', sa.DateTime(), nullable=False),
    sa.Column('adjustment_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('source_document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity_before', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('adjustment_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_after', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('adjustment_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('inventory_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('adjustment_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_adjustments_adjustment_date'), 'wms_stock_adjustments', ['adjustment_date'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_adjustment_number'), 'wms_stock_adjustments', ['adjustment_number'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_adjustment_type'), 'wms_stock_adjustments', ['adjustment_type'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_id'), 'wms_stock_adjustments', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_product_id'), 'wms_stock_adjustments', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_status'), 'wms_stock_adjustments', ['status'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_tenant_id'), 'wms_stock_adjustments', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_adjustments_warehouse_id'), 'wms_stock_adjustments', ['warehouse_id'], unique=False)
    op.create_table('wms_stock_levels',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity_on_hand', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_reserved', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_available', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_incoming', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_outgoing', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('last_count_date', sa.DateTime(), nullable=True),
    sa.Column('last_move_date', sa.DateTime(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_levels_id'), 'wms_stock_levels', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_levels_location_id'), 'wms_stock_levels', ['location_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_levels_lot_id'), 'wms_stock_levels', ['lot_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_levels_product_id'), 'wms_stock_levels', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_levels_tenant_id'), 'wms_stock_levels', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_levels_warehouse_id'), 'wms_stock_levels', ['warehouse_id'], unique=False)
    op.create_table('wms_stock_moves',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('move_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('move_date', sa.DateTime(), nullable=False),
    sa.Column('move_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dest_warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dest_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_done', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('source_document', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('confirmed_at', sa.DateTime(), nullable=True),
    sa.Column('confirmed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('done_at', sa.DateTime(), nullable=True),
    sa.Column('done_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dest_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['dest_warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['source_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['source_warehouse_id'], ['wms_warehouses.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_moves_id'), 'wms_stock_moves', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_move_date'), 'wms_stock_moves', ['move_date'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_move_number'), 'wms_stock_moves', ['move_number'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_move_type'), 'wms_stock_moves', ['move_type'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_product_id'), 'wms_stock_moves', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_status'), 'wms_stock_moves', ['status'], unique=False)
    op.create_index(op.f('ix_wms_stock_moves_tenant_id'), 'wms_stock_moves', ['tenant_id'], unique=False)
    op.create_table('wms_stock_reservations',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reservation_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('warehouse_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity_reserved', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_fulfilled', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('source_document_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('source_document_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('source_document_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reservation_date', sa.DateTime(), nullable=False),
    sa.Column('expiry_date', sa.DateTime(), nullable=True),
    sa.Column('fulfillment_date', sa.DateTime(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['wms_warehouses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_reservations_id'), 'wms_stock_reservations', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_reservations_product_id'), 'wms_stock_reservations', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_reservations_reservation_number'), 'wms_stock_reservations', ['reservation_number'], unique=False)
    op.create_index(op.f('ix_wms_stock_reservations_status'), 'wms_stock_reservations', ['status'], unique=False)
    op.create_index(op.f('ix_wms_stock_reservations_tenant_id'), 'wms_stock_reservations', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_reservations_warehouse_id'), 'wms_stock_reservations', ['warehouse_id'], unique=False)
    op.create_table('wms_stock_transfer_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('transfer_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('received_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('serial_numbers', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dest_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('total_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dest_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['source_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['transfer_id'], ['wms_stock_transfers.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_stock_transfer_lines_id'), 'wms_stock_transfer_lines', ['id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfer_lines_product_id'), 'wms_stock_transfer_lines', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfer_lines_tenant_id'), 'wms_stock_transfer_lines', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_stock_transfer_lines_transfer_id'), 'wms_stock_transfer_lines', ['transfer_id'], unique=False)
    op.create_table('acc_bank_statement_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('statement_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('transaction_date', sa.DateTime(), nullable=False),
    sa.Column('value_date', sa.DateTime(), nullable=True),
    sa.Column('credit_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('debit_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('running_balance', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('partner_info', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_matched', sa.Boolean(), nullable=False),
    sa.Column('matched_transaction_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('match_confidence', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.ForeignKeyConstraint(['matched_transaction_id'], ['acc_bank_transactions.id'], ),
    sa.ForeignKeyConstraint(['statement_id'], ['acc_bank_statements.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_bank_statement_lines_id'), 'acc_bank_statement_lines', ['id'], unique=False)
    op.create_index(op.f('ix_acc_bank_statement_lines_statement_id'), 'acc_bank_statement_lines', ['statement_id'], unique=False)
    op.create_index(op.f('ix_acc_bank_statement_lines_tenant_id'), 'acc_bank_statement_lines', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_bank_statement_lines_transaction_date'), 'acc_bank_statement_lines', ['transaction_date'], unique=False)
    op.create_table('acc_bank_transfers',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_date', sa.DateTime(), nullable=False),
    sa.Column('from_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('from_transaction_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_account_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('to_transaction_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('from_currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('to_currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('exchange_rate', sa.Numeric(precision=15, scale=6), nullable=False),
    sa.Column('from_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('to_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('exchange_gain_loss', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['from_account_id'], ['acc_bank_accounts.id'], ),
    sa.ForeignKeyConstraint(['from_transaction_id'], ['acc_bank_transactions.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.ForeignKeyConstraint(['to_account_id'], ['acc_bank_accounts.id'], ),
    sa.ForeignKeyConstraint(['to_transaction_id'], ['acc_bank_transactions.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_bank_transfers_id'), 'acc_bank_transfers', ['id'], unique=False)
    op.create_index(op.f('ix_acc_bank_transfers_tenant_id'), 'acc_bank_transfers', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_bank_transfers_transfer_date'), 'acc_bank_transfers', ['transfer_date'], unique=False)
    op.create_index(op.f('ix_acc_bank_transfers_transfer_number'), 'acc_bank_transfers', ['transfer_number'], unique=False)
    op.create_table('acc_credit_notes',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('credit_note_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('credit_note_date', sa.DateTime(), nullable=False),
    sa.Column('customer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('customer_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('invoice_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['invoice_id'], ['acc_customer_invoices.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_credit_notes_credit_note_date'), 'acc_credit_notes', ['credit_note_date'], unique=False)
    op.create_index(op.f('ix_acc_credit_notes_credit_note_number'), 'acc_credit_notes', ['credit_note_number'], unique=False)
    op.create_index(op.f('ix_acc_credit_notes_customer_id'), 'acc_credit_notes', ['customer_id'], unique=False)
    op.create_index(op.f('ix_acc_credit_notes_id'), 'acc_credit_notes', ['id'], unique=False)
    op.create_index(op.f('ix_acc_credit_notes_tenant_id'), 'acc_credit_notes', ['tenant_id'], unique=False)
    op.create_table('acc_debit_notes',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('debit_note_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('debit_note_date', sa.DateTime(), nullable=False),
    sa.Column('vendor_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('vendor_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('vendor_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('invoice_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('tax_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('journal_entry_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['invoice_id'], ['acc_vendor_invoices.id'], ),
    sa.ForeignKeyConstraint(['journal_entry_id'], ['acc_journal_entries.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acc_debit_notes_debit_note_date'), 'acc_debit_notes', ['debit_note_date'], unique=False)
    op.create_index(op.f('ix_acc_debit_notes_debit_note_number'), 'acc_debit_notes', ['debit_note_number'], unique=False)
    op.create_index(op.f('ix_acc_debit_notes_id'), 'acc_debit_notes', ['id'], unique=False)
    op.create_index(op.f('ix_acc_debit_notes_tenant_id'), 'acc_debit_notes', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_acc_debit_notes_vendor_id'), 'acc_debit_notes', ['vendor_id'], unique=False)
    op.create_table('ctrl_budget_revisions',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('revision_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('revision_date', sa.DateTime(), nullable=False),
    sa.Column('budget_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('budget_line_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('revision_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('original_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('revision_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('new_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('period_number', sa.Integer(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['budget_id'], ['ctrl_budgets.id'], ),
    sa.ForeignKeyConstraint(['budget_line_id'], ['ctrl_budget_lines.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_budget_revisions_budget_id'), 'ctrl_budget_revisions', ['budget_id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_revisions_id'), 'ctrl_budget_revisions', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_revisions_revision_number'), 'ctrl_budget_revisions', ['revision_number'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_revisions_tenant_id'), 'ctrl_budget_revisions', ['tenant_id'], unique=False)
    op.create_table('ctrl_budget_transfers',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('transfer_date', sa.DateTime(), nullable=False),
    sa.Column('from_budget_line_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('from_account_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('from_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('to_budget_line_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('to_account_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('to_cost_center_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('transfer_amount', sa.Numeric(precision=20, scale=2), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('reason', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('approved_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['from_budget_line_id'], ['ctrl_budget_lines.id'], ),
    sa.ForeignKeyConstraint(['to_budget_line_id'], ['ctrl_budget_lines.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ctrl_budget_transfers_id'), 'ctrl_budget_transfers', ['id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_transfers_tenant_id'), 'ctrl_budget_transfers', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_ctrl_budget_transfers_transfer_number'), 'ctrl_budget_transfers', ['transfer_number'], unique=False)
    op.create_table('wms_inventory_count_lines',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('count_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('line_number', sa.Integer(), nullable=False),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('product_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('unit_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lot_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('system_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('counted_quantity', sa.Numeric(precision=18, scale=4), nullable=True),
    sa.Column('variance_quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('unit_cost', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('system_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('counted_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('variance_value', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('counted_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('counted_at', sa.DateTime(), nullable=True),
    sa.Column('verified_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('verified_at', sa.DateTime(), nullable=True),
    sa.Column('variance_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['count_id'], ['wms_inventory_counts.id'], ),
    sa.ForeignKeyConstraint(['location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['wms_product_units.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_inventory_count_lines_count_id'), 'wms_inventory_count_lines', ['count_id'], unique=False)
    op.create_index(op.f('ix_wms_inventory_count_lines_id'), 'wms_inventory_count_lines', ['id'], unique=False)
    op.create_index(op.f('ix_wms_inventory_count_lines_product_id'), 'wms_inventory_count_lines', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_inventory_count_lines_tenant_id'), 'wms_inventory_count_lines', ['tenant_id'], unique=False)
    op.create_table('wms_picking_tasks',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('delivery_line_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dest_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_done', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('assigned_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('wave_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['delivery_id'], ['wms_delivery_orders.id'], ),
    sa.ForeignKeyConstraint(['delivery_line_id'], ['wms_delivery_order_lines.id'], ),
    sa.ForeignKeyConstraint(['dest_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['source_location_id'], ['wms_storage_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_picking_tasks_assigned_to'), 'wms_picking_tasks', ['assigned_to'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_delivery_id'), 'wms_picking_tasks', ['delivery_id'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_id'), 'wms_picking_tasks', ['id'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_product_id'), 'wms_picking_tasks', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_status'), 'wms_picking_tasks', ['status'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_task_number'), 'wms_picking_tasks', ['task_number'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_tenant_id'), 'wms_picking_tasks', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_wms_picking_tasks_wave_id'), 'wms_picking_tasks', ['wave_id'], unique=False)
    op.create_table('wms_putaway_tasks',
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('task_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receipt_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('receipt_line_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('product_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('lot_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dest_location_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('quantity', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('quantity_done', sa.Numeric(precision=18, scale=4), nullable=False),
    sa.Column('assigned_to', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dest_location_id'], ['wms_storage_locations.id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['wms_product_lots.id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['wms_products.id'], ),
    sa.ForeignKeyConstraint(['receipt_id'], ['wms_goods_receipts.id'], ),
    sa.ForeignKeyConstraint(['receipt_line_id'], ['wms_goods_receipt_lines.id'], ),
    sa.ForeignKeyConstraint(['source_location_id'], ['wms_storage_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_wms_putaway_tasks_assigned_to'), 'wms_putaway_tasks', ['assigned_to'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_id'), 'wms_putaway_tasks', ['id'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_product_id'), 'wms_putaway_tasks', ['product_id'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_receipt_id'), 'wms_putaway_tasks', ['receipt_id'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_status'), 'wms_putaway_tasks', ['status'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_task_number'), 'wms_putaway_tasks', ['task_number'], unique=False)
    op.create_index(op.f('ix_wms_putaway_tasks_tenant_id'), 'wms_putaway_tasks', ['tenant_id'], unique=False)
    op.drop_index(op.f('idx_trip_shipments_shipment'), table_name='trip_shipments')
    op.drop_index(op.f('idx_trip_shipments_trip'), table_name='trip_shipments')
    op.drop_table('trip_shipments')
    op.drop_index(op.f('ix_crm_activity_logs_action'), table_name='crm_activity_logs')
    op.drop_index(op.f('ix_crm_activity_logs_entity'), table_name='crm_activity_logs')
    op.drop_index(op.f('ix_crm_activity_logs_entity_id'), table_name='crm_activity_logs')
    op.drop_index(op.f('ix_crm_activity_logs_entity_type'), table_name='crm_activity_logs')
    op.drop_index(op.f('ix_crm_activity_logs_tenant_id'), table_name='crm_activity_logs')
    op.drop_index(op.f('ix_crm_activity_logs_user_id'), table_name='crm_activity_logs')
    op.drop_table('crm_activity_logs')
    op.drop_index(op.f('ix_trip_id'), table_name='trip')
    op.drop_table('trip')
    op.alter_column('acc_account_balances', 'debit_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'credit_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'currency_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'currency_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_account_balances_id'), 'acc_account_balances', ['id'], unique=False)
    op.alter_column('acc_asset_depreciations', 'opening_book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'depreciation_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'accumulated_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'closing_book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'is_posted',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_asset_depreciations_depreciation_date'), 'acc_asset_depreciations', ['depreciation_date'], unique=False)
    op.create_index(op.f('ix_acc_asset_depreciations_id'), 'acc_asset_depreciations', ['id'], unique=False)
    op.alter_column('acc_bank_accounts', 'account_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'is_primary',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'current_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'available_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'opening_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'last_reconcile_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_bank_accounts_account_type'), 'acc_bank_accounts', ['account_type'], unique=False)
    op.create_index(op.f('ix_acc_bank_accounts_id'), 'acc_bank_accounts', ['id'], unique=False)
    op.alter_column('acc_bank_reconciliations', 'statement_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'book_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'deposits_in_transit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'outstanding_checks',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'bank_charges',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'bank_interest',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'other_adjustments',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'adjusted_statement_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'adjusted_book_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'difference',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_bank_reconciliations_id'), 'acc_bank_reconciliations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_bank_reconciliations_reconciliation_date'), 'acc_bank_reconciliations', ['reconciliation_date'], unique=False)
    op.create_index(op.f('ix_acc_bank_reconciliations_status'), 'acc_bank_reconciliations', ['status'], unique=False)
    op.alter_column('acc_bank_transactions', 'transaction_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'running_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'is_reconciled',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_bank_transactions_id'), 'acc_bank_transactions', ['id'], unique=False)
    op.create_index(op.f('ix_acc_bank_transactions_is_reconciled'), 'acc_bank_transactions', ['is_reconciled'], unique=False)
    op.create_index(op.f('ix_acc_bank_transactions_partner_id'), 'acc_bank_transactions', ['partner_id'], unique=False)
    op.create_index(op.f('ix_acc_bank_transactions_transaction_number'), 'acc_bank_transactions', ['transaction_number'], unique=False)
    op.create_index(op.f('ix_acc_bank_transactions_transaction_type'), 'acc_bank_transactions', ['transaction_type'], unique=False)
    op.alter_column('acc_chart_of_accounts', 'level',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_parent',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'classification',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'nature',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_system',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'allow_posting',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_partner',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_cost_center',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_project',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'allow_multi_currency',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'opening_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'opening_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'current_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'current_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_chart_of_accounts_category'), 'acc_chart_of_accounts', ['category'], unique=False)
    op.create_index(op.f('ix_acc_chart_of_accounts_id'), 'acc_chart_of_accounts', ['id'], unique=False)
    op.create_index(op.f('ix_acc_chart_of_accounts_is_active'), 'acc_chart_of_accounts', ['is_active'], unique=False)
    op.alter_column('acc_cost_centers', 'budget_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_cost_centers', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_cost_centers_id'), 'acc_cost_centers', ['id'], unique=False)
    op.alter_column('acc_customer_invoice_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'unit_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'tax_rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'line_total',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_customer_invoice_lines_id'), 'acc_customer_invoice_lines', ['id'], unique=False)
    op.alter_column('acc_customer_invoices', 'invoice_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'subtotal',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'total_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'total_amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'paid_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'balance_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_customer_invoices_due_date'), 'acc_customer_invoices', ['due_date'], unique=False)
    op.create_index(op.f('ix_acc_customer_invoices_id'), 'acc_customer_invoices', ['id'], unique=False)
    op.create_index(op.f('ix_acc_customer_invoices_invoice_date'), 'acc_customer_invoices', ['invoice_date'], unique=False)
    op.create_index(op.f('ix_acc_customer_invoices_invoice_type'), 'acc_customer_invoices', ['invoice_type'], unique=False)
    op.alter_column('acc_fiscal_periods', 'is_open',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fiscal_periods', 'is_adjustment',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_fiscal_periods_id'), 'acc_fiscal_periods', ['id'], unique=False)
    op.alter_column('acc_fiscal_years', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fiscal_years', 'is_closed',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_fiscal_years_id'), 'acc_fiscal_years', ['id'], unique=False)
    op.alter_column('acc_fixed_asset_categories', 'category_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_useful_life',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_depreciation_method',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_salvage_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_fixed_asset_categories_id'), 'acc_fixed_asset_categories', ['id'], unique=False)
    op.alter_column('acc_fixed_assets', 'purchase_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'additional_costs',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'original_cost',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'salvage_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'depreciable_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'depreciation_method',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'useful_life_months',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'remaining_life_months',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'monthly_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'accumulated_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'disposal_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'disposal_gain_loss',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'is_fully_depreciated',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_fixed_assets_id'), 'acc_fixed_assets', ['id'], unique=False)
    op.create_index(op.f('ix_acc_fixed_assets_vehicle_id'), 'acc_fixed_assets', ['vehicle_id'], unique=False)
    op.alter_column('acc_general_ledger', 'opening_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'opening_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'period_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'period_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'closing_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'closing_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_general_ledger_account_code'), 'acc_general_ledger', ['account_code'], unique=False)
    op.create_index(op.f('ix_acc_general_ledger_id'), 'acc_general_ledger', ['id'], unique=False)
    op.create_index(op.f('ix_acc_general_ledger_partner_id'), 'acc_general_ledger', ['partner_id'], unique=False)
    op.alter_column('acc_journal_entries', 'total_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'total_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_journal_entries_id'), 'acc_journal_entries', ['id'], unique=False)
    op.create_index(op.f('ix_acc_journal_entries_journal_id'), 'acc_journal_entries', ['journal_id'], unique=False)
    op.alter_column('acc_journal_entry_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'debit_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'credit_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'amount_currency',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'is_reconciled',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_journal_entry_lines_id'), 'acc_journal_entry_lines', ['id'], unique=False)
    op.create_index(op.f('ix_acc_journal_entry_lines_partner_id'), 'acc_journal_entry_lines', ['partner_id'], unique=False)
    op.alter_column('acc_journals', 'journal_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journals', 'sequence_prefix',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journals', 'next_sequence',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journals', 'sequence_padding',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_journals', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_journals_id'), 'acc_journals', ['id'], unique=False)
    op.alter_column('acc_payment_receipt_allocations', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_payment_receipt_allocations_id'), 'acc_payment_receipt_allocations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_payment_receipt_allocations_invoice_id'), 'acc_payment_receipt_allocations', ['invoice_id'], unique=False)
    op.create_index(op.f('ix_acc_payment_receipt_allocations_receipt_id'), 'acc_payment_receipt_allocations', ['receipt_id'], unique=False)
    op.alter_column('acc_payment_receipts', 'payment_method',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'unallocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_payment_receipts_id'), 'acc_payment_receipts', ['id'], unique=False)
    op.create_index(op.f('ix_acc_payment_receipts_receipt_date'), 'acc_payment_receipts', ['receipt_date'], unique=False)
    op.alter_column('acc_payment_voucher_allocations', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_payment_voucher_allocations_id'), 'acc_payment_voucher_allocations', ['id'], unique=False)
    op.create_index(op.f('ix_acc_payment_voucher_allocations_invoice_id'), 'acc_payment_voucher_allocations', ['invoice_id'], unique=False)
    op.create_index(op.f('ix_acc_payment_voucher_allocations_voucher_id'), 'acc_payment_voucher_allocations', ['voucher_id'], unique=False)
    op.alter_column('acc_payment_vouchers', 'payment_method',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'unallocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_payment_vouchers_id'), 'acc_payment_vouchers', ['id'], unique=False)
    op.create_index(op.f('ix_acc_payment_vouchers_voucher_date'), 'acc_payment_vouchers', ['voucher_date'], unique=False)
    op.alter_column('acc_projects', 'budget_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_projects', 'actual_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_projects', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_projects', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_projects_id'), 'acc_projects', ['id'], unique=False)
    op.alter_column('acc_tax_rates', 'tax_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'rate_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'is_default',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_tax_rates_id'), 'acc_tax_rates', ['id'], unique=False)
    op.alter_column('acc_vendor_invoice_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'unit_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'tax_rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'line_total',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'received_quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_vendor_invoice_lines_id'), 'acc_vendor_invoice_lines', ['id'], unique=False)
    op.alter_column('acc_vendor_invoices', 'invoice_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'is_matched',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'subtotal',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'total_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'total_amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'paid_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'balance_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=None,
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.create_index(op.f('ix_acc_vendor_invoices_due_date'), 'acc_vendor_invoices', ['due_date'], unique=False)
    op.create_index(op.f('ix_acc_vendor_invoices_id'), 'acc_vendor_invoices', ['id'], unique=False)
    op.create_index(op.f('ix_acc_vendor_invoices_invoice_date'), 'acc_vendor_invoices', ['invoice_date'], unique=False)
    op.create_index(op.f('ix_acc_vendor_invoices_invoice_type'), 'acc_vendor_invoices', ['invoice_type'], unique=False)
    op.alter_column('crm_accounts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_accounts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_accounts', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'country',
               existing_type=sa.VARCHAR(length=100),
               nullable=False)
    op.alter_column('crm_accounts', 'credit_limit',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_accounts', 'credit_days',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('crm_accounts', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=False)
    op.alter_column('crm_accounts', 'default_pickup_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'default_delivery_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'service_preferences',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'synced_to_tms',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_accounts', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('ix_crm_accounts_tenant_status'), table_name='crm_accounts')
    op.drop_index(op.f('ix_crm_accounts_tenant_type'), table_name='crm_accounts')
    op.create_index(op.f('ix_crm_accounts_account_type'), 'crm_accounts', ['account_type'], unique=False)
    op.create_index(op.f('ix_crm_accounts_id'), 'crm_accounts', ['id'], unique=False)
    op.create_index(op.f('ix_crm_accounts_status'), 'crm_accounts', ['status'], unique=False)
    op.create_index(op.f('ix_crm_accounts_tax_code'), 'crm_accounts', ['tax_code'], unique=False)
    op.alter_column('crm_activities', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_activities', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_activities', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'priority',
               existing_type=sa.VARCHAR(length=10),
               nullable=False)
    op.alter_column('crm_activities', 'participants',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'reminded',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_activities', 'outcome',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'next_action',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('ix_crm_activities_tenant_type_status'), table_name='crm_activities')
    op.create_index(op.f('ix_crm_activities_id'), 'crm_activities', ['id'], unique=False)
    op.alter_column('crm_contacts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contacts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contacts', 'last_name',
               existing_type=sa.VARCHAR(length=100),
               nullable=True)
    op.alter_column('crm_contacts', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=True)
    op.alter_column('crm_contacts', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_contacts', 'is_primary',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_contacts', 'is_billing_contact',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_contacts', 'is_shipping_contact',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_contacts', 'decision_maker',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('crm_contacts', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('crm_contacts', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_crm_contacts_email'), 'crm_contacts', ['email'], unique=False)
    op.create_index(op.f('ix_crm_contacts_id'), 'crm_contacts', ['id'], unique=False)
    op.add_column('crm_contract_items', sa.Column('product_code', sqlmodel.sql.sqltypes.AutoString(length=50), nullable=True))
    op.add_column('crm_contract_items', sa.Column('billing_start_date', sa.Date(), nullable=True))
    op.add_column('crm_contract_items', sa.Column('billing_end_date', sa.Date(), nullable=True))
    op.add_column('crm_contract_items', sa.Column('billing_frequency', sqlmodel.sql.sqltypes.AutoString(length=50), nullable=True))
    op.add_column('crm_contract_items', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.alter_column('crm_contract_items', 'product_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=False)
    op.alter_column('crm_contract_items', 'quantity',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contract_items', 'unit_price',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contract_items', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contract_items', 'tax_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contract_items', 'line_total',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contract_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=False)
    op.create_index(op.f('ix_crm_contract_items_id'), 'crm_contract_items', ['id'], unique=False)
    op.drop_column('crm_contract_items', 'line_number')
    op.drop_column('crm_contract_items', 'service_type')
    op.drop_column('crm_contract_items', 'notes')
    op.alter_column('crm_contracts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contracts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=False)
    op.alter_column('crm_contracts', 'start_date',
               existing_type=sa.VARCHAR(length=20),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'end_date',
               existing_type=sa.VARCHAR(length=20),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'signed_date',
               existing_type=sa.VARCHAR(length=20),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'total_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_contracts', 'currency',
               existing_type=sa.VARCHAR(length=10),
               type_=sqlmodel.sql.sqltypes.AutoString(length=3),
               nullable=False)
    op.alter_column('crm_contracts', 'payment_terms',
               existing_type=sa.VARCHAR(length=100),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'auto_renew',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contracts', 'renewal_notice_days',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_contracts', 'terms_conditions',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=10000),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.create_index(op.f('ix_crm_contracts_id'), 'crm_contracts', ['id'], unique=False)
    op.alter_column('crm_customer_groups', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_customer_groups', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_customer_groups', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_customer_groups', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_customer_groups', 'credit_limit_default',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_customer_groups', 'priority',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('crm_customer_groups', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.create_index(op.f('ix_crm_customer_groups_id'), 'crm_customer_groups', ['id'], unique=False)
    op.alter_column('crm_leads', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_leads', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_leads', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.alter_column('crm_leads', 'last_name',
               existing_type=sa.VARCHAR(length=100),
               nullable=True)
    op.alter_column('crm_leads', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=True)
    op.alter_column('crm_leads', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_leads', 'country',
               existing_type=sa.VARCHAR(length=100),
               nullable=False)
    op.alter_column('crm_leads', 'estimated_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_leads', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_leads', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('ix_crm_leads_source'), table_name='crm_leads')
    op.drop_index(op.f('ix_crm_leads_tenant_status'), table_name='crm_leads')
    op.create_index(op.f('ix_crm_leads_company_name'), 'crm_leads', ['company_name'], unique=False)
    op.create_index(op.f('ix_crm_leads_email'), 'crm_leads', ['email'], unique=False)
    op.create_index(op.f('ix_crm_leads_id'), 'crm_leads', ['id'], unique=False)
    op.create_foreign_key(None, 'crm_leads', 'crm_opportunities', ['converted_opportunity_id'], ['id'])
    op.create_foreign_key(None, 'crm_leads', 'crm_accounts', ['converted_account_id'], ['id'])
    op.create_foreign_key(None, 'crm_leads', 'crm_contacts', ['converted_contact_id'], ['id'])
    op.alter_column('crm_opportunities', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_opportunities', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_opportunities', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.alter_column('crm_opportunities', 'probability',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_opportunities', 'amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_opportunities', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=False)
    op.alter_column('crm_opportunities', 'close_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'next_step',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('ix_crm_opportunities_tenant_stage'), table_name='crm_opportunities')
    op.create_index(op.f('ix_crm_opportunities_id'), 'crm_opportunities', ['id'], unique=False)
    op.alter_column('crm_quote_items', 'line_number',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('crm_quote_items', 'service_category',
               existing_type=sa.VARCHAR(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_quote_items', 'service_type',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.alter_column('crm_quote_items', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               nullable=True)
    op.alter_column('crm_quote_items', 'quantity',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quote_items', 'unit_price',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quote_items', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quote_items', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quote_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_quotes', 'version',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('crm_quotes', 'subtotal',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'discount_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'tax_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'tax_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'total_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=False)
    op.alter_column('crm_quotes', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=False)
    op.alter_column('crm_quotes', 'payment_terms',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'delivery_terms',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'terms_conditions',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'rejection_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_quotes', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.create_index(op.f('ix_crm_quotes_id'), 'crm_quotes', ['id'], unique=False)
    op.create_index(op.f('ix_crm_quotes_status'), 'crm_quotes', ['status'], unique=False)
    op.create_foreign_key(None, 'crm_quotes', 'crm_quotes', ['parent_quote_id'], ['id'])
    op.alter_column('crm_sales_order_items', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('crm_sales_order_items', 'quantity',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=12, scale=4),
               nullable=False)
    op.alter_column('crm_sales_order_items', 'quantity_shipped',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_order_items', 'quantity_delivered',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_order_items', 'quantity_returned',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_order_items', 'unit_price',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_order_items', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('crm_sales_order_items', 'discount_amount',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_order_items', 'tax_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('crm_sales_order_items', 'tax_amount',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_order_items', 'line_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_order_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.create_index(op.f('ix_crm_sales_order_items_id'), 'crm_sales_order_items', ['id'], unique=False)
    op.create_index(op.f('ix_crm_sales_order_items_product_id'), 'crm_sales_order_items', ['product_id'], unique=False)
    op.create_foreign_key(None, 'crm_sales_order_items', 'crm_sales_orders', ['sales_order_id'], ['id'])
    op.alter_column('crm_sales_orders', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_orders', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=False)
    op.alter_column('crm_sales_orders', 'order_date',
               existing_type=sa.VARCHAR(length=20),
               type_=sa.Date(),
               nullable=False)
    op.alter_column('crm_sales_orders', 'delivery_date',
               existing_type=sa.VARCHAR(length=20),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'subtotal',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_orders', 'tax_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_orders', 'discount_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_orders', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_orders', 'shipping_cost',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_orders', 'total_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('crm_sales_orders', 'amount_paid',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_orders', 'amount_due',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=None,
               nullable=False)
    op.alter_column('crm_sales_orders', 'currency',
               existing_type=sa.VARCHAR(length=10),
               type_=sqlmodel.sql.sqltypes.AutoString(length=3),
               nullable=False)
    op.alter_column('crm_sales_orders', 'shipping_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'billing_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'payment_terms',
               existing_type=sa.VARCHAR(length=100),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'internal_notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.create_index(op.f('ix_crm_sales_orders_created_by'), 'crm_sales_orders', ['created_by'], unique=False)
    op.create_index(op.f('ix_crm_sales_orders_delivery_date'), 'crm_sales_orders', ['delivery_date'], unique=False)
    op.create_index(op.f('ix_crm_sales_orders_id'), 'crm_sales_orders', ['id'], unique=False)
    op.create_index(op.f('ix_crm_sales_orders_order_date'), 'crm_sales_orders', ['order_date'], unique=False)
    op.create_index(op.f('ix_crm_sales_orders_payment_status'), 'crm_sales_orders', ['payment_status'], unique=False)
    op.create_foreign_key(None, 'crm_sales_orders', 'crm_contracts', ['contract_id'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'crm_quotes', ['quote_id'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'users', ['confirmed_by'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'users', ['approved_by'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'users', ['updated_by'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'crm_contacts', ['contact_id'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'users', ['created_by'], ['id'])
    op.create_foreign_key(None, 'crm_sales_orders', 'crm_accounts', ['account_id'], ['id'])
    op.alter_column('driver_salary_settings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'distance_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_bracket_13',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_13',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'port_gate_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'flatbed_tarp_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'warehouse_to_customer_bonus',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'second_trip_bonus',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'third_trip_bonus',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'bonus_45_50_trips',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'bonus_51_54_trips',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'bonus_55_plus_trips',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'holiday_multiplier',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               server_default=None,
               nullable=False)
    op.alter_column('driver_salary_settings', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               nullable=False)
    op.drop_index(op.f('idx_driver_salary_settings_tenant'), table_name='driver_salary_settings')
    op.create_index(op.f('ix_driver_salary_settings_id'), 'driver_salary_settings', ['id'], unique=False)
    op.create_index(op.f('ix_driver_salary_settings_tenant_id'), 'driver_salary_settings', ['tenant_id'], unique=False)
    op.alter_column('drivers', 'base_salary',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('drivers', 'dependent_count',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.drop_index(op.f('idx_drivers_tractor'), table_name='drivers')
    op.drop_index(op.f('idx_drivers_trailer'), table_name='drivers')
    op.drop_index(op.f('idx_drivers_vehicle'), table_name='drivers')
    op.create_index(op.f('ix_drivers_tractor_id'), 'drivers', ['tractor_id'], unique=False)
    op.create_index(op.f('ix_drivers_trailer_id'), 'drivers', ['trailer_id'], unique=False)
    op.create_index(op.f('ix_drivers_vehicle_id'), 'drivers', ['vehicle_id'], unique=False)
    op.drop_constraint(op.f('fk_drivers_employee_id'), 'drivers', type_='foreignkey')
    op.create_foreign_key(None, 'drivers', 'trailers', ['trailer_id'], ['id'])
    op.create_foreign_key(None, 'drivers', 'vehicles', ['tractor_id'], ['id'])
    op.create_foreign_key(None, 'drivers', 'vehicles', ['vehicle_id'], ['id'])
    op.alter_column('empty_returns', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('empty_returns', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('empty_returns', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('empty_returns', 'return_date',
               existing_type=sa.DATE(),
               nullable=True)
    op.alter_column('empty_returns', 'port_site_id',
               existing_type=sa.VARCHAR(),
               nullable=True)
    op.alter_column('empty_returns', 'cleaning_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'cleaning_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'lift_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'lift_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'storage_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'storage_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'repair_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'repair_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'other_fee',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'other_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'total_amount',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'total_paid',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('empty_returns', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_empty_returns_order_id'), table_name='empty_returns')
    op.drop_index(op.f('idx_empty_returns_port_site_id'), table_name='empty_returns')
    op.drop_index(op.f('idx_empty_returns_return_date'), table_name='empty_returns')
    op.drop_index(op.f('idx_empty_returns_status'), table_name='empty_returns')
    op.drop_index(op.f('idx_empty_returns_tenant_id'), table_name='empty_returns')
    op.create_index(op.f('ix_empty_returns_id'), 'empty_returns', ['id'], unique=False)
    op.create_index(op.f('ix_empty_returns_order_id'), 'empty_returns', ['order_id'], unique=False)
    op.create_index(op.f('ix_empty_returns_port_site_id'), 'empty_returns', ['port_site_id'], unique=False)
    op.create_index(op.f('ix_empty_returns_return_date'), 'empty_returns', ['return_date'], unique=False)
    op.create_index(op.f('ix_empty_returns_status'), 'empty_returns', ['status'], unique=False)
    op.create_index(op.f('ix_empty_returns_tenant_id'), 'empty_returns', ['tenant_id'], unique=False)
    op.drop_constraint(op.f('empty_returns_order_id_fkey'), 'empty_returns', type_='foreignkey')
    op.create_foreign_key(None, 'empty_returns', 'orders', ['order_id'], ['id'])
    op.alter_column('fuel_logs', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('fuel_logs', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('fuel_logs', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('fuel_logs', 'payment_status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_fuel_logs_date'), table_name='fuel_logs')
    op.drop_index(op.f('idx_fuel_logs_driver_id'), table_name='fuel_logs')
    op.drop_index(op.f('idx_fuel_logs_payment_status'), table_name='fuel_logs')
    op.drop_index(op.f('idx_fuel_logs_tenant_id'), table_name='fuel_logs')
    op.drop_index(op.f('idx_fuel_logs_vehicle_id'), table_name='fuel_logs')
    op.create_index(op.f('ix_fuel_logs_date'), 'fuel_logs', ['date'], unique=False)
    op.create_index(op.f('ix_fuel_logs_driver_id'), 'fuel_logs', ['driver_id'], unique=False)
    op.create_index(op.f('ix_fuel_logs_id'), 'fuel_logs', ['id'], unique=False)
    op.create_index(op.f('ix_fuel_logs_payment_status'), 'fuel_logs', ['payment_status'], unique=False)
    op.create_index(op.f('ix_fuel_logs_tenant_id'), 'fuel_logs', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_fuel_logs_vehicle_id'), 'fuel_logs', ['vehicle_id'], unique=False)
    op.drop_constraint(op.f('fuel_logs_driver_id_fkey'), 'fuel_logs', type_='foreignkey')
    op.drop_constraint(op.f('fuel_logs_vehicle_id_fkey'), 'fuel_logs', type_='foreignkey')
    op.create_foreign_key(None, 'fuel_logs', 'vehicles', ['vehicle_id'], ['id'])
    op.create_foreign_key(None, 'fuel_logs', 'drivers', ['driver_id'], ['id'])
    op.alter_column('hrm_advance_repayments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_advance_repayments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_advance_repayments', 'repayment_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'repayment_method',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_advance_repayments_id'), 'hrm_advance_repayments', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_advance_repayments_payroll_record_id'), 'hrm_advance_repayments', ['payroll_record_id'], unique=False)
    op.create_index(op.f('ix_hrm_advance_repayments_repayment_date'), 'hrm_advance_repayments', ['repayment_date'], unique=False)
    op.create_foreign_key(None, 'hrm_advance_repayments', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_advance_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_advance_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_advance_requests', 'request_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=30),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'requested_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'approved_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'purpose',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'advance_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'request_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'needed_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'rejection_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'paid_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'repaid_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'remaining_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'repayment_method',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               nullable=False)
    op.alter_column('hrm_advance_requests', 'deduction_start_month',
               existing_type=sa.VARCHAR(length=10),
               type_=sqlmodel.sql.sqltypes.AutoString(length=7),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'monthly_deduction_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_advance_requests_id'), 'hrm_advance_requests', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_advance_requests_request_date'), 'hrm_advance_requests', ['request_date'], unique=False)
    op.create_index(op.f('ix_hrm_advance_requests_trip_id'), 'hrm_advance_requests', ['trip_id'], unique=False)
    op.create_foreign_key(None, 'hrm_advance_requests', 'trips', ['trip_id'], ['id'])
    op.create_foreign_key(None, 'hrm_advance_requests', 'users', ['created_by'], ['id'])
    op.create_foreign_key(None, 'hrm_advance_requests', 'users', ['paid_by'], ['id'])
    op.alter_column('hrm_attendance_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_attendance_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_attendance_records', 'date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_attendance_records', 'check_in_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.DateTime(),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'check_out_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.DateTime(),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'late_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'early_leave_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'working_hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'overtime_hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'work_units',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=2),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'trip_ids_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'is_approved',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_attendance_records', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.drop_index(op.f('ix_hrm_attendance_tenant_date'), table_name='hrm_attendance_records')
    op.create_index(op.f('ix_hrm_attendance_records_id'), 'hrm_attendance_records', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_attendance_records_shift_id'), 'hrm_attendance_records', ['shift_id'], unique=False)
    op.create_foreign_key(None, 'hrm_attendance_records', 'users', ['approved_by'], ['id'])
    op.alter_column('hrm_branches', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_branches', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_branches', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_branches', 'is_headquarters',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_branches', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_branches', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_branches_id'), 'hrm_branches', ['id'], unique=False)
    op.alter_column('hrm_candidates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_candidates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_candidates', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'resume_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'cover_letter',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'portfolio_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'skills_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'languages_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'status',
               existing_type=sa.VARCHAR(length=30),
               nullable=False)
    op.alter_column('hrm_candidates', 'rejection_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_candidates_id'), 'hrm_candidates', ['id'], unique=False)
    op.alter_column('hrm_certificates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_certificates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_certificates', 'certificate_number',
               existing_type=sa.VARCHAR(length=100),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'certificate_type',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'issue_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'expiry_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'license_class',
               existing_type=sa.VARCHAR(length=20),
               type_=sqlmodel.sql.sqltypes.AutoString(length=10),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'file_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'alert_before_days',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_certificates', 'is_verified',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_certificates', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_certificates_expiry_date'), 'hrm_certificates', ['expiry_date'], unique=False)
    op.create_index(op.f('ix_hrm_certificates_id'), 'hrm_certificates', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_certificates_issue_date'), 'hrm_certificates', ['issue_date'], unique=False)
    op.create_index(op.f('ix_hrm_certificates_training_id'), 'hrm_certificates', ['training_id'], unique=False)
    op.create_foreign_key(None, 'hrm_certificates', 'users', ['verified_by'], ['id'])
    op.alter_column('hrm_contracts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_contracts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_contracts', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_contracts', 'sign_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_contracts', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'basic_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_contracts', 'insurance_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'allowances_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'probation_salary_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_contracts', 'job_title',
               existing_type=sa.VARCHAR(length=255),
               type_=sqlmodel.sql.sqltypes.AutoString(length=100),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'job_description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'working_hours_per_day',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=1),
               nullable=False)
    op.alter_column('hrm_contracts', 'working_days_per_week',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=1),
               nullable=False)
    op.alter_column('hrm_contracts', 'termination_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'termination_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'contract_file_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'employee_signed_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'company_signed_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'expiry_alert_days',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_contracts', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_contracts_end_date'), 'hrm_contracts', ['end_date'], unique=False)
    op.create_index(op.f('ix_hrm_contracts_id'), 'hrm_contracts', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_contracts_previous_contract_id'), 'hrm_contracts', ['previous_contract_id'], unique=False)
    op.create_index(op.f('ix_hrm_contracts_start_date'), 'hrm_contracts', ['start_date'], unique=False)
    op.create_foreign_key(None, 'hrm_contracts', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_deductions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_deductions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_deductions', 'deduction_type',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'description',
               existing_type=sa.VARCHAR(length=255),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'total_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_deductions', 'remaining_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_deductions', 'monthly_deduction',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_deductions', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_deductions', 'interest_rate',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_deductions', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_deductions', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_deductions_id'), 'hrm_deductions', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_deductions_is_active'), 'hrm_deductions', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_deductions_start_date'), 'hrm_deductions', ['start_date'], unique=False)
    op.create_foreign_key(None, 'hrm_deductions', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_departments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_departments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_departments', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_departments', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_departments', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_departments_id'), 'hrm_departments', ['id'], unique=False)
    op.alter_column('hrm_employee_dependents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_dependents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_dependents', 'date_of_birth',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'id_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'tax_code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'deduction_from',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'deduction_to',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'document_type',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=100),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'document_number',
               existing_type=sa.VARCHAR(length=100),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_employee_dependents', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_employee_dependents_id'), 'hrm_employee_dependents', ['id'], unique=False)
    op.alter_column('hrm_employee_documents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_documents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_documents', 'document_number',
               existing_type=sa.VARCHAR(length=100),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'issue_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'expiry_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'file_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'alert_before_days',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_employee_documents', 'is_verified',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_employee_documents', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_employee_documents_expiry_date'), 'hrm_employee_documents', ['expiry_date'], unique=False)
    op.create_index(op.f('ix_hrm_employee_documents_id'), 'hrm_employee_documents', ['id'], unique=False)
    op.create_foreign_key(None, 'hrm_employee_documents', 'users', ['verified_by'], ['id'])
    op.alter_column('hrm_employee_evaluations', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_evaluations', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_evaluations', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_employee_evaluations', 'total_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_employee_evaluations', 'weighted_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_employee_evaluations', 'strengths',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'improvements',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'overall_comments',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'goals_next_period',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'employee_comments',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_employee_evaluations_id'), 'hrm_employee_evaluations', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_employee_evaluations_template_id'), 'hrm_employee_evaluations', ['template_id'], unique=False)
    op.alter_column('hrm_employee_final_scores', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_final_scores', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_final_scores', 'self_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'manager_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'peer_avg_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'subordinate_avg_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'final_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_employee_final_scores', 'salary_adjustment_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'bonus_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'promotion_recommended',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_employee_final_scores', 'training_recommended',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'review_comments',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.create_index(op.f('ix_hrm_employee_final_scores_id'), 'hrm_employee_final_scores', ['id'], unique=False)
    op.alter_column('hrm_employee_salaries', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_salaries', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employee_salaries', 'effective_from',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_employee_salaries', 'effective_to',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'overrides_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=5000),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'trip_rate_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'is_current',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_employee_salaries', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_employee_salaries_effective_from'), 'hrm_employee_salaries', ['effective_from'], unique=False)
    op.create_index(op.f('ix_hrm_employee_salaries_effective_to'), 'hrm_employee_salaries', ['effective_to'], unique=False)
    op.create_index(op.f('ix_hrm_employee_salaries_id'), 'hrm_employee_salaries', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_employee_salaries_is_current'), 'hrm_employee_salaries', ['is_current'], unique=False)
    op.create_index(op.f('ix_hrm_employee_salaries_structure_id'), 'hrm_employee_salaries', ['structure_id'], unique=False)
    op.create_foreign_key(None, 'hrm_employee_salaries', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_employees', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employees', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_employees', 'date_of_birth',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'nationality',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('hrm_employees', 'phone',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'permanent_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'current_address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_issue_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_expiry_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'tax_code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'employee_type',
               existing_type=sa.VARCHAR(length=20),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               nullable=False)
    op.alter_column('hrm_employees', 'status',
               existing_type=sa.VARCHAR(length=20),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               nullable=False)
    op.alter_column('hrm_employees', 'join_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'probation_end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'official_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'resign_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'resign_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'social_insurance_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_insurance_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'license_class',
               existing_type=sa.VARCHAR(length=20),
               type_=sqlmodel.sql.sqltypes.AutoString(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'license_expiry',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_check_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_check_expiry',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'avatar_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.drop_index(op.f('ix_hrm_employees_tenant_code'), table_name='hrm_employees')
    op.create_index(op.f('ix_hrm_employees_branch_id'), 'hrm_employees', ['branch_id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_department_id'), 'hrm_employees', ['department_id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_id'), 'hrm_employees', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_join_date'), 'hrm_employees', ['join_date'], unique=False)
    op.create_index(op.f('ix_hrm_employees_manager_id'), 'hrm_employees', ['manager_id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_position_id'), 'hrm_employees', ['position_id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_resign_date'), 'hrm_employees', ['resign_date'], unique=False)
    op.create_index(op.f('ix_hrm_employees_team_id'), 'hrm_employees', ['team_id'], unique=False)
    op.create_index(op.f('ix_hrm_employees_work_shift_id'), 'hrm_employees', ['work_shift_id'], unique=False)
    op.create_foreign_key(None, 'hrm_employees', 'users', ['user_id'], ['id'])
    op.create_foreign_key(None, 'hrm_employees', 'drivers', ['driver_id'], ['id'])
    op.alter_column('hrm_evaluation_criteria', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'category',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'weight',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'min_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=1),
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'max_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=1),
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'score_labels_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'target_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'target_unit',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.create_index(op.f('ix_hrm_evaluation_criteria_id'), 'hrm_evaluation_criteria', ['id'], unique=False)
    op.alter_column('hrm_evaluation_periods', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'name',
               existing_type=sa.VARCHAR(length=255),
               type_=sqlmodel.sql.sqltypes.AutoString(length=100),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'period_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'evaluation_start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'evaluation_end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'enable_self_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'enable_manager_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'enable_peer_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'enable_subordinate_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'self_weight',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'manager_weight',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'peer_weight',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'subordinate_weight',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_evaluation_periods', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_evaluation_periods_end_date'), 'hrm_evaluation_periods', ['end_date'], unique=False)
    op.create_index(op.f('ix_hrm_evaluation_periods_id'), 'hrm_evaluation_periods', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_evaluation_periods_start_date'), 'hrm_evaluation_periods', ['start_date'], unique=False)
    op.alter_column('hrm_evaluation_scores', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_scores', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_scores', 'score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_scores', 'weighted_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_evaluation_scores', 'actual_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'achievement_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'comments',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'evidence',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_evaluation_scores_id'), 'hrm_evaluation_scores', ['id'], unique=False)
    op.alter_column('hrm_evaluation_templates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_templates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_evaluation_templates', 'code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=30),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_templates', 'name',
               existing_type=sa.VARCHAR(length=255),
               type_=sqlmodel.sql.sqltypes.AutoString(length=100),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_templates', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_templates', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_evaluation_templates', 'is_default',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.create_index(op.f('ix_hrm_evaluation_templates_department_id'), 'hrm_evaluation_templates', ['department_id'], unique=False)
    op.create_index(op.f('ix_hrm_evaluation_templates_id'), 'hrm_evaluation_templates', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_evaluation_templates_is_active'), 'hrm_evaluation_templates', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_evaluation_templates_position_id'), 'hrm_evaluation_templates', ['position_id'], unique=False)
    op.alter_column('hrm_insurance_contributions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'salary_base',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'employee_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'employer_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'total_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'is_paid',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_insurance_contributions', 'paid_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_insurance_contributions', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_insurance_contributions_id'), 'hrm_insurance_contributions', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_insurance_contributions_payroll_record_id'), 'hrm_insurance_contributions', ['payroll_record_id'], unique=False)
    op.alter_column('hrm_insurance_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_insurance_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_insurance_records', 'insurance_number',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=30),
               existing_nullable=False)
    op.alter_column('hrm_insurance_records', 'registered_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_records', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_insurance_records', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_insurance_records', 'employee_rate',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_records', 'employer_rate',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_insurance_records', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_insurance_records', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_insurance_records_id'), 'hrm_insurance_records', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_insurance_records_is_active'), 'hrm_insurance_records', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_insurance_records_start_date'), 'hrm_insurance_records', ['start_date'], unique=False)
    op.alter_column('hrm_interviews', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_interviews', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_interviews', 'interview_round',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_interviews', 'interview_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_interviews', 'duration_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_interviews', 'meeting_link',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'interviewer_ids_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_interviews', 'result',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_interviews', 'strengths',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'weaknesses',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'overall_feedback',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'completed_at',
               existing_type=postgresql.TIMESTAMP(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_interviews_id'), 'hrm_interviews', ['id'], unique=False)
    op.alter_column('hrm_job_postings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_job_postings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_job_postings', 'job_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_job_postings', 'headcount',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_job_postings', 'salary_currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=False)
    op.alter_column('hrm_job_postings', 'show_salary',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_job_postings', 'is_remote',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_job_postings', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'requirements',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'benefits',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'skills_required',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'views_count',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_job_postings', 'applications_count',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_job_postings', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_job_postings', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_job_postings_id'), 'hrm_job_postings', ['id'], unique=False)
    op.alter_column('hrm_leave_approval_flows', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_approval_flows', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_approval_flows', 'min_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_approval_flows', 'max_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               existing_nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'approval_levels',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_leave_approval_flows', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_approval_flows', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_leave_approval_flows_department_id'), 'hrm_leave_approval_flows', ['department_id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_approval_flows_id'), 'hrm_leave_approval_flows', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_approval_flows_is_active'), 'hrm_leave_approval_flows', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_leave_approval_flows_leave_type_id'), 'hrm_leave_approval_flows', ['leave_type_id'], unique=False)
    op.alter_column('hrm_leave_approvers', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_approvers', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_approvers', 'level',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_leave_approvers', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_leave_approvers', 'rejection_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_leave_approvers', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_leave_approvers_approver_id'), 'hrm_leave_approvers', ['approver_id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_approvers_id'), 'hrm_leave_approvers', ['id'], unique=False)
    op.alter_column('hrm_leave_balances', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_balances', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_balances', 'entitled_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_balances', 'carried_forward_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_balances', 'used_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_balances', 'pending_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_balances', 'available_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_balances', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_leave_balances_id'), 'hrm_leave_balances', ['id'], unique=False)
    op.alter_column('hrm_leave_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_requests', 'from_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_leave_requests', 'to_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_leave_requests', 'is_half_day',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_requests', 'total_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_requests', 'reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'attachment_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_leave_requests', 'handover_notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'cancellation_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_leave_requests_from_date'), 'hrm_leave_requests', ['from_date'], unique=False)
    op.create_index(op.f('ix_hrm_leave_requests_handover_to_id'), 'hrm_leave_requests', ['handover_to_id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_requests_id'), 'hrm_leave_requests', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_requests_to_date'), 'hrm_leave_requests', ['to_date'], unique=False)
    op.create_foreign_key(None, 'hrm_leave_requests', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_leave_types', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_types', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_leave_types', 'is_paid',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'default_days_per_year',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_types', 'is_accrual',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'accrual_per_month',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=2),
               nullable=False)
    op.alter_column('hrm_leave_types', 'allow_carry_forward',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'max_carry_forward_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_types', 'allow_negative_balance',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'max_negative_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_leave_types', 'requires_approval',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'requires_attachment',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'min_tenure_months',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_leave_types', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_leave_types', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.create_index(op.f('ix_hrm_leave_types_id'), 'hrm_leave_types', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_leave_types_is_active'), 'hrm_leave_types', ['is_active'], unique=False)
    op.alter_column('hrm_overtime_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_overtime_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_overtime_requests', 'date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'start_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'end_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'ot_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_overtime_requests', 'multiplier',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=2),
               nullable=False)
    op.alter_column('hrm_overtime_requests', 'reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_overtime_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_overtime_requests', 'rejection_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_overtime_requests', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_overtime_requests_attendance_record_id'), 'hrm_overtime_requests', ['attendance_record_id'], unique=False)
    op.create_index(op.f('ix_hrm_overtime_requests_id'), 'hrm_overtime_requests', ['id'], unique=False)
    op.create_foreign_key(None, 'hrm_overtime_requests', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_payroll_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_items', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_items', 'component_type',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=False)
    op.alter_column('hrm_payroll_items', 'amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_items', 'calculation_notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_payroll_items', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.create_index(op.f('ix_hrm_payroll_items_id'), 'hrm_payroll_items', ['id'], unique=False)
    op.alter_column('hrm_payroll_periods', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_periods', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_periods', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'attendance_cutoff_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'payroll_run_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'payment_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_payroll_periods', 'total_working_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_payroll_periods', 'holidays_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_payroll_periods_id'), 'hrm_payroll_periods', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_payroll_periods_status'), 'hrm_payroll_periods', ['status'], unique=False)
    op.create_foreign_key(None, 'hrm_payroll_periods', 'users', ['locked_by'], ['id'])
    op.alter_column('hrm_payroll_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_payroll_records', 'working_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'leave_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'unpaid_leave_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'absent_days',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=1),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'late_count',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'early_leave_count',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'ot_hours_weekday',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'ot_hours_weekend',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'ot_hours_holiday',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'basic_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'prorated_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'allowances_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'overtime_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'bonus_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'commission_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'trip_income_total',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'gross_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'insurance_employee',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'tax_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'advance_deduction',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'loan_deduction',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'penalty_deduction',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'other_deductions',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'total_deductions',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'net_salary',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'insurance_employer',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'total_cost',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'payment_status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_payroll_records', 'payment_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'earnings_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=10000),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'deductions_json',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=5000),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.drop_index(op.f('ix_hrm_payroll_tenant_period'), table_name='hrm_payroll_records')
    op.create_index(op.f('ix_hrm_payroll_records_employee_salary_id'), 'hrm_payroll_records', ['employee_salary_id'], unique=False)
    op.create_index(op.f('ix_hrm_payroll_records_id'), 'hrm_payroll_records', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_payroll_records_payment_status'), 'hrm_payroll_records', ['payment_status'], unique=False)
    op.create_foreign_key(None, 'hrm_payroll_records', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_positions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_positions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_positions', 'level',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_positions', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_positions', 'requirements',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('hrm_positions', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_positions', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.create_index(op.f('ix_hrm_positions_id'), 'hrm_positions', ['id'], unique=False)
    op.alter_column('hrm_salary_components', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_salary_components', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_salary_components', 'component_type',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               nullable=False)
    op.alter_column('hrm_salary_components', 'calculation_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_salary_components', 'default_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_salary_components', 'formula',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_salary_components', 'percent_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_salary_components', 'is_taxable',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_salary_components', 'is_insurance_base',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_salary_components', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_salary_components', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.create_index(op.f('ix_hrm_salary_components_id'), 'hrm_salary_components', ['id'], unique=False)
    op.alter_column('hrm_salary_structures', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_salary_structures', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_salary_structures', 'employee_type',
               existing_type=sa.VARCHAR(length=20),
               type_=sqlmodel.sql.sqltypes.AutoString(length=50),
               existing_nullable=True)
    op.alter_column('hrm_salary_structures', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_salary_structures', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_salary_structures', 'is_default',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.create_index(op.f('ix_hrm_salary_structures_department_id'), 'hrm_salary_structures', ['department_id'], unique=False)
    op.create_index(op.f('ix_hrm_salary_structures_id'), 'hrm_salary_structures', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_salary_structures_is_active'), 'hrm_salary_structures', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_salary_structures_position_id'), 'hrm_salary_structures', ['position_id'], unique=False)
    op.alter_column('hrm_shift_assignments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_shift_assignments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_shift_assignments', 'effective_from',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_shift_assignments', 'effective_to',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_shift_assignments', 'working_days_json',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('hrm_shift_assignments', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_shift_assignments', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_shift_assignments_effective_from'), 'hrm_shift_assignments', ['effective_from'], unique=False)
    op.create_index(op.f('ix_hrm_shift_assignments_id'), 'hrm_shift_assignments', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_shift_assignments_is_active'), 'hrm_shift_assignments', ['is_active'], unique=False)
    op.create_index(op.f('ix_hrm_shift_assignments_shift_id'), 'hrm_shift_assignments', ['shift_id'], unique=False)
    op.alter_column('hrm_teams', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_teams', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_teams', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_teams', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_teams_id'), 'hrm_teams', ['id'], unique=False)
    op.alter_column('hrm_training_participants', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_training_participants', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_training_participants', 'enrolled_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=False)
    op.alter_column('hrm_training_participants', 'modules_completed',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_training_participants', 'progress_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_training_participants', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_training_participants', 'completion_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'attended_hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               nullable=False)
    op.alter_column('hrm_training_participants', 'attendance_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_training_participants', 'feedback_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Integer(),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'feedback_comment',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_training_participants_certificate_id'), 'hrm_training_participants', ['certificate_id'], unique=False)
    op.create_index(op.f('ix_hrm_training_participants_id'), 'hrm_training_participants', ['id'], unique=False)
    op.create_foreign_key(None, 'hrm_training_participants', 'users', ['enrolled_by'], ['id'])
    op.alter_column('hrm_trainings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_trainings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_trainings', 'code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=30),
               existing_nullable=False)
    op.alter_column('hrm_trainings', 'training_type',
               existing_type=sa.VARCHAR(length=30),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               nullable=False)
    op.alter_column('hrm_trainings', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'objectives',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'content_outline',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=2000),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'start_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'end_date',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Date(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'duration_hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=6, scale=2),
               nullable=False)
    op.alter_column('hrm_trainings', 'format',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_trainings', 'course_url',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'total_modules',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_trainings', 'cost_per_person',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_trainings', 'total_budget',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_trainings', 'actual_cost',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=18, scale=2),
               nullable=False)
    op.alter_column('hrm_trainings', 'passing_score',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=5, scale=2),
               nullable=False)
    op.alter_column('hrm_trainings', 'is_mandatory',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_trainings', 'mandatory_for_departments',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'mandatory_for_positions',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=False)
    op.alter_column('hrm_trainings', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=1000),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_trainings_end_date'), 'hrm_trainings', ['end_date'], unique=False)
    op.create_index(op.f('ix_hrm_trainings_id'), 'hrm_trainings', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_trainings_start_date'), 'hrm_trainings', ['start_date'], unique=False)
    op.create_foreign_key(None, 'hrm_trainings', 'users', ['created_by'], ['id'])
    op.alter_column('hrm_work_shifts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_work_shifts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('hrm_work_shifts', 'code',
               existing_type=sa.VARCHAR(length=50),
               type_=sqlmodel.sql.sqltypes.AutoString(length=20),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'name',
               existing_type=sa.VARCHAR(length=255),
               type_=sqlmodel.sql.sqltypes.AutoString(length=100),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'start_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'end_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'break_start',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'break_end',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'break_duration_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'working_hours',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=4, scale=2),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'late_grace_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'early_leave_grace_minutes',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'is_night_shift',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'night_shift_multiplier',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               type_=sa.Numeric(precision=3, scale=2),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'is_flexible',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'core_start_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'core_end_time',
               existing_type=sa.VARCHAR(length=10),
               type_=sa.Time(),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=False)
    op.alter_column('hrm_work_shifts', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(length=500),
               existing_nullable=True)
    op.create_index(op.f('ix_hrm_work_shifts_id'), 'hrm_work_shifts', ['id'], unique=False)
    op.create_index(op.f('ix_hrm_work_shifts_is_active'), 'hrm_work_shifts', ['is_active'], unique=False)
    op.alter_column('locations', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               nullable=False)
    op.drop_index(op.f('idx_locations_district'), table_name='locations')
    op.drop_index(op.f('idx_locations_province'), table_name='locations')
    op.drop_index(op.f('idx_locations_ward'), table_name='locations')
    op.create_index(op.f('ix_locations_district'), 'locations', ['district'], unique=False)
    op.create_index(op.f('ix_locations_is_active'), 'locations', ['is_active'], unique=False)
    op.create_index(op.f('ix_locations_province'), 'locations', ['province'], unique=False)
    op.create_index(op.f('ix_locations_ward'), 'locations', ['ward'], unique=False)
    op.alter_column('maintenance_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_items', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_items', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('maintenance_items', 'quantity',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_maintenance_items_record_id'), table_name='maintenance_items')
    op.drop_index(op.f('idx_maintenance_items_tenant_id'), table_name='maintenance_items')
    op.create_index(op.f('ix_maintenance_items_id'), 'maintenance_items', ['id'], unique=False)
    op.create_index(op.f('ix_maintenance_items_record_id'), 'maintenance_items', ['record_id'], unique=False)
    op.create_index(op.f('ix_maintenance_items_tenant_id'), 'maintenance_items', ['tenant_id'], unique=False)
    op.drop_constraint(op.f('maintenance_items_record_id_fkey'), 'maintenance_items', type_='foreignkey')
    op.create_foreign_key(None, 'maintenance_items', 'maintenance_records', ['record_id'], ['id'])
    op.alter_column('maintenance_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_records', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('maintenance_records', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_maintenance_records_date'), table_name='maintenance_records')
    op.drop_index(op.f('idx_maintenance_records_schedule_id'), table_name='maintenance_records')
    op.drop_index(op.f('idx_maintenance_records_tenant_id'), table_name='maintenance_records')
    op.drop_index(op.f('idx_maintenance_records_type'), table_name='maintenance_records')
    op.drop_index(op.f('idx_maintenance_records_vehicle_id'), table_name='maintenance_records')
    op.create_index(op.f('ix_maintenance_records_id'), 'maintenance_records', ['id'], unique=False)
    op.create_index(op.f('ix_maintenance_records_maintenance_type'), 'maintenance_records', ['maintenance_type'], unique=False)
    op.create_index(op.f('ix_maintenance_records_schedule_id'), 'maintenance_records', ['schedule_id'], unique=False)
    op.create_index(op.f('ix_maintenance_records_service_date'), 'maintenance_records', ['service_date'], unique=False)
    op.create_index(op.f('ix_maintenance_records_tenant_id'), 'maintenance_records', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_maintenance_records_vehicle_id'), 'maintenance_records', ['vehicle_id'], unique=False)
    op.drop_constraint(op.f('maintenance_records_schedule_id_fkey'), 'maintenance_records', type_='foreignkey')
    op.drop_constraint(op.f('maintenance_records_vehicle_id_fkey'), 'maintenance_records', type_='foreignkey')
    op.create_foreign_key(None, 'maintenance_records', 'vehicles', ['vehicle_id'], ['id'])
    op.create_foreign_key(None, 'maintenance_records', 'maintenance_schedules', ['schedule_id'], ['id'])
    op.alter_column('maintenance_schedules', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_schedules', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('maintenance_schedules', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('maintenance_schedules', 'alert_before_days',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=True)
    op.alter_column('maintenance_schedules', 'alert_before_km',
               existing_type=sa.INTEGER(),
               server_default=None,
               existing_nullable=True)
    op.alter_column('maintenance_schedules', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_maintenance_schedules_tenant_id'), table_name='maintenance_schedules')
    op.drop_index(op.f('idx_maintenance_schedules_type'), table_name='maintenance_schedules')
    op.drop_index(op.f('idx_maintenance_schedules_vehicle_id'), table_name='maintenance_schedules')
    op.create_index(op.f('ix_maintenance_schedules_id'), 'maintenance_schedules', ['id'], unique=False)
    op.create_index(op.f('ix_maintenance_schedules_maintenance_type'), 'maintenance_schedules', ['maintenance_type'], unique=False)
    op.create_index(op.f('ix_maintenance_schedules_tenant_id'), 'maintenance_schedules', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_maintenance_schedules_vehicle_id'), 'maintenance_schedules', ['vehicle_id'], unique=False)
    op.drop_constraint(op.f('maintenance_schedules_vehicle_id_fkey'), 'maintenance_schedules', type_='foreignkey')
    op.create_foreign_key(None, 'maintenance_schedules', 'vehicles', ['vehicle_id'], ['id'])
    op.alter_column('order_documents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('order_documents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('order_documents', 'uploaded_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('order_documents', 'note',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_documents_id'), 'order_documents', ['id'], unique=False)
    op.alter_column('order_status_logs', 'changed_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('order_status_logs', 'note',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('idx_order_status_logs_changed_at'), table_name='order_status_logs')
    op.drop_index(op.f('idx_order_status_logs_order_id'), table_name='order_status_logs')
    op.drop_index(op.f('idx_order_status_logs_to_status'), table_name='order_status_logs')
    op.create_index(op.f('ix_order_status_logs_changed_at'), 'order_status_logs', ['changed_at'], unique=False)
    op.create_index(op.f('ix_order_status_logs_id'), 'order_status_logs', ['id'], unique=False)
    op.create_index(op.f('ix_order_status_logs_order_id'), 'order_status_logs', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_status_logs_tenant_id'), 'order_status_logs', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_order_status_logs_to_status'), 'order_status_logs', ['to_status'], unique=False)
    op.drop_constraint(op.f('order_status_logs_order_id_fkey'), 'order_status_logs', type_='foreignkey')
    op.create_foreign_key(None, 'order_status_logs', 'orders', ['order_id'], ['id'])
    op.drop_column('order_status_logs', 'created_at')
    op.drop_column('order_status_logs', 'updated_at')
    op.alter_column('orders', 'pickup_text',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('orders', 'delivery_text',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('orders', 'qty',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('orders', 'cargo_note',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('orders', 'empty_return_note',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('orders', 'reject_reason',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('idx_orders_created_by_user'), table_name='orders')
    op.drop_index(op.f('idx_orders_delivery_site_id'), table_name='orders')
    op.drop_index(op.f('idx_orders_dispatcher'), table_name='orders')
    op.drop_index(op.f('idx_orders_driver'), table_name='orders')
    op.drop_index(op.f('idx_orders_pickup_site_id'), table_name='orders')
    op.drop_index(op.f('idx_orders_port_site_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_sales_user_id'), table_name='orders')
    op.create_index(op.f('ix_orders_created_by_user_id'), 'orders', ['created_by_user_id'], unique=False)
    op.create_index(op.f('ix_orders_delivery_location_id'), 'orders', ['delivery_location_id'], unique=False)
    op.create_index(op.f('ix_orders_delivery_site_id'), 'orders', ['delivery_site_id'], unique=False)
    op.create_index(op.f('ix_orders_dispatcher_id'), 'orders', ['dispatcher_id'], unique=False)
    op.create_index(op.f('ix_orders_pickup_location_id'), 'orders', ['pickup_location_id'], unique=False)
    op.create_index(op.f('ix_orders_pickup_site_id'), 'orders', ['pickup_site_id'], unique=False)
    op.create_index(op.f('ix_orders_port_site_id'), 'orders', ['port_site_id'], unique=False)
    op.drop_column('orders', 'service_type')
    op.drop_column('orders', 'incoterm')
    op.drop_column('orders', 'notes')
    op.drop_column('orders', 'sales_user_id')
    op.alter_column('rate_customers', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('rate_customers', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('rate_customers', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_rate_customers_customer_id'), table_name='rate_customers')
    op.drop_index(op.f('idx_rate_customers_rate_id'), table_name='rate_customers')
    op.drop_index(op.f('idx_rate_customers_tenant_id'), table_name='rate_customers')
    op.drop_constraint(op.f('rate_customers_rate_id_customer_id_key'), 'rate_customers', type_='unique')
    op.create_index(op.f('ix_rate_customers_customer_id'), 'rate_customers', ['customer_id'], unique=False)
    op.create_index(op.f('ix_rate_customers_id'), 'rate_customers', ['id'], unique=False)
    op.create_index(op.f('ix_rate_customers_rate_id'), 'rate_customers', ['rate_id'], unique=False)
    op.create_index(op.f('ix_rate_customers_tenant_id'), 'rate_customers', ['tenant_id'], unique=False)
    op.drop_constraint(op.f('rate_customers_rate_id_fkey'), 'rate_customers', type_='foreignkey')
    op.drop_constraint(op.f('rate_customers_customer_id_fkey'), 'rate_customers', type_='foreignkey')
    op.create_foreign_key(None, 'rate_customers', 'rates', ['rate_id'], ['id'])
    op.create_foreign_key(None, 'rate_customers', 'customers', ['customer_id'], ['id'])
    op.alter_column('rates', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('rates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('rates', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('rates', 'pricing_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('rates', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_rates_delivery_location_id'), table_name='rates')
    op.drop_index(op.f('idx_rates_effective_date'), table_name='rates')
    op.drop_index(op.f('idx_rates_pickup_location_id'), table_name='rates')
    op.drop_index(op.f('idx_rates_pricing_type'), table_name='rates')
    op.drop_index(op.f('idx_rates_tenant_id'), table_name='rates')
    op.create_index(op.f('ix_rates_delivery_location_id'), 'rates', ['delivery_location_id'], unique=False)
    op.create_index(op.f('ix_rates_effective_date'), 'rates', ['effective_date'], unique=False)
    op.create_index(op.f('ix_rates_id'), 'rates', ['id'], unique=False)
    op.create_index(op.f('ix_rates_pickup_location_id'), 'rates', ['pickup_location_id'], unique=False)
    op.create_index(op.f('ix_rates_pricing_type'), 'rates', ['pricing_type'], unique=False)
    op.create_index(op.f('ix_rates_tenant_id'), 'rates', ['tenant_id'], unique=False)
    op.alter_column('role_permissions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=False)
    op.alter_column('role_permissions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=False)
    op.alter_column('role_permissions', 'permissions_json',
               existing_type=sa.TEXT(),
               server_default=None,
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('role_permissions', 'description',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('role_permissions', 'is_system',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               nullable=False)
    op.drop_index(op.f('idx_role_permissions_tenant_role'), table_name='role_permissions')
    op.create_index(op.f('ix_role_permissions_id'), 'role_permissions', ['id'], unique=False)
    op.create_index(op.f('ix_role_permissions_role'), 'role_permissions', ['role'], unique=False)
    op.create_index(op.f('ix_role_permissions_tenant_id'), 'role_permissions', ['tenant_id'], unique=False)
    op.alter_column('shipments', 'from_port',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('shipments', 'requires_empty_return',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('shipments', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               nullable=False)
    op.drop_index(op.f('uq_shipments_tenant_order'), table_name='shipments')
    op.drop_index(op.f('ux_shipments_order_id'), table_name='shipments')
    op.create_index(op.f('ix_shipments_from_port'), 'shipments', ['from_port'], unique=False)
    op.create_index(op.f('ix_shipments_status'), 'shipments', ['status'], unique=False)
    op.create_foreign_key(None, 'shipments', 'orders', ['order_id'], ['id'])
    op.alter_column('sites', 'created_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('sites', 'updated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               server_default=None,
               type_=sa.DateTime(),
               nullable=False)
    op.alter_column('sites', 'id',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('sites', 'site_type',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('sites', 'status',
               existing_type=sa.VARCHAR(),
               server_default=None,
               existing_nullable=False)
    op.drop_index(op.f('idx_sites_code'), table_name='sites')
    op.drop_index(op.f('idx_sites_location_id'), table_name='sites')
    op.drop_index(op.f('idx_sites_site_type'), table_name='sites')
    op.drop_index(op.f('idx_sites_tenant_id'), table_name='sites')
    op.create_index(op.f('ix_sites_code'), 'sites', ['code'], unique=False)
    op.create_index(op.f('ix_sites_id'), 'sites', ['id'], unique=False)
    op.create_index(op.f('ix_sites_location_id'), 'sites', ['location_id'], unique=False)
    op.create_index(op.f('ix_sites_site_type'), 'sites', ['site_type'], unique=False)
    op.create_index(op.f('ix_sites_tenant_id'), 'sites', ['tenant_id'], unique=False)
    op.alter_column('tenants', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('tenants', 'type',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'address',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.alter_column('tenants', 'country',
               existing_type=sa.VARCHAR(length=100),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'subscription_plan',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'subscription_status',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'enabled_modules',
               existing_type=sa.TEXT(),
               server_default=None,
               type_=sqlmodel.sql.sqltypes.AutoString(),
               nullable=False)
    op.alter_column('tenants', 'timezone',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'currency',
               existing_type=sa.VARCHAR(length=10),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'locale',
               existing_type=sa.VARCHAR(length=10),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'deployment_type',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('tenants', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               nullable=False)
    op.create_index(op.f('ix_tenants_code'), 'tenants', ['code'], unique=True)
    op.create_index(op.f('ix_tenants_subscription_status'), 'tenants', ['subscription_status'], unique=False)
    op.create_index(op.f('ix_tenants_tax_code'), 'tenants', ['tax_code'], unique=False)
    op.alter_column('trips', 'shipment_id',
               existing_type=sa.VARCHAR(),
               nullable=True)
    op.alter_column('trips', 'route_code',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.create_index(op.f('ix_trips_route_code'), 'trips', ['route_code'], unique=False)
    op.alter_column('users', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               server_default=None,
               existing_nullable=True)
    op.alter_column('users', 'email',
               existing_type=sa.VARCHAR(length=255),
               server_default=None,
               existing_nullable=True)
    op.alter_column('users', 'phone',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               existing_nullable=True)
    op.alter_column('users', 'avatar_url',
               existing_type=sa.VARCHAR(length=500),
               server_default=None,
               existing_nullable=True)
    op.alter_column('users', 'system_role',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               nullable=False)
    op.alter_column('users', 'status',
               existing_type=sa.VARCHAR(length=20),
               server_default=None,
               nullable=False)
    op.alter_column('users', 'last_login_at',
               existing_type=sa.VARCHAR(length=50),
               server_default=None,
               existing_nullable=True)
    op.alter_column('users', 'failed_login_attempts',
               existing_type=sa.INTEGER(),
               server_default=None,
               nullable=False)
    op.alter_column('users', 'two_factor_enabled',
               existing_type=sa.BOOLEAN(),
               server_default=None,
               nullable=False)
    op.alter_column('users', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('idx_users_email'), table_name='users')
    op.drop_index(op.f('idx_users_status'), table_name='users')
    op.create_index(op.f('ix_users_email'), 'users', ['email'], unique=False)
    op.create_index(op.f('ix_users_status'), 'users', ['status'], unique=False)
    op.alter_column('vehicle_assignments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('vehicle_assignments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               nullable=False)
    op.alter_column('vehicle_assignments', 'assigned_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=None,
               existing_nullable=False)
    op.alter_column('vehicle_assignments', 'notes',
               existing_type=sa.TEXT(),
               type_=sqlmodel.sql.sqltypes.AutoString(),
               existing_nullable=True)
    op.drop_index(op.f('idx_vehicle_assignments_driver'), table_name='vehicle_assignments')
    op.drop_index(op.f('idx_vehicle_assignments_tenant'), table_name='vehicle_assignments')
    op.drop_index(op.f('idx_vehicle_assignments_vehicle'), table_name='vehicle_assignments')
    op.create_index(op.f('ix_vehicle_assignments_driver_id'), 'vehicle_assignments', ['driver_id'], unique=False)
    op.create_index(op.f('ix_vehicle_assignments_id'), 'vehicle_assignments', ['id'], unique=False)
    op.create_index(op.f('ix_vehicle_assignments_tenant_id'), 'vehicle_assignments', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_vehicle_assignments_vehicle_id'), 'vehicle_assignments', ['vehicle_id'], unique=False)
    op.drop_index(op.f('idx_vehicles_code'), table_name='vehicles')
    op.drop_index(op.f('idx_vehicles_type'), table_name='vehicles')
    op.create_index(op.f('ix_vehicles_code'), 'vehicles', ['code'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_vehicles_code'), table_name='vehicles')
    op.create_index(op.f('idx_vehicles_type'), 'vehicles', ['type'], unique=False)
    op.create_index(op.f('idx_vehicles_code'), 'vehicles', ['code'], unique=False)
    op.drop_index(op.f('ix_vehicle_assignments_vehicle_id'), table_name='vehicle_assignments')
    op.drop_index(op.f('ix_vehicle_assignments_tenant_id'), table_name='vehicle_assignments')
    op.drop_index(op.f('ix_vehicle_assignments_id'), table_name='vehicle_assignments')
    op.drop_index(op.f('ix_vehicle_assignments_driver_id'), table_name='vehicle_assignments')
    op.create_index(op.f('idx_vehicle_assignments_vehicle'), 'vehicle_assignments', ['vehicle_id'], unique=False)
    op.create_index(op.f('idx_vehicle_assignments_tenant'), 'vehicle_assignments', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_vehicle_assignments_driver'), 'vehicle_assignments', ['driver_id'], unique=False)
    op.alter_column('vehicle_assignments', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('vehicle_assignments', 'assigned_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               existing_nullable=False)
    op.alter_column('vehicle_assignments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('vehicle_assignments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_users_status'), table_name='users')
    op.drop_index(op.f('ix_users_email'), table_name='users')
    op.create_index(op.f('idx_users_status'), 'users', ['status'], unique=False)
    op.create_index(op.f('idx_users_email'), 'users', ['email'], unique=False)
    op.alter_column('users', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('users', 'two_factor_enabled',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               nullable=True)
    op.alter_column('users', 'failed_login_attempts',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('users', 'last_login_at',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text('NULL::character varying'),
               existing_nullable=True)
    op.alter_column('users', 'status',
               existing_type=sa.VARCHAR(length=20),
               server_default=sa.text("'ACTIVE'::character varying"),
               nullable=True)
    op.alter_column('users', 'system_role',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'USER'::character varying"),
               nullable=True)
    op.alter_column('users', 'avatar_url',
               existing_type=sa.VARCHAR(length=500),
               server_default=sa.text('NULL::character varying'),
               existing_nullable=True)
    op.alter_column('users', 'phone',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text('NULL::character varying'),
               existing_nullable=True)
    op.alter_column('users', 'email',
               existing_type=sa.VARCHAR(length=255),
               server_default=sa.text('NULL::character varying'),
               existing_nullable=True)
    op.alter_column('users', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               server_default=sa.text('NULL::character varying'),
               existing_nullable=True)
    op.drop_index(op.f('ix_trips_route_code'), table_name='trips')
    op.alter_column('trips', 'route_code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('trips', 'shipment_id',
               existing_type=sa.VARCHAR(),
               nullable=False)
    op.drop_index(op.f('ix_tenants_tax_code'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_subscription_status'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_code'), table_name='tenants')
    op.alter_column('tenants', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               nullable=True)
    op.alter_column('tenants', 'deployment_type',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'CLOUD'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'locale',
               existing_type=sa.VARCHAR(length=10),
               server_default=sa.text("'vi-VN'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'currency',
               existing_type=sa.VARCHAR(length=10),
               server_default=sa.text("'VND'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'timezone',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'Asia/Ho_Chi_Minh'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'enabled_modules',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               server_default=sa.text('\'["tms"]\'::text'),
               type_=sa.TEXT(),
               nullable=True)
    op.alter_column('tenants', 'subscription_status',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'ACTIVE'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'subscription_plan',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'FREE'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'country',
               existing_type=sa.VARCHAR(length=100),
               server_default=sa.text("'VN'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('tenants', 'type',
               existing_type=sa.VARCHAR(length=50),
               server_default=sa.text("'CARRIER'::character varying"),
               nullable=True)
    op.alter_column('tenants', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.drop_index(op.f('ix_sites_tenant_id'), table_name='sites')
    op.drop_index(op.f('ix_sites_site_type'), table_name='sites')
    op.drop_index(op.f('ix_sites_location_id'), table_name='sites')
    op.drop_index(op.f('ix_sites_id'), table_name='sites')
    op.drop_index(op.f('ix_sites_code'), table_name='sites')
    op.create_index(op.f('idx_sites_tenant_id'), 'sites', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_sites_site_type'), 'sites', ['site_type'], unique=False)
    op.create_index(op.f('idx_sites_location_id'), 'sites', ['location_id'], unique=False)
    op.create_index(op.f('idx_sites_code'), 'sites', ['code'], unique=False)
    op.alter_column('sites', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'ACTIVE'::character varying"),
               existing_nullable=False)
    op.alter_column('sites', 'site_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'CUSTOMER'::character varying"),
               existing_nullable=False)
    op.alter_column('sites', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('sites', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('sites', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'shipments', type_='foreignkey')
    op.drop_index(op.f('ix_shipments_status'), table_name='shipments')
    op.drop_index(op.f('ix_shipments_from_port'), table_name='shipments')
    op.create_index(op.f('ux_shipments_order_id'), 'shipments', ['order_id'], unique=True)
    op.create_index(op.f('uq_shipments_tenant_order'), 'shipments', ['tenant_id', 'order_id'], unique=True)
    op.alter_column('shipments', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'pending'::character varying"),
               nullable=True)
    op.alter_column('shipments', 'requires_empty_return',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('shipments', 'from_port',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.drop_index(op.f('ix_role_permissions_tenant_id'), table_name='role_permissions')
    op.drop_index(op.f('ix_role_permissions_role'), table_name='role_permissions')
    op.drop_index(op.f('ix_role_permissions_id'), table_name='role_permissions')
    op.create_index(op.f('idx_role_permissions_tenant_role'), 'role_permissions', ['tenant_id', 'role'], unique=False)
    op.alter_column('role_permissions', 'is_system',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               nullable=True)
    op.alter_column('role_permissions', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('role_permissions', 'permissions_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               server_default=sa.text("'{}'::text"),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('role_permissions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=True)
    op.alter_column('role_permissions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=True)
    op.drop_index(op.f('ix_rates_tenant_id'), table_name='rates')
    op.drop_index(op.f('ix_rates_pricing_type'), table_name='rates')
    op.drop_index(op.f('ix_rates_pickup_location_id'), table_name='rates')
    op.drop_index(op.f('ix_rates_id'), table_name='rates')
    op.drop_index(op.f('ix_rates_effective_date'), table_name='rates')
    op.drop_index(op.f('ix_rates_delivery_location_id'), table_name='rates')
    op.create_index(op.f('idx_rates_tenant_id'), 'rates', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_rates_pricing_type'), 'rates', ['pricing_type'], unique=False)
    op.create_index(op.f('idx_rates_pickup_location_id'), 'rates', ['pickup_location_id'], unique=False)
    op.create_index(op.f('idx_rates_effective_date'), 'rates', ['effective_date'], unique=False)
    op.create_index(op.f('idx_rates_delivery_location_id'), 'rates', ['delivery_location_id'], unique=False)
    op.alter_column('rates', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'ACTIVE'::character varying"),
               existing_nullable=False)
    op.alter_column('rates', 'pricing_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'CONTAINER'::character varying"),
               existing_nullable=False)
    op.alter_column('rates', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('rates', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('rates', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'rate_customers', type_='foreignkey')
    op.drop_constraint(None, 'rate_customers', type_='foreignkey')
    op.create_foreign_key(op.f('rate_customers_customer_id_fkey'), 'rate_customers', 'customers', ['customer_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(op.f('rate_customers_rate_id_fkey'), 'rate_customers', 'rates', ['rate_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_rate_customers_tenant_id'), table_name='rate_customers')
    op.drop_index(op.f('ix_rate_customers_rate_id'), table_name='rate_customers')
    op.drop_index(op.f('ix_rate_customers_id'), table_name='rate_customers')
    op.drop_index(op.f('ix_rate_customers_customer_id'), table_name='rate_customers')
    op.create_unique_constraint(op.f('rate_customers_rate_id_customer_id_key'), 'rate_customers', ['rate_id', 'customer_id'], postgresql_nulls_not_distinct=False)
    op.create_index(op.f('idx_rate_customers_tenant_id'), 'rate_customers', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_rate_customers_rate_id'), 'rate_customers', ['rate_id'], unique=False)
    op.create_index(op.f('idx_rate_customers_customer_id'), 'rate_customers', ['customer_id'], unique=False)
    op.alter_column('rate_customers', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('rate_customers', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('rate_customers', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.add_column('orders', sa.Column('sales_user_id', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.add_column('orders', sa.Column('notes', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.add_column('orders', sa.Column('incoterm', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.add_column('orders', sa.Column('service_type', sa.VARCHAR(), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_orders_port_site_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_pickup_site_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_pickup_location_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_dispatcher_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_delivery_site_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_delivery_location_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_created_by_user_id'), table_name='orders')
    op.create_index(op.f('ix_orders_sales_user_id'), 'orders', ['sales_user_id'], unique=False)
    op.create_index(op.f('idx_orders_port_site_id'), 'orders', ['port_site_id'], unique=False)
    op.create_index(op.f('idx_orders_pickup_site_id'), 'orders', ['pickup_site_id'], unique=False)
    op.create_index(op.f('idx_orders_driver'), 'orders', ['driver_id'], unique=False)
    op.create_index(op.f('idx_orders_dispatcher'), 'orders', ['dispatcher_id'], unique=False)
    op.create_index(op.f('idx_orders_delivery_site_id'), 'orders', ['delivery_site_id'], unique=False)
    op.create_index(op.f('idx_orders_created_by_user'), 'orders', ['created_by_user_id'], unique=False)
    op.alter_column('orders', 'reject_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('orders', 'empty_return_note',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('orders', 'cargo_note',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('orders', 'qty',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               nullable=True)
    op.alter_column('orders', 'delivery_text',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('orders', 'pickup_text',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.add_column('order_status_logs', sa.Column('updated_at', postgresql.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), autoincrement=False, nullable=True))
    op.add_column('order_status_logs', sa.Column('created_at', postgresql.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'order_status_logs', type_='foreignkey')
    op.create_foreign_key(op.f('order_status_logs_order_id_fkey'), 'order_status_logs', 'orders', ['order_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_order_status_logs_to_status'), table_name='order_status_logs')
    op.drop_index(op.f('ix_order_status_logs_tenant_id'), table_name='order_status_logs')
    op.drop_index(op.f('ix_order_status_logs_order_id'), table_name='order_status_logs')
    op.drop_index(op.f('ix_order_status_logs_id'), table_name='order_status_logs')
    op.drop_index(op.f('ix_order_status_logs_changed_at'), table_name='order_status_logs')
    op.create_index(op.f('idx_order_status_logs_to_status'), 'order_status_logs', ['to_status'], unique=False)
    op.create_index(op.f('idx_order_status_logs_order_id'), 'order_status_logs', ['order_id'], unique=False)
    op.create_index(op.f('idx_order_status_logs_changed_at'), 'order_status_logs', ['changed_at'], unique=False)
    op.alter_column('order_status_logs', 'note',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_status_logs', 'changed_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               nullable=True)
    op.drop_index(op.f('ix_order_documents_id'), table_name='order_documents')
    op.alter_column('order_documents', 'note',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_documents', 'uploaded_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               existing_nullable=False)
    op.alter_column('order_documents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               nullable=True)
    op.alter_column('order_documents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               nullable=True)
    op.drop_constraint(None, 'maintenance_schedules', type_='foreignkey')
    op.create_foreign_key(op.f('maintenance_schedules_vehicle_id_fkey'), 'maintenance_schedules', 'vehicles', ['vehicle_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_maintenance_schedules_vehicle_id'), table_name='maintenance_schedules')
    op.drop_index(op.f('ix_maintenance_schedules_tenant_id'), table_name='maintenance_schedules')
    op.drop_index(op.f('ix_maintenance_schedules_maintenance_type'), table_name='maintenance_schedules')
    op.drop_index(op.f('ix_maintenance_schedules_id'), table_name='maintenance_schedules')
    op.create_index(op.f('idx_maintenance_schedules_vehicle_id'), 'maintenance_schedules', ['vehicle_id'], unique=False)
    op.create_index(op.f('idx_maintenance_schedules_type'), 'maintenance_schedules', ['maintenance_type'], unique=False)
    op.create_index(op.f('idx_maintenance_schedules_tenant_id'), 'maintenance_schedules', ['tenant_id'], unique=False)
    op.alter_column('maintenance_schedules', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'ACTIVE'::character varying"),
               existing_nullable=False)
    op.alter_column('maintenance_schedules', 'alert_before_km',
               existing_type=sa.INTEGER(),
               server_default=sa.text('500'),
               existing_nullable=True)
    op.alter_column('maintenance_schedules', 'alert_before_days',
               existing_type=sa.INTEGER(),
               server_default=sa.text('7'),
               existing_nullable=True)
    op.alter_column('maintenance_schedules', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('maintenance_schedules', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('maintenance_schedules', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'maintenance_records', type_='foreignkey')
    op.drop_constraint(None, 'maintenance_records', type_='foreignkey')
    op.create_foreign_key(op.f('maintenance_records_vehicle_id_fkey'), 'maintenance_records', 'vehicles', ['vehicle_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(op.f('maintenance_records_schedule_id_fkey'), 'maintenance_records', 'maintenance_schedules', ['schedule_id'], ['id'], ondelete='SET NULL')
    op.drop_index(op.f('ix_maintenance_records_vehicle_id'), table_name='maintenance_records')
    op.drop_index(op.f('ix_maintenance_records_tenant_id'), table_name='maintenance_records')
    op.drop_index(op.f('ix_maintenance_records_service_date'), table_name='maintenance_records')
    op.drop_index(op.f('ix_maintenance_records_schedule_id'), table_name='maintenance_records')
    op.drop_index(op.f('ix_maintenance_records_maintenance_type'), table_name='maintenance_records')
    op.drop_index(op.f('ix_maintenance_records_id'), table_name='maintenance_records')
    op.create_index(op.f('idx_maintenance_records_vehicle_id'), 'maintenance_records', ['vehicle_id'], unique=False)
    op.create_index(op.f('idx_maintenance_records_type'), 'maintenance_records', ['maintenance_type'], unique=False)
    op.create_index(op.f('idx_maintenance_records_tenant_id'), 'maintenance_records', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_maintenance_records_schedule_id'), 'maintenance_records', ['schedule_id'], unique=False)
    op.create_index(op.f('idx_maintenance_records_date'), 'maintenance_records', ['service_date'], unique=False)
    op.alter_column('maintenance_records', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'COMPLETED'::character varying"),
               existing_nullable=False)
    op.alter_column('maintenance_records', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('maintenance_records', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('maintenance_records', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'maintenance_items', type_='foreignkey')
    op.create_foreign_key(op.f('maintenance_items_record_id_fkey'), 'maintenance_items', 'maintenance_records', ['record_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_maintenance_items_tenant_id'), table_name='maintenance_items')
    op.drop_index(op.f('ix_maintenance_items_record_id'), table_name='maintenance_items')
    op.drop_index(op.f('ix_maintenance_items_id'), table_name='maintenance_items')
    op.create_index(op.f('idx_maintenance_items_tenant_id'), 'maintenance_items', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_maintenance_items_record_id'), 'maintenance_items', ['record_id'], unique=False)
    op.alter_column('maintenance_items', 'quantity',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.alter_column('maintenance_items', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('maintenance_items', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('maintenance_items', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_index(op.f('ix_locations_ward'), table_name='locations')
    op.drop_index(op.f('ix_locations_province'), table_name='locations')
    op.drop_index(op.f('ix_locations_is_active'), table_name='locations')
    op.drop_index(op.f('ix_locations_district'), table_name='locations')
    op.create_index(op.f('idx_locations_ward'), 'locations', ['ward'], unique=False)
    op.create_index(op.f('idx_locations_province'), 'locations', ['province'], unique=False)
    op.create_index(op.f('idx_locations_district'), 'locations', ['district'], unique=False)
    op.alter_column('locations', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_work_shifts_is_active'), table_name='hrm_work_shifts')
    op.drop_index(op.f('ix_hrm_work_shifts_id'), table_name='hrm_work_shifts')
    op.alter_column('hrm_work_shifts', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'core_end_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'core_start_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'is_flexible',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'night_shift_multiplier',
               existing_type=sa.Numeric(precision=3, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'is_night_shift',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'early_leave_grace_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'late_grace_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'working_hours',
               existing_type=sa.Numeric(precision=4, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'break_duration_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'break_end',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'break_start',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_work_shifts', 'end_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'start_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'name',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=100),
               type_=sa.VARCHAR(length=255),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_work_shifts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_work_shifts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_trainings', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_trainings_start_date'), table_name='hrm_trainings')
    op.drop_index(op.f('ix_hrm_trainings_id'), table_name='hrm_trainings')
    op.drop_index(op.f('ix_hrm_trainings_end_date'), table_name='hrm_trainings')
    op.alter_column('hrm_trainings', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_trainings', 'mandatory_for_positions',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'mandatory_for_departments',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'is_mandatory',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_trainings', 'passing_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_trainings', 'actual_cost',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_trainings', 'total_budget',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_trainings', 'cost_per_person',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_trainings', 'total_modules',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_trainings', 'course_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'format',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_trainings', 'duration_hours',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_trainings', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'content_outline',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'objectives',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_trainings', 'training_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=30),
               nullable=True)
    op.alter_column('hrm_trainings', 'code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=30),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_trainings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_trainings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_training_participants', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_training_participants_id'), table_name='hrm_training_participants')
    op.drop_index(op.f('ix_hrm_training_participants_certificate_id'), table_name='hrm_training_participants')
    op.alter_column('hrm_training_participants', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'feedback_comment',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'feedback_score',
               existing_type=sa.Integer(),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'attendance_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_training_participants', 'attended_hours',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_training_participants', 'score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'completion_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_training_participants', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_training_participants', 'progress_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_training_participants', 'modules_completed',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_training_participants', 'enrolled_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_training_participants', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_training_participants', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_teams_id'), table_name='hrm_teams')
    op.alter_column('hrm_teams', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_teams', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_teams', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_teams', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_shift_assignments_shift_id'), table_name='hrm_shift_assignments')
    op.drop_index(op.f('ix_hrm_shift_assignments_is_active'), table_name='hrm_shift_assignments')
    op.drop_index(op.f('ix_hrm_shift_assignments_id'), table_name='hrm_shift_assignments')
    op.drop_index(op.f('ix_hrm_shift_assignments_effective_from'), table_name='hrm_shift_assignments')
    op.alter_column('hrm_shift_assignments', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_shift_assignments', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_shift_assignments', 'working_days_json',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.alter_column('hrm_shift_assignments', 'effective_to',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_shift_assignments', 'effective_from',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_shift_assignments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_shift_assignments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_salary_structures_position_id'), table_name='hrm_salary_structures')
    op.drop_index(op.f('ix_hrm_salary_structures_is_active'), table_name='hrm_salary_structures')
    op.drop_index(op.f('ix_hrm_salary_structures_id'), table_name='hrm_salary_structures')
    op.drop_index(op.f('ix_hrm_salary_structures_department_id'), table_name='hrm_salary_structures')
    op.alter_column('hrm_salary_structures', 'is_default',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_salary_structures', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_salary_structures', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_salary_structures', 'employee_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('hrm_salary_structures', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_salary_structures', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_salary_components_id'), table_name='hrm_salary_components')
    op.alter_column('hrm_salary_components', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_salary_components', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_salary_components', 'is_insurance_base',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_salary_components', 'is_taxable',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_salary_components', 'percent_value',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_salary_components', 'formula',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_salary_components', 'default_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_salary_components', 'calculation_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_salary_components', 'component_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=30),
               nullable=True)
    op.alter_column('hrm_salary_components', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_salary_components', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_positions_id'), table_name='hrm_positions')
    op.alter_column('hrm_positions', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_positions', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_positions', 'requirements',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_positions', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_positions', 'level',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_positions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_positions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_payroll_records', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_payroll_records_payment_status'), table_name='hrm_payroll_records')
    op.drop_index(op.f('ix_hrm_payroll_records_id'), table_name='hrm_payroll_records')
    op.drop_index(op.f('ix_hrm_payroll_records_employee_salary_id'), table_name='hrm_payroll_records')
    op.create_index(op.f('ix_hrm_payroll_tenant_period'), 'hrm_payroll_records', ['tenant_id', 'payroll_period_id'], unique=False)
    op.alter_column('hrm_payroll_records', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'deductions_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=5000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'earnings_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=10000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'payment_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_payroll_records', 'payment_status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'total_cost',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'insurance_employer',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'net_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'total_deductions',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'other_deductions',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'penalty_deduction',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'loan_deduction',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'advance_deduction',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'tax_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'insurance_employee',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'gross_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'trip_income_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'commission_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'bonus_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'overtime_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'allowances_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'prorated_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'basic_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'ot_hours_holiday',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'ot_hours_weekend',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'ot_hours_weekday',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'early_leave_count',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'late_count',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'absent_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'unpaid_leave_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'leave_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'working_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_payroll_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_payroll_periods', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_payroll_periods_status'), table_name='hrm_payroll_periods')
    op.drop_index(op.f('ix_hrm_payroll_periods_id'), table_name='hrm_payroll_periods')
    op.alter_column('hrm_payroll_periods', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'holidays_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'total_working_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_periods', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_payroll_periods', 'payment_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'payroll_run_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_payroll_periods', 'attendance_cutoff_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_payroll_periods', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_payroll_periods', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_payroll_items_id'), table_name='hrm_payroll_items')
    op.alter_column('hrm_payroll_items', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_payroll_items', 'calculation_notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_payroll_items', 'amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_payroll_items', 'component_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=30),
               existing_nullable=False)
    op.alter_column('hrm_payroll_items', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_payroll_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_overtime_requests', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_overtime_requests_id'), table_name='hrm_overtime_requests')
    op.drop_index(op.f('ix_hrm_overtime_requests_attendance_record_id'), table_name='hrm_overtime_requests')
    op.alter_column('hrm_overtime_requests', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_overtime_requests', 'rejection_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_overtime_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_overtime_requests', 'reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_overtime_requests', 'multiplier',
               existing_type=sa.Numeric(precision=3, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_overtime_requests', 'ot_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_overtime_requests', 'hours',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'end_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'start_time',
               existing_type=sa.Time(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_overtime_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_overtime_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_leave_types_is_active'), table_name='hrm_leave_types')
    op.drop_index(op.f('ix_hrm_leave_types_id'), table_name='hrm_leave_types')
    op.alter_column('hrm_leave_types', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_types', 'min_tenure_months',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'requires_attachment',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'requires_approval',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'max_negative_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_types', 'allow_negative_balance',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'max_carry_forward_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_types', 'allow_carry_forward',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'accrual_per_month',
               existing_type=sa.Numeric(precision=4, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_types', 'is_accrual',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'default_days_per_year',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_types', 'is_paid',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_types', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_leave_types', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_leave_requests', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_leave_requests_to_date'), table_name='hrm_leave_requests')
    op.drop_index(op.f('ix_hrm_leave_requests_id'), table_name='hrm_leave_requests')
    op.drop_index(op.f('ix_hrm_leave_requests_handover_to_id'), table_name='hrm_leave_requests')
    op.drop_index(op.f('ix_hrm_leave_requests_from_date'), table_name='hrm_leave_requests')
    op.alter_column('hrm_leave_requests', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'cancellation_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'handover_notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_leave_requests', 'attachment_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_requests', 'total_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_requests', 'is_half_day',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_requests', 'to_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_leave_requests', 'from_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_leave_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_leave_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_leave_balances_id'), table_name='hrm_leave_balances')
    op.alter_column('hrm_leave_balances', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_balances', 'available_days',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'pending_days',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'used_days',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'carried_forward_days',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'entitled_days',
               existing_type=sa.Numeric(precision=5, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_leave_balances', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_leave_approvers_id'), table_name='hrm_leave_approvers')
    op.drop_index(op.f('ix_hrm_leave_approvers_approver_id'), table_name='hrm_leave_approvers')
    op.alter_column('hrm_leave_approvers', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_approvers', 'rejection_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_approvers', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_leave_approvers', 'level',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_leave_approvers', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_leave_approvers', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_leave_approval_flows_leave_type_id'), table_name='hrm_leave_approval_flows')
    op.drop_index(op.f('ix_hrm_leave_approval_flows_is_active'), table_name='hrm_leave_approval_flows')
    op.drop_index(op.f('ix_hrm_leave_approval_flows_id'), table_name='hrm_leave_approval_flows')
    op.drop_index(op.f('ix_hrm_leave_approval_flows_department_id'), table_name='hrm_leave_approval_flows')
    op.alter_column('hrm_leave_approval_flows', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'approval_levels',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'max_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'min_days',
               existing_type=sa.Numeric(precision=4, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_leave_approval_flows', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_job_postings_id'), table_name='hrm_job_postings')
    op.alter_column('hrm_job_postings', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_job_postings', 'applications_count',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_job_postings', 'views_count',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_job_postings', 'skills_required',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'benefits',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'requirements',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_job_postings', 'is_remote',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_job_postings', 'show_salary',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_job_postings', 'salary_currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('hrm_job_postings', 'headcount',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_job_postings', 'job_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_job_postings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_job_postings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_interviews_id'), table_name='hrm_interviews')
    op.alter_column('hrm_interviews', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'completed_at',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=postgresql.TIMESTAMP(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'overall_feedback',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'weaknesses',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'strengths',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'result',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_interviews', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_interviews', 'interviewer_ids_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'meeting_link',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_interviews', 'duration_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_interviews', 'interview_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_interviews', 'interview_round',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_interviews', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_interviews', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_insurance_records_start_date'), table_name='hrm_insurance_records')
    op.drop_index(op.f('ix_hrm_insurance_records_is_active'), table_name='hrm_insurance_records')
    op.drop_index(op.f('ix_hrm_insurance_records_id'), table_name='hrm_insurance_records')
    op.alter_column('hrm_insurance_records', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_insurance_records', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_insurance_records', 'employer_rate',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_records', 'employee_rate',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_records', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_insurance_records', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_insurance_records', 'registered_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_records', 'insurance_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=30),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_insurance_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_insurance_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_insurance_contributions_payroll_record_id'), table_name='hrm_insurance_contributions')
    op.drop_index(op.f('ix_hrm_insurance_contributions_id'), table_name='hrm_insurance_contributions')
    op.alter_column('hrm_insurance_contributions', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_insurance_contributions', 'paid_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_insurance_contributions', 'is_paid',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'total_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'employer_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'employee_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'salary_base',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_insurance_contributions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_evaluation_templates_position_id'), table_name='hrm_evaluation_templates')
    op.drop_index(op.f('ix_hrm_evaluation_templates_is_active'), table_name='hrm_evaluation_templates')
    op.drop_index(op.f('ix_hrm_evaluation_templates_id'), table_name='hrm_evaluation_templates')
    op.drop_index(op.f('ix_hrm_evaluation_templates_department_id'), table_name='hrm_evaluation_templates')
    op.alter_column('hrm_evaluation_templates', 'is_default',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_templates', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_templates', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_templates', 'name',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=100),
               type_=sa.VARCHAR(length=255),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_templates', 'code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=30),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_templates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_evaluation_templates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_evaluation_scores_id'), table_name='hrm_evaluation_scores')
    op.alter_column('hrm_evaluation_scores', 'evidence',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'comments',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'achievement_percent',
               existing_type=sa.Numeric(precision=6, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'actual_value',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_scores', 'weighted_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_scores', 'score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_scores', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_evaluation_scores', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_evaluation_periods_start_date'), table_name='hrm_evaluation_periods')
    op.drop_index(op.f('ix_hrm_evaluation_periods_id'), table_name='hrm_evaluation_periods')
    op.drop_index(op.f('ix_hrm_evaluation_periods_end_date'), table_name='hrm_evaluation_periods')
    op.alter_column('hrm_evaluation_periods', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'subordinate_weight',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'peer_weight',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'manager_weight',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'self_weight',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'enable_subordinate_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'enable_peer_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'enable_manager_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'enable_self_evaluation',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'evaluation_end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'evaluation_start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_periods', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'period_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'name',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=100),
               type_=sa.VARCHAR(length=255),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_periods', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_evaluation_periods', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_evaluation_criteria_id'), table_name='hrm_evaluation_criteria')
    op.alter_column('hrm_evaluation_criteria', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'target_unit',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'target_value',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'score_labels_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'max_score',
               existing_type=sa.Numeric(precision=3, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'min_score',
               existing_type=sa.Numeric(precision=3, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'weight',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'category',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=30),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_evaluation_criteria', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_evaluation_criteria', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_employees', type_='foreignkey')
    op.drop_constraint(None, 'hrm_employees', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_employees_work_shift_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_team_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_resign_date'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_position_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_manager_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_join_date'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_department_id'), table_name='hrm_employees')
    op.drop_index(op.f('ix_hrm_employees_branch_id'), table_name='hrm_employees')
    op.create_index(op.f('ix_hrm_employees_tenant_code'), 'hrm_employees', ['tenant_id', 'employee_code'], unique=False)
    op.alter_column('hrm_employees', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'avatar_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_check_expiry',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_check_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'license_expiry',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'license_class',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=10),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'health_insurance_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'social_insurance_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'resign_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'resign_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'official_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'probation_end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'join_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'status',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_employees', 'employee_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_employees', 'tax_code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_expiry_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_issue_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'id_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'current_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'permanent_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'phone',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'nationality',
               existing_type=sa.VARCHAR(length=50),
               nullable=True)
    op.alter_column('hrm_employees', 'date_of_birth',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employees', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employees', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_employee_salaries', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_employee_salaries_structure_id'), table_name='hrm_employee_salaries')
    op.drop_index(op.f('ix_hrm_employee_salaries_is_current'), table_name='hrm_employee_salaries')
    op.drop_index(op.f('ix_hrm_employee_salaries_id'), table_name='hrm_employee_salaries')
    op.drop_index(op.f('ix_hrm_employee_salaries_effective_to'), table_name='hrm_employee_salaries')
    op.drop_index(op.f('ix_hrm_employee_salaries_effective_from'), table_name='hrm_employee_salaries')
    op.alter_column('hrm_employee_salaries', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'is_current',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_employee_salaries', 'trip_rate_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'overrides_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=5000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'effective_to',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_salaries', 'effective_from',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_employee_salaries', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employee_salaries', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_employee_final_scores_id'), table_name='hrm_employee_final_scores')
    op.alter_column('hrm_employee_final_scores', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_employee_final_scores', 'review_comments',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'training_recommended',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'promotion_recommended',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_employee_final_scores', 'bonus_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'salary_adjustment_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'final_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_employee_final_scores', 'subordinate_avg_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'peer_avg_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'manager_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'self_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_employee_final_scores', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employee_final_scores', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_employee_evaluations_template_id'), table_name='hrm_employee_evaluations')
    op.drop_index(op.f('ix_hrm_employee_evaluations_id'), table_name='hrm_employee_evaluations')
    op.alter_column('hrm_employee_evaluations', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'employee_comments',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'goals_next_period',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'overall_comments',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'improvements',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'strengths',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_evaluations', 'weighted_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_employee_evaluations', 'total_score',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_employee_evaluations', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_employee_evaluations', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employee_evaluations', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_employee_documents', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_employee_documents_id'), table_name='hrm_employee_documents')
    op.drop_index(op.f('ix_hrm_employee_documents_expiry_date'), table_name='hrm_employee_documents')
    op.alter_column('hrm_employee_documents', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'is_verified',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_employee_documents', 'alert_before_days',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_employee_documents', 'file_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'expiry_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'issue_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'document_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=100),
               existing_nullable=True)
    op.alter_column('hrm_employee_documents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employee_documents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_employee_dependents_id'), table_name='hrm_employee_dependents')
    op.alter_column('hrm_employee_dependents', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_employee_dependents', 'document_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=100),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'document_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=100),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'deduction_to',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'deduction_from',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'tax_code',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'id_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=50),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'date_of_birth',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_employee_dependents', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_employee_dependents', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_departments_id'), table_name='hrm_departments')
    op.alter_column('hrm_departments', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_departments', 'sort_order',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_departments', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_departments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_departments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_deductions', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_deductions_start_date'), table_name='hrm_deductions')
    op.drop_index(op.f('ix_hrm_deductions_is_active'), table_name='hrm_deductions')
    op.drop_index(op.f('ix_hrm_deductions_id'), table_name='hrm_deductions')
    op.alter_column('hrm_deductions', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_deductions', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_deductions', 'interest_rate',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_deductions', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_deductions', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'monthly_deduction',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_deductions', 'remaining_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_deductions', 'total_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_deductions', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.VARCHAR(length=255),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'deduction_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=30),
               existing_nullable=False)
    op.alter_column('hrm_deductions', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_deductions', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_contracts', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_contracts_start_date'), table_name='hrm_contracts')
    op.drop_index(op.f('ix_hrm_contracts_previous_contract_id'), table_name='hrm_contracts')
    op.drop_index(op.f('ix_hrm_contracts_id'), table_name='hrm_contracts')
    op.drop_index(op.f('ix_hrm_contracts_end_date'), table_name='hrm_contracts')
    op.alter_column('hrm_contracts', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'expiry_alert_days',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_contracts', 'company_signed_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'employee_signed_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'contract_file_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'termination_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'termination_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'working_days_per_week',
               existing_type=sa.Numeric(precision=3, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_contracts', 'working_hours_per_day',
               existing_type=sa.Numeric(precision=3, scale=1),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_contracts', 'job_description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'job_title',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=100),
               type_=sa.VARCHAR(length=255),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'probation_salary_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_contracts', 'allowances_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'insurance_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'basic_salary',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_contracts', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_contracts', 'sign_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_contracts', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_contracts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_contracts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_certificates', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_certificates_training_id'), table_name='hrm_certificates')
    op.drop_index(op.f('ix_hrm_certificates_issue_date'), table_name='hrm_certificates')
    op.drop_index(op.f('ix_hrm_certificates_id'), table_name='hrm_certificates')
    op.drop_index(op.f('ix_hrm_certificates_expiry_date'), table_name='hrm_certificates')
    op.alter_column('hrm_certificates', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'is_verified',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_certificates', 'alert_before_days',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_certificates', 'file_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'license_class',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=10),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'expiry_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_certificates', 'issue_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'certificate_type',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=30),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'certificate_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=100),
               existing_nullable=False)
    op.alter_column('hrm_certificates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_certificates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_candidates_id'), table_name='hrm_candidates')
    op.alter_column('hrm_candidates', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'rejection_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'status',
               existing_type=sa.VARCHAR(length=30),
               nullable=True)
    op.alter_column('hrm_candidates', 'languages_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'skills_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'portfolio_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'cover_letter',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'resume_url',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_candidates', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_candidates', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_hrm_branches_id'), table_name='hrm_branches')
    op.alter_column('hrm_branches', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_branches', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_branches', 'is_headquarters',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_branches', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_branches', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_branches', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_attendance_records', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_attendance_records_shift_id'), table_name='hrm_attendance_records')
    op.drop_index(op.f('ix_hrm_attendance_records_id'), table_name='hrm_attendance_records')
    op.create_index(op.f('ix_hrm_attendance_tenant_date'), 'hrm_attendance_records', ['tenant_id', 'date'], unique=False)
    op.alter_column('hrm_attendance_records', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'is_approved',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'trip_ids_json',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'work_units',
               existing_type=sa.Numeric(precision=3, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'overtime_hours',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'working_hours',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'early_leave_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'late_minutes',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'check_out_time',
               existing_type=sa.DateTime(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'check_in_time',
               existing_type=sa.DateTime(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_attendance_records', 'date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_attendance_records', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_attendance_records', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_advance_requests', type_='foreignkey')
    op.drop_constraint(None, 'hrm_advance_requests', type_='foreignkey')
    op.drop_constraint(None, 'hrm_advance_requests', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_advance_requests_trip_id'), table_name='hrm_advance_requests')
    op.drop_index(op.f('ix_hrm_advance_requests_request_date'), table_name='hrm_advance_requests')
    op.drop_index(op.f('ix_hrm_advance_requests_id'), table_name='hrm_advance_requests')
    op.alter_column('hrm_advance_requests', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'monthly_deduction_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'deduction_start_month',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=7),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'repayment_method',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=30),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'remaining_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'repaid_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'paid_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'rejection_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'needed_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'request_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'advance_type',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'purpose',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_advance_requests', 'approved_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'requested_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'request_number',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=30),
               type_=sa.VARCHAR(length=50),
               existing_nullable=False)
    op.alter_column('hrm_advance_requests', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_advance_requests', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'hrm_advance_repayments', type_='foreignkey')
    op.drop_index(op.f('ix_hrm_advance_repayments_repayment_date'), table_name='hrm_advance_repayments')
    op.drop_index(op.f('ix_hrm_advance_repayments_payroll_record_id'), table_name='hrm_advance_repayments')
    op.drop_index(op.f('ix_hrm_advance_repayments_id'), table_name='hrm_advance_repayments')
    op.alter_column('hrm_advance_repayments', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('hrm_advance_repayments', 'repayment_method',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=20),
               type_=sa.VARCHAR(length=30),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'repayment_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=10),
               existing_nullable=False)
    op.alter_column('hrm_advance_repayments', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('hrm_advance_repayments', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'fuel_logs', type_='foreignkey')
    op.drop_constraint(None, 'fuel_logs', type_='foreignkey')
    op.create_foreign_key(op.f('fuel_logs_vehicle_id_fkey'), 'fuel_logs', 'vehicles', ['vehicle_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(op.f('fuel_logs_driver_id_fkey'), 'fuel_logs', 'drivers', ['driver_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_fuel_logs_vehicle_id'), table_name='fuel_logs')
    op.drop_index(op.f('ix_fuel_logs_tenant_id'), table_name='fuel_logs')
    op.drop_index(op.f('ix_fuel_logs_payment_status'), table_name='fuel_logs')
    op.drop_index(op.f('ix_fuel_logs_id'), table_name='fuel_logs')
    op.drop_index(op.f('ix_fuel_logs_driver_id'), table_name='fuel_logs')
    op.drop_index(op.f('ix_fuel_logs_date'), table_name='fuel_logs')
    op.create_index(op.f('idx_fuel_logs_vehicle_id'), 'fuel_logs', ['vehicle_id'], unique=False)
    op.create_index(op.f('idx_fuel_logs_tenant_id'), 'fuel_logs', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_fuel_logs_payment_status'), 'fuel_logs', ['payment_status'], unique=False)
    op.create_index(op.f('idx_fuel_logs_driver_id'), 'fuel_logs', ['driver_id'], unique=False)
    op.create_index(op.f('idx_fuel_logs_date'), 'fuel_logs', ['date'], unique=False)
    op.alter_column('fuel_logs', 'payment_status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'UNPAID'::character varying"),
               existing_nullable=False)
    op.alter_column('fuel_logs', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('fuel_logs', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('fuel_logs', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'empty_returns', type_='foreignkey')
    op.create_foreign_key(op.f('empty_returns_order_id_fkey'), 'empty_returns', 'orders', ['order_id'], ['id'], ondelete='CASCADE')
    op.drop_index(op.f('ix_empty_returns_tenant_id'), table_name='empty_returns')
    op.drop_index(op.f('ix_empty_returns_status'), table_name='empty_returns')
    op.drop_index(op.f('ix_empty_returns_return_date'), table_name='empty_returns')
    op.drop_index(op.f('ix_empty_returns_port_site_id'), table_name='empty_returns')
    op.drop_index(op.f('ix_empty_returns_order_id'), table_name='empty_returns')
    op.drop_index(op.f('ix_empty_returns_id'), table_name='empty_returns')
    op.create_index(op.f('idx_empty_returns_tenant_id'), 'empty_returns', ['tenant_id'], unique=False)
    op.create_index(op.f('idx_empty_returns_status'), 'empty_returns', ['status'], unique=False)
    op.create_index(op.f('idx_empty_returns_return_date'), 'empty_returns', ['return_date'], unique=False)
    op.create_index(op.f('idx_empty_returns_port_site_id'), 'empty_returns', ['port_site_id'], unique=False)
    op.create_index(op.f('idx_empty_returns_order_id'), 'empty_returns', ['order_id'], unique=False)
    op.alter_column('empty_returns', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'PENDING'::character varying"),
               existing_nullable=False)
    op.alter_column('empty_returns', 'total_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'total_amount',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'other_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'other_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'repair_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'repair_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'storage_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'storage_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'lift_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'lift_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'cleaning_fee_paid',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'cleaning_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('empty_returns', 'port_site_id',
               existing_type=sa.VARCHAR(),
               nullable=False)
    op.alter_column('empty_returns', 'return_date',
               existing_type=sa.DATE(),
               nullable=False)
    op.alter_column('empty_returns', 'id',
               existing_type=sa.VARCHAR(),
               server_default=sa.text('(gen_random_uuid())::text'),
               existing_nullable=False)
    op.alter_column('empty_returns', 'updated_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.alter_column('empty_returns', 'created_at',
               existing_type=sa.DateTime(),
               server_default=sa.text('now()'),
               type_=postgresql.TIMESTAMP(timezone=True),
               nullable=True)
    op.drop_constraint(None, 'drivers', type_='foreignkey')
    op.drop_constraint(None, 'drivers', type_='foreignkey')
    op.drop_constraint(None, 'drivers', type_='foreignkey')
    op.create_foreign_key(op.f('fk_drivers_employee_id'), 'drivers', 'hrm_employees', ['employee_id'], ['id'], ondelete='SET NULL')
    op.drop_index(op.f('ix_drivers_vehicle_id'), table_name='drivers')
    op.drop_index(op.f('ix_drivers_trailer_id'), table_name='drivers')
    op.drop_index(op.f('ix_drivers_tractor_id'), table_name='drivers')
    op.create_index(op.f('idx_drivers_vehicle'), 'drivers', ['vehicle_id'], unique=False)
    op.create_index(op.f('idx_drivers_trailer'), 'drivers', ['trailer_id'], unique=False)
    op.create_index(op.f('idx_drivers_tractor'), 'drivers', ['tractor_id'], unique=False)
    op.alter_column('drivers', 'dependent_count',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('drivers', 'base_salary',
               existing_type=sa.INTEGER(),
               server_default=sa.text('5000000'),
               nullable=True)
    op.drop_index(op.f('ix_driver_salary_settings_tenant_id'), table_name='driver_salary_settings')
    op.drop_index(op.f('ix_driver_salary_settings_id'), table_name='driver_salary_settings')
    op.create_index(op.f('idx_driver_salary_settings_tenant'), 'driver_salary_settings', ['tenant_id'], unique=False)
    op.alter_column('driver_salary_settings', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'ACTIVE'::character varying"),
               nullable=True)
    op.alter_column('driver_salary_settings', 'holiday_multiplier',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               server_default=sa.text('2.0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'bonus_55_plus_trips',
               existing_type=sa.INTEGER(),
               server_default=sa.text('2000000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'bonus_51_54_trips',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1500000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'bonus_45_50_trips',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1000000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'third_trip_bonus',
               existing_type=sa.INTEGER(),
               server_default=sa.text('700000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'second_trip_bonus',
               existing_type=sa.INTEGER(),
               server_default=sa.text('500000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_to_customer_bonus',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'flatbed_tarp_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_gate_fee',
               existing_type=sa.INTEGER(),
               server_default=sa.text('50000'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_13',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'warehouse_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_13',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'port_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=sa.text('0'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_12',
               existing_type=sa.INTEGER(),
               server_default=sa.text('250'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_11',
               existing_type=sa.INTEGER(),
               server_default=sa.text('200'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_10',
               existing_type=sa.INTEGER(),
               server_default=sa.text('150'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_9',
               existing_type=sa.INTEGER(),
               server_default=sa.text('120'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_8',
               existing_type=sa.INTEGER(),
               server_default=sa.text('100'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_7',
               existing_type=sa.INTEGER(),
               server_default=sa.text('80'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_6',
               existing_type=sa.INTEGER(),
               server_default=sa.text('60'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_5',
               existing_type=sa.INTEGER(),
               server_default=sa.text('50'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_4',
               existing_type=sa.INTEGER(),
               server_default=sa.text('200'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_3',
               existing_type=sa.INTEGER(),
               server_default=sa.text('150'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_2',
               existing_type=sa.INTEGER(),
               server_default=sa.text('100'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'distance_bracket_1',
               existing_type=sa.INTEGER(),
               server_default=sa.text('50'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               nullable=True)
    op.alter_column('driver_salary_settings', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('CURRENT_TIMESTAMP'),
               nullable=True)
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_constraint(None, 'crm_sales_orders', type_='foreignkey')
    op.drop_index(op.f('ix_crm_sales_orders_payment_status'), table_name='crm_sales_orders')
    op.drop_index(op.f('ix_crm_sales_orders_order_date'), table_name='crm_sales_orders')
    op.drop_index(op.f('ix_crm_sales_orders_id'), table_name='crm_sales_orders')
    op.drop_index(op.f('ix_crm_sales_orders_delivery_date'), table_name='crm_sales_orders')
    op.drop_index(op.f('ix_crm_sales_orders_created_by'), table_name='crm_sales_orders')
    op.alter_column('crm_sales_orders', 'internal_notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'payment_terms',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=100),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'billing_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'shipping_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=500),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'currency',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=3),
               type_=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_sales_orders', 'amount_due',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_orders', 'amount_paid',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_orders', 'total_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_orders', 'shipping_cost',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_orders', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_orders', 'discount_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_orders', 'tax_amount',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_orders', 'subtotal',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_orders', 'delivery_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('crm_sales_orders', 'order_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('crm_sales_orders', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=True)
    op.alter_column('crm_sales_orders', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'crm_sales_order_items', type_='foreignkey')
    op.drop_index(op.f('ix_crm_sales_order_items_product_id'), table_name='crm_sales_order_items')
    op.drop_index(op.f('ix_crm_sales_order_items_id'), table_name='crm_sales_order_items')
    op.alter_column('crm_sales_order_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'line_total',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'tax_amount',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'tax_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'discount_amount',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'discount_percent',
               existing_type=sa.Numeric(precision=5, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'unit_price',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'quantity_returned',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'quantity_delivered',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'quantity_shipped',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'quantity',
               existing_type=sa.Numeric(precision=12, scale=4),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_sales_order_items', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=1000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.drop_constraint(None, 'crm_quotes', type_='foreignkey')
    op.drop_index(op.f('ix_crm_quotes_status'), table_name='crm_quotes')
    op.drop_index(op.f('ix_crm_quotes_id'), table_name='crm_quotes')
    op.alter_column('crm_quotes', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_quotes', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_quotes', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'rejection_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'terms_conditions',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'delivery_terms',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'payment_terms',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quotes', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_quotes', 'total_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'tax_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'tax_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'discount_amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'subtotal',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quotes', 'version',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('crm_quote_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_quote_items', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_quote_items', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quote_items', 'unit_price',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quote_items', 'quantity',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_quote_items', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               nullable=False)
    op.alter_column('crm_quote_items', 'service_type',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('crm_quote_items', 'service_category',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'TMS'::character varying"),
               nullable=True)
    op.alter_column('crm_quote_items', 'line_number',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.drop_index(op.f('ix_crm_opportunities_id'), table_name='crm_opportunities')
    op.create_index(op.f('ix_crm_opportunities_tenant_stage'), 'crm_opportunities', ['tenant_id', 'stage'], unique=False)
    op.alter_column('crm_opportunities', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'next_step',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'close_reason',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_opportunities', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_opportunities', 'amount',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_opportunities', 'probability',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_opportunities', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('crm_opportunities', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_opportunities', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_constraint(None, 'crm_leads', type_='foreignkey')
    op.drop_constraint(None, 'crm_leads', type_='foreignkey')
    op.drop_constraint(None, 'crm_leads', type_='foreignkey')
    op.drop_index(op.f('ix_crm_leads_id'), table_name='crm_leads')
    op.drop_index(op.f('ix_crm_leads_email'), table_name='crm_leads')
    op.drop_index(op.f('ix_crm_leads_company_name'), table_name='crm_leads')
    op.create_index(op.f('ix_crm_leads_tenant_status'), 'crm_leads', ['tenant_id', 'status'], unique=False)
    op.create_index(op.f('ix_crm_leads_source'), 'crm_leads', ['source'], unique=False)
    op.alter_column('crm_leads', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_leads', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_leads', 'estimated_value',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_leads', 'country',
               existing_type=sa.VARCHAR(length=100),
               nullable=True)
    op.alter_column('crm_leads', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_leads', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=False)
    op.alter_column('crm_leads', 'last_name',
               existing_type=sa.VARCHAR(length=100),
               nullable=False)
    op.alter_column('crm_leads', 'code',
               existing_type=sa.VARCHAR(length=50),
               nullable=False)
    op.alter_column('crm_leads', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_leads', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_crm_customer_groups_id'), table_name='crm_customer_groups')
    op.alter_column('crm_customer_groups', 'is_active',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_customer_groups', 'priority',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('crm_customer_groups', 'credit_limit_default',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_customer_groups', 'discount_percent',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_customer_groups', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_customer_groups', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_customer_groups', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_crm_contracts_id'), table_name='crm_contracts')
    op.alter_column('crm_contracts', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=2000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'terms_conditions',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=10000),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'renewal_notice_days',
               existing_type=sa.INTEGER(),
               server_default=sa.text('30'),
               nullable=True)
    op.alter_column('crm_contracts', 'auto_renew',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               nullable=True)
    op.alter_column('crm_contracts', 'payment_terms',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=50),
               type_=sa.VARCHAR(length=100),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'currency',
               existing_type=sqlmodel.sql.sqltypes.AutoString(length=3),
               type_=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_contracts', 'total_value',
               existing_type=sa.Numeric(precision=18, scale=2),
               type_=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_contracts', 'signed_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'end_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'start_date',
               existing_type=sa.Date(),
               type_=sa.VARCHAR(length=20),
               existing_nullable=True)
    op.alter_column('crm_contracts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=True)
    op.alter_column('crm_contracts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.add_column('crm_contract_items', sa.Column('notes', sa.VARCHAR(length=500), autoincrement=False, nullable=True))
    op.add_column('crm_contract_items', sa.Column('service_type', sa.VARCHAR(length=50), autoincrement=False, nullable=True))
    op.add_column('crm_contract_items', sa.Column('line_number', sa.INTEGER(), server_default=sa.text('1'), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_crm_contract_items_id'), table_name='crm_contract_items')
    op.alter_column('crm_contract_items', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               nullable=True)
    op.alter_column('crm_contract_items', 'line_total',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_contract_items', 'tax_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_contract_items', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_contract_items', 'unit_price',
               existing_type=sa.NUMERIC(precision=18, scale=2),
               server_default=sa.text("'0'::numeric"),
               nullable=True)
    op.alter_column('crm_contract_items', 'quantity',
               existing_type=sa.NUMERIC(precision=12, scale=4),
               server_default=sa.text("'1'::numeric"),
               nullable=True)
    op.alter_column('crm_contract_items', 'product_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=True)
    op.drop_column('crm_contract_items', 'updated_at')
    op.drop_column('crm_contract_items', 'billing_frequency')
    op.drop_column('crm_contract_items', 'billing_end_date')
    op.drop_column('crm_contract_items', 'billing_start_date')
    op.drop_column('crm_contract_items', 'product_code')
    op.drop_index(op.f('ix_crm_contacts_id'), table_name='crm_contacts')
    op.drop_index(op.f('ix_crm_contacts_email'), table_name='crm_contacts')
    op.alter_column('crm_contacts', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_contacts', 'status',
               existing_type=sa.VARCHAR(length=20),
               nullable=True)
    op.alter_column('crm_contacts', 'decision_maker',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_contacts', 'is_shipping_contact',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_contacts', 'is_billing_contact',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_contacts', 'is_primary',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_contacts', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_contacts', 'full_name',
               existing_type=sa.VARCHAR(length=255),
               nullable=False)
    op.alter_column('crm_contacts', 'last_name',
               existing_type=sa.VARCHAR(length=100),
               nullable=False)
    op.alter_column('crm_contacts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_contacts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_crm_activities_id'), table_name='crm_activities')
    op.create_index(op.f('ix_crm_activities_tenant_type_status'), 'crm_activities', ['tenant_id', 'activity_type', 'status'], unique=False)
    op.alter_column('crm_activities', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'next_action',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'outcome',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'reminded',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_activities', 'participants',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'priority',
               existing_type=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_activities', 'description',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_activities', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_activities', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_crm_accounts_tax_code'), table_name='crm_accounts')
    op.drop_index(op.f('ix_crm_accounts_status'), table_name='crm_accounts')
    op.drop_index(op.f('ix_crm_accounts_id'), table_name='crm_accounts')
    op.drop_index(op.f('ix_crm_accounts_account_type'), table_name='crm_accounts')
    op.create_index(op.f('ix_crm_accounts_tenant_type'), 'crm_accounts', ['tenant_id', 'account_type'], unique=False)
    op.create_index(op.f('ix_crm_accounts_tenant_status'), 'crm_accounts', ['tenant_id', 'status'], unique=False)
    op.alter_column('crm_accounts', 'notes',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'synced_to_tms',
               existing_type=sa.BOOLEAN(),
               nullable=True)
    op.alter_column('crm_accounts', 'service_preferences',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'default_delivery_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'default_pickup_address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'currency',
               existing_type=sa.VARCHAR(length=10),
               nullable=True)
    op.alter_column('crm_accounts', 'credit_days',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.alter_column('crm_accounts', 'credit_limit',
               existing_type=sa.DOUBLE_PRECISION(precision=53),
               nullable=True)
    op.alter_column('crm_accounts', 'country',
               existing_type=sa.VARCHAR(length=100),
               nullable=True)
    op.alter_column('crm_accounts', 'address',
               existing_type=sqlmodel.sql.sqltypes.AutoString(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('crm_accounts', 'updated_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.alter_column('crm_accounts', 'created_at',
               existing_type=postgresql.TIMESTAMP(),
               server_default=sa.text('now()'),
               nullable=True)
    op.drop_index(op.f('ix_acc_vendor_invoices_invoice_type'), table_name='acc_vendor_invoices')
    op.drop_index(op.f('ix_acc_vendor_invoices_invoice_date'), table_name='acc_vendor_invoices')
    op.drop_index(op.f('ix_acc_vendor_invoices_id'), table_name='acc_vendor_invoices')
    op.drop_index(op.f('ix_acc_vendor_invoices_due_date'), table_name='acc_vendor_invoices')
    op.alter_column('acc_vendor_invoices', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'balance_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'paid_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'total_amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'total_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'subtotal',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'is_matched',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoices', 'invoice_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''PURCHASE'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_vendor_invoice_lines_id'), table_name='acc_vendor_invoice_lines')
    op.alter_column('acc_vendor_invoice_lines', 'received_quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'line_total',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'tax_rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'unit_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_vendor_invoice_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_tax_rates_id'), table_name='acc_tax_rates')
    op.alter_column('acc_tax_rates', 'is_default',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'rate_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''PERCENTAGE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_tax_rates', 'tax_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VAT'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_projects_id'), table_name='acc_projects')
    op.alter_column('acc_projects', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_projects', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''ACTIVE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_projects', 'actual_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_projects', 'budget_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_payment_vouchers_voucher_date'), table_name='acc_payment_vouchers')
    op.drop_index(op.f('ix_acc_payment_vouchers_id'), table_name='acc_payment_vouchers')
    op.alter_column('acc_payment_vouchers', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'unallocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_vouchers', 'payment_method',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''BANK_TRANSFER'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_payment_voucher_allocations_voucher_id'), table_name='acc_payment_voucher_allocations')
    op.drop_index(op.f('ix_acc_payment_voucher_allocations_invoice_id'), table_name='acc_payment_voucher_allocations')
    op.drop_index(op.f('ix_acc_payment_voucher_allocations_id'), table_name='acc_payment_voucher_allocations')
    op.alter_column('acc_payment_voucher_allocations', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_payment_receipts_receipt_date'), table_name='acc_payment_receipts')
    op.drop_index(op.f('ix_acc_payment_receipts_id'), table_name='acc_payment_receipts')
    op.alter_column('acc_payment_receipts', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'unallocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_payment_receipts', 'payment_method',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''CASH'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_payment_receipt_allocations_receipt_id'), table_name='acc_payment_receipt_allocations')
    op.drop_index(op.f('ix_acc_payment_receipt_allocations_invoice_id'), table_name='acc_payment_receipt_allocations')
    op.drop_index(op.f('ix_acc_payment_receipt_allocations_id'), table_name='acc_payment_receipt_allocations')
    op.alter_column('acc_payment_receipt_allocations', 'allocated_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_journals_id'), table_name='acc_journals')
    op.alter_column('acc_journals', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_journals', 'sequence_padding',
               existing_type=sa.INTEGER(),
               server_default=sa.text('6'),
               existing_nullable=False)
    op.alter_column('acc_journals', 'next_sequence',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.alter_column('acc_journals', 'sequence_prefix',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''JE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_journals', 'journal_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''GENERAL'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_journal_entry_lines_partner_id'), table_name='acc_journal_entry_lines')
    op.drop_index(op.f('ix_acc_journal_entry_lines_id'), table_name='acc_journal_entry_lines')
    op.alter_column('acc_journal_entry_lines', 'is_reconciled',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'amount_currency',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'credit_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'debit_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entry_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_journal_entries_journal_id'), table_name='acc_journal_entries')
    op.drop_index(op.f('ix_acc_journal_entries_id'), table_name='acc_journal_entries')
    op.alter_column('acc_journal_entries', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'total_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_journal_entries', 'total_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_general_ledger_partner_id'), table_name='acc_general_ledger')
    op.drop_index(op.f('ix_acc_general_ledger_id'), table_name='acc_general_ledger')
    op.drop_index(op.f('ix_acc_general_ledger_account_code'), table_name='acc_general_ledger')
    op.alter_column('acc_general_ledger', 'closing_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'closing_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'period_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'period_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'opening_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_general_ledger', 'opening_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_fixed_assets_vehicle_id'), table_name='acc_fixed_assets')
    op.drop_index(op.f('ix_acc_fixed_assets_id'), table_name='acc_fixed_assets')
    op.alter_column('acc_fixed_assets', 'is_fully_depreciated',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'disposal_gain_loss',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'disposal_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'accumulated_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'monthly_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'remaining_life_months',
               existing_type=sa.INTEGER(),
               server_default=sa.text('60'),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'useful_life_months',
               existing_type=sa.INTEGER(),
               server_default=sa.text('60'),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'depreciation_method',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''STRAIGHT_LINE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'depreciable_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'salvage_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'original_cost',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'additional_costs',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_assets', 'purchase_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_fixed_asset_categories_id'), table_name='acc_fixed_asset_categories')
    op.alter_column('acc_fixed_asset_categories', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_salvage_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_depreciation_method',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''STRAIGHT_LINE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'default_useful_life',
               existing_type=sa.INTEGER(),
               server_default=sa.text('60'),
               existing_nullable=False)
    op.alter_column('acc_fixed_asset_categories', 'category_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''MACHINERY'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_fiscal_years_id'), table_name='acc_fiscal_years')
    op.alter_column('acc_fiscal_years', 'is_closed',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_fiscal_years', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_fiscal_periods_id'), table_name='acc_fiscal_periods')
    op.alter_column('acc_fiscal_periods', 'is_adjustment',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_fiscal_periods', 'is_open',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_customer_invoices_invoice_type'), table_name='acc_customer_invoices')
    op.drop_index(op.f('ix_acc_customer_invoices_invoice_date'), table_name='acc_customer_invoices')
    op.drop_index(op.f('ix_acc_customer_invoices_id'), table_name='acc_customer_invoices')
    op.drop_index(op.f('ix_acc_customer_invoices_due_date'), table_name='acc_customer_invoices')
    op.alter_column('acc_customer_invoices', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'balance_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'paid_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'total_amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'total_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'subtotal',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoices', 'invoice_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''SALES'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_customer_invoice_lines_id'), table_name='acc_customer_invoice_lines')
    op.alter_column('acc_customer_invoice_lines', 'line_total',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'tax_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'tax_rate',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'discount_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'discount_percent',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'unit_price',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'quantity',
               existing_type=sa.NUMERIC(precision=15, scale=4),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_customer_invoice_lines', 'line_number',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_cost_centers_id'), table_name='acc_cost_centers')
    op.alter_column('acc_cost_centers', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_cost_centers', 'budget_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_chart_of_accounts_is_active'), table_name='acc_chart_of_accounts')
    op.drop_index(op.f('ix_acc_chart_of_accounts_id'), table_name='acc_chart_of_accounts')
    op.drop_index(op.f('ix_acc_chart_of_accounts_category'), table_name='acc_chart_of_accounts')
    op.alter_column('acc_chart_of_accounts', 'current_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'current_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'opening_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'opening_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'allow_multi_currency',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_project',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_cost_center',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'require_partner',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'allow_posting',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_system',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_active',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('true'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'nature',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DEBIT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'classification',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''ASSET'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'is_parent',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_chart_of_accounts', 'level',
               existing_type=sa.INTEGER(),
               server_default=sa.text('1'),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_bank_transactions_transaction_type'), table_name='acc_bank_transactions')
    op.drop_index(op.f('ix_acc_bank_transactions_transaction_number'), table_name='acc_bank_transactions')
    op.drop_index(op.f('ix_acc_bank_transactions_partner_id'), table_name='acc_bank_transactions')
    op.drop_index(op.f('ix_acc_bank_transactions_is_reconciled'), table_name='acc_bank_transactions')
    op.drop_index(op.f('ix_acc_bank_transactions_id'), table_name='acc_bank_transactions')
    op.alter_column('acc_bank_transactions', 'is_reconciled',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''PENDING'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'running_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'amount_vnd',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'exchange_rate',
               existing_type=sa.NUMERIC(precision=15, scale=6),
               server_default=sa.text("'1'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_transactions', 'transaction_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''CREDIT'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_bank_reconciliations_status'), table_name='acc_bank_reconciliations')
    op.drop_index(op.f('ix_acc_bank_reconciliations_reconciliation_date'), table_name='acc_bank_reconciliations')
    op.drop_index(op.f('ix_acc_bank_reconciliations_id'), table_name='acc_bank_reconciliations')
    op.alter_column('acc_bank_reconciliations', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''DRAFT'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'difference',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'adjusted_book_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'adjusted_statement_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'other_adjustments',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'bank_interest',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'bank_charges',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'outstanding_checks',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'deposits_in_transit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'book_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_reconciliations', 'statement_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_bank_accounts_id'), table_name='acc_bank_accounts')
    op.drop_index(op.f('ix_acc_bank_accounts_account_type'), table_name='acc_bank_accounts')
    op.alter_column('acc_bank_accounts', 'last_reconcile_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'status',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''ACTIVE'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'opening_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'available_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'current_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'is_primary',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_bank_accounts', 'account_type',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''CURRENT'''::character varying"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_asset_depreciations_id'), table_name='acc_asset_depreciations')
    op.drop_index(op.f('ix_acc_asset_depreciations_depreciation_date'), table_name='acc_asset_depreciations')
    op.alter_column('acc_asset_depreciations', 'is_posted',
               existing_type=sa.BOOLEAN(),
               server_default=sa.text('false'),
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'closing_book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'accumulated_depreciation',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'depreciation_amount',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_asset_depreciations', 'opening_book_value',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.drop_index(op.f('ix_acc_account_balances_id'), table_name='acc_account_balances')
    op.alter_column('acc_account_balances', 'currency_credit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'currency_debit',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'currency',
               existing_type=sa.VARCHAR(),
               server_default=sa.text("'''VND'''::character varying"),
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'credit_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.alter_column('acc_account_balances', 'debit_balance',
               existing_type=sa.NUMERIC(precision=20, scale=2),
               server_default=sa.text("'0'::numeric"),
               existing_nullable=False)
    op.create_table('trip',
    sa.Column('id', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.Column('order_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('vehicle_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('trailer_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('driver_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('status', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.Column('planned_start', postgresql.TIMESTAMP(), autoincrement=False, nullable=True),
    sa.Column('planned_end', postgresql.TIMESTAMP(), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id', name=op.f('trip_pkey'))
    )
    op.create_index(op.f('ix_trip_id'), 'trip', ['id'], unique=False)
    op.create_table('crm_activity_logs',
    sa.Column('id', sa.VARCHAR(length=36), autoincrement=False, nullable=False),
    sa.Column('tenant_id', sa.VARCHAR(length=36), autoincrement=False, nullable=False),
    sa.Column('entity_type', sa.VARCHAR(length=50), autoincrement=False, nullable=False),
    sa.Column('entity_id', sa.VARCHAR(length=36), autoincrement=False, nullable=False),
    sa.Column('entity_code', sa.VARCHAR(length=100), autoincrement=False, nullable=True),
    sa.Column('entity_name', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('action', sa.VARCHAR(length=50), autoincrement=False, nullable=False),
    sa.Column('action_label', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('old_values', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('new_values', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('changed_fields', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('description', sa.TEXT(), autoincrement=False, nullable=True),
    sa.Column('related_entity_type', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('related_entity_id', sa.VARCHAR(length=36), autoincrement=False, nullable=True),
    sa.Column('user_id', sa.VARCHAR(length=36), autoincrement=False, nullable=False),
    sa.Column('user_name', sa.VARCHAR(length=255), autoincrement=False, nullable=True),
    sa.Column('ip_address', sa.VARCHAR(length=50), autoincrement=False, nullable=True),
    sa.Column('user_agent', sa.VARCHAR(length=500), autoincrement=False, nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), server_default=sa.text('now()'), autoincrement=False, nullable=True),
    sa.Column('updated_at', postgresql.TIMESTAMP(), server_default=sa.text('now()'), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id', name=op.f('crm_activity_logs_pkey'))
    )
    op.create_index(op.f('ix_crm_activity_logs_user_id'), 'crm_activity_logs', ['user_id'], unique=False)
    op.create_index(op.f('ix_crm_activity_logs_tenant_id'), 'crm_activity_logs', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_crm_activity_logs_entity_type'), 'crm_activity_logs', ['entity_type'], unique=False)
    op.create_index(op.f('ix_crm_activity_logs_entity_id'), 'crm_activity_logs', ['entity_id'], unique=False)
    op.create_index(op.f('ix_crm_activity_logs_entity'), 'crm_activity_logs', ['entity_type', 'entity_id'], unique=False)
    op.create_index(op.f('ix_crm_activity_logs_action'), 'crm_activity_logs', ['action'], unique=False)
    op.create_table('trip_shipments',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), autoincrement=False, nullable=False),
    sa.Column('tenant_id', sa.TEXT(), autoincrement=False, nullable=False),
    sa.Column('trip_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('shipment_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('seq', sa.INTEGER(), server_default=sa.text('1'), autoincrement=False, nullable=False),
    sa.Column('created_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('now()'), autoincrement=False, nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(timezone=True), server_default=sa.text('now()'), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('id', name=op.f('trip_shipments_pkey')),
    sa.UniqueConstraint('tenant_id', 'trip_id', 'shipment_id', name=op.f('trip_shipments_tenant_id_trip_id_shipment_id_key'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_index(op.f('idx_trip_shipments_trip'), 'trip_shipments', ['trip_id'], unique=False)
    op.create_index(op.f('idx_trip_shipments_shipment'), 'trip_shipments', ['shipment_id'], unique=False)
    op.drop_index(op.f('ix_wms_putaway_tasks_tenant_id'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_task_number'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_status'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_receipt_id'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_product_id'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_id'), table_name='wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_putaway_tasks_assigned_to'), table_name='wms_putaway_tasks')
    op.drop_table('wms_putaway_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_wave_id'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_tenant_id'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_task_number'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_status'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_product_id'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_id'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_delivery_id'), table_name='wms_picking_tasks')
    op.drop_index(op.f('ix_wms_picking_tasks_assigned_to'), table_name='wms_picking_tasks')
    op.drop_table('wms_picking_tasks')
    op.drop_index(op.f('ix_wms_inventory_count_lines_tenant_id'), table_name='wms_inventory_count_lines')
    op.drop_index(op.f('ix_wms_inventory_count_lines_product_id'), table_name='wms_inventory_count_lines')
    op.drop_index(op.f('ix_wms_inventory_count_lines_id'), table_name='wms_inventory_count_lines')
    op.drop_index(op.f('ix_wms_inventory_count_lines_count_id'), table_name='wms_inventory_count_lines')
    op.drop_table('wms_inventory_count_lines')
    op.drop_index(op.f('ix_ctrl_budget_transfers_transfer_number'), table_name='ctrl_budget_transfers')
    op.drop_index(op.f('ix_ctrl_budget_transfers_tenant_id'), table_name='ctrl_budget_transfers')
    op.drop_index(op.f('ix_ctrl_budget_transfers_id'), table_name='ctrl_budget_transfers')
    op.drop_table('ctrl_budget_transfers')
    op.drop_index(op.f('ix_ctrl_budget_revisions_tenant_id'), table_name='ctrl_budget_revisions')
    op.drop_index(op.f('ix_ctrl_budget_revisions_revision_number'), table_name='ctrl_budget_revisions')
    op.drop_index(op.f('ix_ctrl_budget_revisions_id'), table_name='ctrl_budget_revisions')
    op.drop_index(op.f('ix_ctrl_budget_revisions_budget_id'), table_name='ctrl_budget_revisions')
    op.drop_table('ctrl_budget_revisions')
    op.drop_index(op.f('ix_acc_debit_notes_vendor_id'), table_name='acc_debit_notes')
    op.drop_index(op.f('ix_acc_debit_notes_tenant_id'), table_name='acc_debit_notes')
    op.drop_index(op.f('ix_acc_debit_notes_id'), table_name='acc_debit_notes')
    op.drop_index(op.f('ix_acc_debit_notes_debit_note_number'), table_name='acc_debit_notes')
    op.drop_index(op.f('ix_acc_debit_notes_debit_note_date'), table_name='acc_debit_notes')
    op.drop_table('acc_debit_notes')
    op.drop_index(op.f('ix_acc_credit_notes_tenant_id'), table_name='acc_credit_notes')
    op.drop_index(op.f('ix_acc_credit_notes_id'), table_name='acc_credit_notes')
    op.drop_index(op.f('ix_acc_credit_notes_customer_id'), table_name='acc_credit_notes')
    op.drop_index(op.f('ix_acc_credit_notes_credit_note_number'), table_name='acc_credit_notes')
    op.drop_index(op.f('ix_acc_credit_notes_credit_note_date'), table_name='acc_credit_notes')
    op.drop_table('acc_credit_notes')
    op.drop_index(op.f('ix_acc_bank_transfers_transfer_number'), table_name='acc_bank_transfers')
    op.drop_index(op.f('ix_acc_bank_transfers_transfer_date'), table_name='acc_bank_transfers')
    op.drop_index(op.f('ix_acc_bank_transfers_tenant_id'), table_name='acc_bank_transfers')
    op.drop_index(op.f('ix_acc_bank_transfers_id'), table_name='acc_bank_transfers')
    op.drop_table('acc_bank_transfers')
    op.drop_index(op.f('ix_acc_bank_statement_lines_transaction_date'), table_name='acc_bank_statement_lines')
    op.drop_index(op.f('ix_acc_bank_statement_lines_tenant_id'), table_name='acc_bank_statement_lines')
    op.drop_index(op.f('ix_acc_bank_statement_lines_statement_id'), table_name='acc_bank_statement_lines')
    op.drop_index(op.f('ix_acc_bank_statement_lines_id'), table_name='acc_bank_statement_lines')
    op.drop_table('acc_bank_statement_lines')
    op.drop_index(op.f('ix_wms_stock_transfer_lines_transfer_id'), table_name='wms_stock_transfer_lines')
    op.drop_index(op.f('ix_wms_stock_transfer_lines_tenant_id'), table_name='wms_stock_transfer_lines')
    op.drop_index(op.f('ix_wms_stock_transfer_lines_product_id'), table_name='wms_stock_transfer_lines')
    op.drop_index(op.f('ix_wms_stock_transfer_lines_id'), table_name='wms_stock_transfer_lines')
    op.drop_table('wms_stock_transfer_lines')
    op.drop_index(op.f('ix_wms_stock_reservations_warehouse_id'), table_name='wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_reservations_tenant_id'), table_name='wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_reservations_status'), table_name='wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_reservations_reservation_number'), table_name='wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_reservations_product_id'), table_name='wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_reservations_id'), table_name='wms_stock_reservations')
    op.drop_table('wms_stock_reservations')
    op.drop_index(op.f('ix_wms_stock_moves_tenant_id'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_status'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_product_id'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_move_type'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_move_number'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_move_date'), table_name='wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_moves_id'), table_name='wms_stock_moves')
    op.drop_table('wms_stock_moves')
    op.drop_index(op.f('ix_wms_stock_levels_warehouse_id'), table_name='wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_levels_tenant_id'), table_name='wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_levels_product_id'), table_name='wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_levels_lot_id'), table_name='wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_levels_location_id'), table_name='wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_levels_id'), table_name='wms_stock_levels')
    op.drop_table('wms_stock_levels')
    op.drop_index(op.f('ix_wms_stock_adjustments_warehouse_id'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_tenant_id'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_status'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_product_id'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_id'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_adjustment_type'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_adjustment_number'), table_name='wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_stock_adjustments_adjustment_date'), table_name='wms_stock_adjustments')
    op.drop_table('wms_stock_adjustments')
    op.drop_index(op.f('ix_wms_packing_tasks_tenant_id'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_task_number'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_status'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_package_number'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_id'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_delivery_id'), table_name='wms_packing_tasks')
    op.drop_index(op.f('ix_wms_packing_tasks_assigned_to'), table_name='wms_packing_tasks')
    op.drop_table('wms_packing_tasks')
    op.drop_index(op.f('ix_wms_inventory_counts_warehouse_id'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_tenant_id'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_status'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_id'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_count_type'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_count_number'), table_name='wms_inventory_counts')
    op.drop_index(op.f('ix_wms_inventory_counts_count_date'), table_name='wms_inventory_counts')
    op.drop_table('wms_inventory_counts')
    op.drop_index(op.f('ix_wms_goods_receipt_lines_tenant_id'), table_name='wms_goods_receipt_lines')
    op.drop_index(op.f('ix_wms_goods_receipt_lines_receipt_id'), table_name='wms_goods_receipt_lines')
    op.drop_index(op.f('ix_wms_goods_receipt_lines_product_id'), table_name='wms_goods_receipt_lines')
    op.drop_index(op.f('ix_wms_goods_receipt_lines_id'), table_name='wms_goods_receipt_lines')
    op.drop_table('wms_goods_receipt_lines')
    op.drop_index(op.f('ix_wms_delivery_order_lines_tenant_id'), table_name='wms_delivery_order_lines')
    op.drop_index(op.f('ix_wms_delivery_order_lines_product_id'), table_name='wms_delivery_order_lines')
    op.drop_index(op.f('ix_wms_delivery_order_lines_id'), table_name='wms_delivery_order_lines')
    op.drop_index(op.f('ix_wms_delivery_order_lines_delivery_id'), table_name='wms_delivery_order_lines')
    op.drop_table('wms_delivery_order_lines')
    op.drop_index(op.f('ix_ctrl_internal_order_lines_tenant_id'), table_name='ctrl_internal_order_lines')
    op.drop_index(op.f('ix_ctrl_internal_order_lines_internal_order_id'), table_name='ctrl_internal_order_lines')
    op.drop_index(op.f('ix_ctrl_internal_order_lines_id'), table_name='ctrl_internal_order_lines')
    op.drop_table('ctrl_internal_order_lines')
    op.drop_index(op.f('ix_ctrl_budget_lines_tenant_id'), table_name='ctrl_budget_lines')
    op.drop_index(op.f('ix_ctrl_budget_lines_id'), table_name='ctrl_budget_lines')
    op.drop_index(op.f('ix_ctrl_budget_lines_budget_id'), table_name='ctrl_budget_lines')
    op.drop_table('ctrl_budget_lines')
    op.drop_index(op.f('ix_ctrl_activity_rates_tenant_id'), table_name='ctrl_activity_rates')
    op.drop_index(op.f('ix_ctrl_activity_rates_id'), table_name='ctrl_activity_rates')
    op.drop_index(op.f('ix_ctrl_activity_rates_activity_id'), table_name='ctrl_activity_rates')
    op.drop_table('ctrl_activity_rates')
    op.drop_index(op.f('ix_ctrl_activity_allocations_tenant_id'), table_name='ctrl_activity_allocations')
    op.drop_index(op.f('ix_ctrl_activity_allocations_id'), table_name='ctrl_activity_allocations')
    op.drop_index(op.f('ix_ctrl_activity_allocations_allocation_number'), table_name='ctrl_activity_allocations')
    op.drop_table('ctrl_activity_allocations')
    op.drop_index(op.f('ix_acc_vat_transactions_vat_type'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_transaction_number'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_transaction_date'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_tenant_id'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_partner_tax_code'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_partner_id'), table_name='acc_vat_transactions')
    op.drop_index(op.f('ix_acc_vat_transactions_id'), table_name='acc_vat_transactions')
    op.drop_table('acc_vat_transactions')
    op.drop_index(op.f('ix_acc_asset_transfers_transfer_number'), table_name='acc_asset_transfers')
    op.drop_index(op.f('ix_acc_asset_transfers_transfer_date'), table_name='acc_asset_transfers')
    op.drop_index(op.f('ix_acc_asset_transfers_tenant_id'), table_name='acc_asset_transfers')
    op.drop_index(op.f('ix_acc_asset_transfers_id'), table_name='acc_asset_transfers')
    op.drop_index(op.f('ix_acc_asset_transfers_asset_id'), table_name='acc_asset_transfers')
    op.drop_table('acc_asset_transfers')
    op.drop_index(op.f('ix_acc_asset_revaluations_tenant_id'), table_name='acc_asset_revaluations')
    op.drop_index(op.f('ix_acc_asset_revaluations_revaluation_date'), table_name='acc_asset_revaluations')
    op.drop_index(op.f('ix_acc_asset_revaluations_id'), table_name='acc_asset_revaluations')
    op.drop_index(op.f('ix_acc_asset_revaluations_asset_id'), table_name='acc_asset_revaluations')
    op.drop_table('acc_asset_revaluations')
    op.drop_index(op.f('ix_acc_asset_maintenances_tenant_id'), table_name='acc_asset_maintenances')
    op.drop_index(op.f('ix_acc_asset_maintenances_maintenance_number'), table_name='acc_asset_maintenances')
    op.drop_index(op.f('ix_acc_asset_maintenances_maintenance_date'), table_name='acc_asset_maintenances')
    op.drop_index(op.f('ix_acc_asset_maintenances_id'), table_name='acc_asset_maintenances')
    op.drop_index(op.f('ix_acc_asset_maintenances_asset_id'), table_name='acc_asset_maintenances')
    op.drop_table('acc_asset_maintenances')
    op.drop_index(op.f('ix_acc_asset_disposals_tenant_id'), table_name='acc_asset_disposals')
    op.drop_index(op.f('ix_acc_asset_disposals_id'), table_name='acc_asset_disposals')
    op.drop_index(op.f('ix_acc_asset_disposals_disposal_number'), table_name='acc_asset_disposals')
    op.drop_index(op.f('ix_acc_asset_disposals_disposal_date'), table_name='acc_asset_disposals')
    op.drop_index(op.f('ix_acc_asset_disposals_asset_id'), table_name='acc_asset_disposals')
    op.drop_table('acc_asset_disposals')
    op.drop_index(op.f('ix_wms_storage_locations_zone_id'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_warehouse_id'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_tenant_id'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_location_type'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_id'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_code'), table_name='wms_storage_locations')
    op.drop_index(op.f('ix_wms_storage_locations_barcode'), table_name='wms_storage_locations')
    op.drop_table('wms_storage_locations')
    op.drop_index(op.f('ix_wms_stock_transfers_transfer_type'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_transfer_number'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_transfer_date'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_tenant_id'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_status'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_source_warehouse_id'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_id'), table_name='wms_stock_transfers')
    op.drop_index(op.f('ix_wms_stock_transfers_dest_warehouse_id'), table_name='wms_stock_transfers')
    op.drop_table('wms_stock_transfers')
    op.drop_index(op.f('ix_wms_goods_receipts_warehouse_id'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_tenant_id'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_supplier_id'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_status'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_receipt_type'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_receipt_number'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_receipt_date'), table_name='wms_goods_receipts')
    op.drop_index(op.f('ix_wms_goods_receipts_id'), table_name='wms_goods_receipts')
    op.drop_table('wms_goods_receipts')
    op.drop_index(op.f('ix_wms_delivery_orders_warehouse_id'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_tenant_id'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_status'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_id'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_delivery_type'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_delivery_number'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_delivery_date'), table_name='wms_delivery_orders')
    op.drop_index(op.f('ix_wms_delivery_orders_customer_id'), table_name='wms_delivery_orders')
    op.drop_table('wms_delivery_orders')
    op.drop_index(op.f('ix_ctrl_profit_analysis_tenant_id'), table_name='ctrl_profit_analysis')
    op.drop_index(op.f('ix_ctrl_profit_analysis_profit_center_id'), table_name='ctrl_profit_analysis')
    op.drop_index(op.f('ix_ctrl_profit_analysis_id'), table_name='ctrl_profit_analysis')
    op.drop_table('ctrl_profit_analysis')
    op.drop_index(op.f('ix_ctrl_internal_orders_tenant_id'), table_name='ctrl_internal_orders')
    op.drop_index(op.f('ix_ctrl_internal_orders_status'), table_name='ctrl_internal_orders')
    op.drop_index(op.f('ix_ctrl_internal_orders_order_type'), table_name='ctrl_internal_orders')
    op.drop_index(op.f('ix_ctrl_internal_orders_order_number'), table_name='ctrl_internal_orders')
    op.drop_index(op.f('ix_ctrl_internal_orders_id'), table_name='ctrl_internal_orders')
    op.drop_table('ctrl_internal_orders')
    op.drop_index(op.f('ix_ctrl_cost_allocations_tenant_id'), table_name='ctrl_cost_allocations')
    op.drop_index(op.f('ix_ctrl_cost_allocations_rule_id'), table_name='ctrl_cost_allocations')
    op.drop_index(op.f('ix_ctrl_cost_allocations_id'), table_name='ctrl_cost_allocations')
    op.drop_table('ctrl_cost_allocations')
    op.drop_index(op.f('ix_ctrl_budget_versions_tenant_id'), table_name='ctrl_budget_versions')
    op.drop_index(op.f('ix_ctrl_budget_versions_id'), table_name='ctrl_budget_versions')
    op.drop_index(op.f('ix_ctrl_budget_versions_budget_id'), table_name='ctrl_budget_versions')
    op.drop_table('ctrl_budget_versions')
    op.drop_index(op.f('ix_ctrl_activities_tenant_id'), table_name='ctrl_activities')
    op.drop_index(op.f('ix_ctrl_activities_id'), table_name='ctrl_activities')
    op.drop_index(op.f('ix_ctrl_activities_code'), table_name='ctrl_activities')
    op.drop_index(op.f('ix_ctrl_activities_activity_type_id'), table_name='ctrl_activities')
    op.drop_table('ctrl_activities')
    op.drop_index(op.f('ix_acc_trial_balance_reports_tenant_id'), table_name='acc_trial_balance_reports')
    op.drop_index(op.f('ix_acc_trial_balance_reports_report_id'), table_name='acc_trial_balance_reports')
    op.drop_index(op.f('ix_acc_trial_balance_reports_id'), table_name='acc_trial_balance_reports')
    op.drop_table('acc_trial_balance_reports')
    op.drop_index(op.f('ix_acc_cash_counts_tenant_id'), table_name='acc_cash_counts')
    op.drop_index(op.f('ix_acc_cash_counts_id'), table_name='acc_cash_counts')
    op.drop_index(op.f('ix_acc_cash_counts_count_number'), table_name='acc_cash_counts')
    op.drop_index(op.f('ix_acc_cash_counts_count_date'), table_name='acc_cash_counts')
    op.drop_index(op.f('ix_acc_cash_counts_cash_account_id'), table_name='acc_cash_counts')
    op.drop_table('acc_cash_counts')
    op.drop_index(op.f('ix_acc_budget_vs_actual_tenant_id'), table_name='acc_budget_vs_actual')
    op.drop_index(op.f('ix_acc_budget_vs_actual_id'), table_name='acc_budget_vs_actual')
    op.drop_index(op.f('ix_acc_budget_vs_actual_budget_period_id'), table_name='acc_budget_vs_actual')
    op.drop_index(op.f('ix_acc_budget_vs_actual_account_id'), table_name='acc_budget_vs_actual')
    op.drop_table('acc_budget_vs_actual')
    op.drop_index(op.f('ix_acc_budget_lines_tenant_id'), table_name='acc_budget_lines')
    op.drop_index(op.f('ix_acc_budget_lines_id'), table_name='acc_budget_lines')
    op.drop_index(op.f('ix_acc_budget_lines_budget_period_id'), table_name='acc_budget_lines')
    op.drop_index(op.f('ix_acc_budget_lines_account_id'), table_name='acc_budget_lines')
    op.drop_table('acc_budget_lines')
    op.drop_index(op.f('ix_acc_bank_statements_tenant_id'), table_name='acc_bank_statements')
    op.drop_index(op.f('ix_acc_bank_statements_statement_number'), table_name='acc_bank_statements')
    op.drop_index(op.f('ix_acc_bank_statements_id'), table_name='acc_bank_statements')
    op.drop_index(op.f('ix_acc_bank_statements_bank_account_id'), table_name='acc_bank_statements')
    op.drop_table('acc_bank_statements')
    op.drop_index(op.f('ix_wms_warehouse_zones_zone_type'), table_name='wms_warehouse_zones')
    op.drop_index(op.f('ix_wms_warehouse_zones_warehouse_id'), table_name='wms_warehouse_zones')
    op.drop_index(op.f('ix_wms_warehouse_zones_tenant_id'), table_name='wms_warehouse_zones')
    op.drop_index(op.f('ix_wms_warehouse_zones_id'), table_name='wms_warehouse_zones')
    op.drop_index(op.f('ix_wms_warehouse_zones_code'), table_name='wms_warehouse_zones')
    op.drop_table('wms_warehouse_zones')
    op.drop_index(op.f('ix_wms_product_lots_tenant_id'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_status'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_serial_number'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_product_id'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_lot_number'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_id'), table_name='wms_product_lots')
    op.drop_index(op.f('ix_wms_product_lots_expiry_date'), table_name='wms_product_lots')
    op.drop_table('wms_product_lots')
    op.drop_index(op.f('ix_wms_product_barcodes_tenant_id'), table_name='wms_product_barcodes')
    op.drop_index(op.f('ix_wms_product_barcodes_product_id'), table_name='wms_product_barcodes')
    op.drop_index(op.f('ix_wms_product_barcodes_id'), table_name='wms_product_barcodes')
    op.drop_index(op.f('ix_wms_product_barcodes_barcode'), table_name='wms_product_barcodes')
    op.drop_table('wms_product_barcodes')
    op.drop_index(op.f('ix_user_roles_user_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_role_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_id'), table_name='user_roles')
    op.drop_table('user_roles')
    op.drop_index(op.f('ix_tenant_modules_tenant_id'), table_name='tenant_modules')
    op.drop_index(op.f('ix_tenant_modules_module_code'), table_name='tenant_modules')
    op.drop_index(op.f('ix_tenant_modules_id'), table_name='tenant_modules')
    op.drop_table('tenant_modules')
    op.drop_index(op.f('ix_permissions_role_id'), table_name='permissions')
    op.drop_index(op.f('ix_permissions_resource'), table_name='permissions')
    op.drop_index(op.f('ix_permissions_module'), table_name='permissions')
    op.drop_index(op.f('ix_permissions_id'), table_name='permissions')
    op.drop_table('permissions')
    op.drop_index(op.f('ix_hrm_bonuses_tenant_id'), table_name='hrm_bonuses')
    op.drop_index(op.f('ix_hrm_bonuses_status'), table_name='hrm_bonuses')
    op.drop_index(op.f('ix_hrm_bonuses_id'), table_name='hrm_bonuses')
    op.drop_index(op.f('ix_hrm_bonuses_employee_id'), table_name='hrm_bonuses')
    op.drop_index(op.f('ix_hrm_bonuses_effective_date'), table_name='hrm_bonuses')
    op.drop_table('hrm_bonuses')
    op.drop_index(op.f('ix_ctrl_segment_reports_tenant_id'), table_name='ctrl_segment_reports')
    op.drop_index(op.f('ix_ctrl_segment_reports_segment_type'), table_name='ctrl_segment_reports')
    op.drop_index(op.f('ix_ctrl_segment_reports_report_code'), table_name='ctrl_segment_reports')
    op.drop_index(op.f('ix_ctrl_segment_reports_id'), table_name='ctrl_segment_reports')
    op.drop_table('ctrl_segment_reports')
    op.drop_index(op.f('ix_ctrl_profit_centers_tenant_id'), table_name='ctrl_profit_centers')
    op.drop_index(op.f('ix_ctrl_profit_centers_profit_center_type'), table_name='ctrl_profit_centers')
    op.drop_index(op.f('ix_ctrl_profit_centers_id'), table_name='ctrl_profit_centers')
    op.drop_index(op.f('ix_ctrl_profit_centers_code'), table_name='ctrl_profit_centers')
    op.drop_table('ctrl_profit_centers')
    op.drop_index(op.f('ix_ctrl_cost_center_hierarchy_tenant_id'), table_name='ctrl_cost_center_hierarchy')
    op.drop_index(op.f('ix_ctrl_cost_center_hierarchy_id'), table_name='ctrl_cost_center_hierarchy')
    op.drop_index(op.f('ix_ctrl_cost_center_hierarchy_cost_center_id'), table_name='ctrl_cost_center_hierarchy')
    op.drop_table('ctrl_cost_center_hierarchy')
    op.drop_index(op.f('ix_ctrl_cost_allocation_rules_tenant_id'), table_name='ctrl_cost_allocation_rules')
    op.drop_index(op.f('ix_ctrl_cost_allocation_rules_id'), table_name='ctrl_cost_allocation_rules')
    op.drop_index(op.f('ix_ctrl_cost_allocation_rules_code'), table_name='ctrl_cost_allocation_rules')
    op.drop_table('ctrl_cost_allocation_rules')
    op.drop_index(op.f('ix_ctrl_budgets_tenant_id'), table_name='ctrl_budgets')
    op.drop_index(op.f('ix_ctrl_budgets_status'), table_name='ctrl_budgets')
    op.drop_index(op.f('ix_ctrl_budgets_id'), table_name='ctrl_budgets')
    op.drop_index(op.f('ix_ctrl_budgets_code'), table_name='ctrl_budgets')
    op.drop_index(op.f('ix_ctrl_budgets_budget_type'), table_name='ctrl_budgets')
    op.drop_table('ctrl_budgets')
    op.drop_index(op.f('ix_ctrl_activity_types_tenant_id'), table_name='ctrl_activity_types')
    op.drop_index(op.f('ix_ctrl_activity_types_id'), table_name='ctrl_activity_types')
    op.drop_index(op.f('ix_ctrl_activity_types_code'), table_name='ctrl_activity_types')
    op.drop_table('ctrl_activity_types')
    op.drop_index(op.f('ix_acc_report_template_lines_tenant_id'), table_name='acc_report_template_lines')
    op.drop_index(op.f('ix_acc_report_template_lines_template_id'), table_name='acc_report_template_lines')
    op.drop_index(op.f('ix_acc_report_template_lines_id'), table_name='acc_report_template_lines')
    op.drop_table('acc_report_template_lines')
    op.drop_index(op.f('ix_acc_generated_reports_tenant_id'), table_name='acc_generated_reports')
    op.drop_index(op.f('ix_acc_generated_reports_status'), table_name='acc_generated_reports')
    op.drop_index(op.f('ix_acc_generated_reports_report_type'), table_name='acc_generated_reports')
    op.drop_index(op.f('ix_acc_generated_reports_report_number'), table_name='acc_generated_reports')
    op.drop_index(op.f('ix_acc_generated_reports_id'), table_name='acc_generated_reports')
    op.drop_table('acc_generated_reports')
    op.drop_index(op.f('ix_acc_cit_declarations_tenant_id'), table_name='acc_cit_declarations')
    op.drop_index(op.f('ix_acc_cit_declarations_status'), table_name='acc_cit_declarations')
    op.drop_index(op.f('ix_acc_cit_declarations_period'), table_name='acc_cit_declarations')
    op.drop_index(op.f('ix_acc_cit_declarations_id'), table_name='acc_cit_declarations')
    op.drop_index(op.f('ix_acc_cit_declarations_declaration_number'), table_name='acc_cit_declarations')
    op.drop_table('acc_cit_declarations')
    op.drop_index(op.f('ix_acc_budget_periods_tenant_id'), table_name='acc_budget_periods')
    op.drop_index(op.f('ix_acc_budget_periods_id'), table_name='acc_budget_periods')
    op.drop_index(op.f('ix_acc_budget_periods_code'), table_name='acc_budget_periods')
    op.drop_table('acc_budget_periods')
    op.drop_index(op.f('ix_wms_warehouses_warehouse_type'), table_name='wms_warehouses')
    op.drop_index(op.f('ix_wms_warehouses_tenant_id'), table_name='wms_warehouses')
    op.drop_index(op.f('ix_wms_warehouses_manager_id'), table_name='wms_warehouses')
    op.drop_index(op.f('ix_wms_warehouses_id'), table_name='wms_warehouses')
    op.drop_index(op.f('ix_wms_warehouses_code'), table_name='wms_warehouses')
    op.drop_table('wms_warehouses')
    op.drop_index(op.f('ix_wms_products_tenant_id'), table_name='wms_products')
    op.drop_index(op.f('ix_wms_products_id'), table_name='wms_products')
    op.drop_index(op.f('ix_wms_products_code'), table_name='wms_products')
    op.drop_index(op.f('ix_wms_products_category_id'), table_name='wms_products')
    op.drop_table('wms_products')
    op.drop_index(op.f('ix_wms_product_units_tenant_id'), table_name='wms_product_units')
    op.drop_index(op.f('ix_wms_product_units_product_id'), table_name='wms_product_units')
    op.drop_index(op.f('ix_wms_product_units_id'), table_name='wms_product_units')
    op.drop_index(op.f('ix_wms_product_units_code'), table_name='wms_product_units')
    op.drop_index(op.f('ix_wms_product_units_barcode'), table_name='wms_product_units')
    op.drop_table('wms_product_units')
    op.drop_index(op.f('ix_wms_product_categories_tenant_id'), table_name='wms_product_categories')
    op.drop_index(op.f('ix_wms_product_categories_parent_id'), table_name='wms_product_categories')
    op.drop_index(op.f('ix_wms_product_categories_id'), table_name='wms_product_categories')
    op.drop_index(op.f('ix_wms_product_categories_code'), table_name='wms_product_categories')
    op.drop_table('wms_product_categories')
    op.drop_index(op.f('ix_wf_variables_tenant_id'), table_name='wf_variables')
    op.drop_index(op.f('ix_wf_variables_instance_id'), table_name='wf_variables')
    op.drop_table('wf_variables')
    op.drop_index(op.f('ix_wf_transitions_workflow_id'), table_name='wf_transitions')
    op.drop_index(op.f('ix_wf_transitions_to_step_id'), table_name='wf_transitions')
    op.drop_index(op.f('ix_wf_transitions_tenant_id'), table_name='wf_transitions')
    op.drop_index(op.f('ix_wf_transitions_from_step_id'), table_name='wf_transitions')
    op.drop_table('wf_transitions')
    op.drop_index(op.f('ix_wf_tasks_tenant_id'), table_name='wf_tasks')
    op.drop_index(op.f('ix_wf_tasks_task_number'), table_name='wf_tasks')
    op.drop_table('wf_tasks')
    op.drop_index(op.f('ix_wf_task_reminders_tenant_id'), table_name='wf_task_reminders')
    op.drop_index(op.f('ix_wf_task_reminders_task_id'), table_name='wf_task_reminders')
    op.drop_table('wf_task_reminders')
    op.drop_index(op.f('ix_wf_task_escalations_tenant_id'), table_name='wf_task_escalations')
    op.drop_index(op.f('ix_wf_task_escalations_task_id'), table_name='wf_task_escalations')
    op.drop_table('wf_task_escalations')
    op.drop_index(op.f('ix_wf_steps_workflow_id'), table_name='wf_steps')
    op.drop_index(op.f('ix_wf_steps_tenant_id'), table_name='wf_steps')
    op.drop_table('wf_steps')
    op.drop_index(op.f('ix_wf_step_instances_tenant_id'), table_name='wf_step_instances')
    op.drop_index(op.f('ix_wf_step_instances_step_id'), table_name='wf_step_instances')
    op.drop_index(op.f('ix_wf_step_instances_instance_id'), table_name='wf_step_instances')
    op.drop_table('wf_step_instances')
    op.drop_index(op.f('ix_wf_notifications_tenant_id'), table_name='wf_notifications')
    op.drop_index(op.f('ix_wf_notifications_recipient_id'), table_name='wf_notifications')
    op.drop_index(op.f('ix_wf_notifications_notification_type'), table_name='wf_notifications')
    op.drop_table('wf_notifications')
    op.drop_index(op.f('ix_wf_notification_templates_tenant_id'), table_name='wf_notification_templates')
    op.drop_index(op.f('ix_wf_notification_templates_code'), table_name='wf_notification_templates')
    op.drop_table('wf_notification_templates')
    op.drop_index(op.f('ix_wf_instances_workflow_id'), table_name='wf_instances')
    op.drop_index(op.f('ix_wf_instances_tenant_id'), table_name='wf_instances')
    op.drop_index(op.f('ix_wf_instances_instance_number'), table_name='wf_instances')
    op.drop_table('wf_instances')
    op.drop_index(op.f('ix_wf_history_tenant_id'), table_name='wf_history')
    op.drop_index(op.f('ix_wf_history_instance_id'), table_name='wf_history')
    op.drop_table('wf_history')
    op.drop_index(op.f('ix_wf_definitions_tenant_id'), table_name='wf_definitions')
    op.drop_index(op.f('ix_wf_definitions_code'), table_name='wf_definitions')
    op.drop_table('wf_definitions')
    op.drop_index(op.f('ix_wf_conditions_transition_id'), table_name='wf_conditions')
    op.drop_index(op.f('ix_wf_conditions_tenant_id'), table_name='wf_conditions')
    op.drop_table('wf_conditions')
    op.drop_index(op.f('ix_wf_approval_steps_tenant_id'), table_name='wf_approval_steps')
    op.drop_index(op.f('ix_wf_approval_steps_request_id'), table_name='wf_approval_steps')
    op.drop_index(op.f('ix_wf_approval_steps_approver_id'), table_name='wf_approval_steps')
    op.drop_table('wf_approval_steps')
    op.drop_index(op.f('ix_wf_approval_rules_tenant_id'), table_name='wf_approval_rules')
    op.drop_index(op.f('ix_wf_approval_rules_code'), table_name='wf_approval_rules')
    op.drop_table('wf_approval_rules')
    op.drop_index(op.f('ix_wf_approval_requests_tenant_id'), table_name='wf_approval_requests')
    op.drop_index(op.f('ix_wf_approval_requests_request_number'), table_name='wf_approval_requests')
    op.drop_index(op.f('ix_wf_approval_requests_entity_id'), table_name='wf_approval_requests')
    op.drop_table('wf_approval_requests')
    op.drop_index(op.f('ix_wf_approval_delegates_tenant_id'), table_name='wf_approval_delegates')
    op.drop_index(op.f('ix_wf_approval_delegates_delegator_id'), table_name='wf_approval_delegates')
    op.drop_index(op.f('ix_wf_approval_delegates_delegate_id'), table_name='wf_approval_delegates')
    op.drop_table('wf_approval_delegates')
    op.drop_index(op.f('ix_wf_approval_decisions_tenant_id'), table_name='wf_approval_decisions')
    op.drop_index(op.f('ix_wf_approval_decisions_step_id'), table_name='wf_approval_decisions')
    op.drop_index(op.f('ix_wf_approval_decisions_request_id'), table_name='wf_approval_decisions')
    op.drop_table('wf_approval_decisions')
    op.drop_index(op.f('ix_roles_tenant_id'), table_name='roles')
    op.drop_index(op.f('ix_roles_name'), table_name='roles')
    op.drop_index(op.f('ix_roles_module_code'), table_name='roles')
    op.drop_index(op.f('ix_roles_id'), table_name='roles')
    op.drop_index(op.f('ix_roles_code'), table_name='roles')
    op.drop_table('roles')
    op.drop_index(op.f('ix_prj_timesheets_user_id'), table_name='prj_timesheets')
    op.drop_index(op.f('ix_prj_timesheets_tenant_id'), table_name='prj_timesheets')
    op.drop_index(op.f('ix_prj_timesheets_period_start'), table_name='prj_timesheets')
    op.drop_table('prj_timesheets')
    op.drop_index(op.f('ix_prj_timesheet_entries_work_date'), table_name='prj_timesheet_entries')
    op.drop_index(op.f('ix_prj_timesheet_entries_user_id'), table_name='prj_timesheet_entries')
    op.drop_index(op.f('ix_prj_timesheet_entries_timesheet_id'), table_name='prj_timesheet_entries')
    op.drop_index(op.f('ix_prj_timesheet_entries_tenant_id'), table_name='prj_timesheet_entries')
    op.drop_index(op.f('ix_prj_timesheet_entries_project_id'), table_name='prj_timesheet_entries')
    op.drop_table('prj_timesheet_entries')
    op.drop_index(op.f('ix_prj_timesheet_approvals_timesheet_id'), table_name='prj_timesheet_approvals')
    op.drop_index(op.f('ix_prj_timesheet_approvals_tenant_id'), table_name='prj_timesheet_approvals')
    op.drop_table('prj_timesheet_approvals')
    op.drop_index(op.f('ix_prj_tasks_tenant_id'), table_name='prj_tasks')
    op.drop_index(op.f('ix_prj_tasks_task_number'), table_name='prj_tasks')
    op.drop_index(op.f('ix_prj_tasks_project_id'), table_name='prj_tasks')
    op.drop_table('prj_tasks')
    op.drop_index(op.f('ix_prj_task_dependencies_tenant_id'), table_name='prj_task_dependencies')
    op.drop_index(op.f('ix_prj_task_dependencies_successor_id'), table_name='prj_task_dependencies')
    op.drop_index(op.f('ix_prj_task_dependencies_predecessor_id'), table_name='prj_task_dependencies')
    op.drop_table('prj_task_dependencies')
    op.drop_index(op.f('ix_prj_task_comments_tenant_id'), table_name='prj_task_comments')
    op.drop_index(op.f('ix_prj_task_comments_task_id'), table_name='prj_task_comments')
    op.drop_table('prj_task_comments')
    op.drop_index(op.f('ix_prj_task_checklists_tenant_id'), table_name='prj_task_checklists')
    op.drop_index(op.f('ix_prj_task_checklists_task_id'), table_name='prj_task_checklists')
    op.drop_table('prj_task_checklists')
    op.drop_index(op.f('ix_prj_task_attachments_tenant_id'), table_name='prj_task_attachments')
    op.drop_index(op.f('ix_prj_task_attachments_task_id'), table_name='prj_task_attachments')
    op.drop_table('prj_task_attachments')
    op.drop_index(op.f('ix_prj_task_assignments_user_id'), table_name='prj_task_assignments')
    op.drop_index(op.f('ix_prj_task_assignments_tenant_id'), table_name='prj_task_assignments')
    op.drop_index(op.f('ix_prj_task_assignments_task_id'), table_name='prj_task_assignments')
    op.drop_table('prj_task_assignments')
    op.drop_index(op.f('ix_prj_risks_tenant_id'), table_name='prj_risks')
    op.drop_index(op.f('ix_prj_risks_risk_number'), table_name='prj_risks')
    op.drop_index(op.f('ix_prj_risks_project_id'), table_name='prj_risks')
    op.drop_table('prj_risks')
    op.drop_index(op.f('ix_prj_risk_mitigations_tenant_id'), table_name='prj_risk_mitigations')
    op.drop_index(op.f('ix_prj_risk_mitigations_risk_id'), table_name='prj_risk_mitigations')
    op.drop_table('prj_risk_mitigations')
    op.drop_index(op.f('ix_prj_resources_tenant_id'), table_name='prj_resources')
    op.drop_index(op.f('ix_prj_resources_code'), table_name='prj_resources')
    op.drop_table('prj_resources')
    op.drop_index(op.f('ix_prj_resource_calendars_tenant_id'), table_name='prj_resource_calendars')
    op.drop_index(op.f('ix_prj_resource_calendars_calendar_date'), table_name='prj_resource_calendars')
    op.drop_table('prj_resource_calendars')
    op.drop_index(op.f('ix_prj_resource_allocations_tenant_id'), table_name='prj_resource_allocations')
    op.drop_index(op.f('ix_prj_resource_allocations_resource_id'), table_name='prj_resource_allocations')
    op.drop_index(op.f('ix_prj_resource_allocations_project_id'), table_name='prj_resource_allocations')
    op.drop_table('prj_resource_allocations')
    op.drop_index(op.f('ix_prj_projects_tenant_id'), table_name='prj_projects')
    op.drop_index(op.f('ix_prj_projects_code'), table_name='prj_projects')
    op.drop_table('prj_projects')
    op.drop_index(op.f('ix_prj_project_phases_tenant_id'), table_name='prj_project_phases')
    op.drop_index(op.f('ix_prj_project_phases_project_id'), table_name='prj_project_phases')
    op.drop_table('prj_project_phases')
    op.drop_index(op.f('ix_prj_project_members_user_id'), table_name='prj_project_members')
    op.drop_index(op.f('ix_prj_project_members_tenant_id'), table_name='prj_project_members')
    op.drop_index(op.f('ix_prj_project_members_project_id'), table_name='prj_project_members')
    op.drop_table('prj_project_members')
    op.drop_index(op.f('ix_prj_milestones_tenant_id'), table_name='prj_milestones')
    op.drop_index(op.f('ix_prj_milestones_project_id'), table_name='prj_milestones')
    op.drop_table('prj_milestones')
    op.drop_index(op.f('ix_prj_issues_tenant_id'), table_name='prj_issues')
    op.drop_index(op.f('ix_prj_issues_project_id'), table_name='prj_issues')
    op.drop_index(op.f('ix_prj_issues_issue_number'), table_name='prj_issues')
    op.drop_table('prj_issues')
    op.drop_index(op.f('ix_prj_issue_comments_tenant_id'), table_name='prj_issue_comments')
    op.drop_index(op.f('ix_prj_issue_comments_issue_id'), table_name='prj_issue_comments')
    op.drop_table('prj_issue_comments')
    op.drop_index(op.f('ix_prj_checklist_items_tenant_id'), table_name='prj_checklist_items')
    op.drop_index(op.f('ix_prj_checklist_items_checklist_id'), table_name='prj_checklist_items')
    op.drop_table('prj_checklist_items')
    op.drop_index(op.f('ix_dms_templates_tenant_id'), table_name='dms_templates')
    op.drop_index(op.f('ix_dms_templates_code'), table_name='dms_templates')
    op.drop_table('dms_templates')
    op.drop_index(op.f('ix_dms_template_fields_tenant_id'), table_name='dms_template_fields')
    op.drop_index(op.f('ix_dms_template_fields_template_id'), table_name='dms_template_fields')
    op.drop_table('dms_template_fields')
    op.drop_index(op.f('ix_dms_share_links_tenant_id'), table_name='dms_share_links')
    op.drop_index(op.f('ix_dms_share_links_link_token'), table_name='dms_share_links')
    op.drop_index(op.f('ix_dms_share_links_document_id'), table_name='dms_share_links')
    op.drop_table('dms_share_links')
    op.drop_index(op.f('ix_dms_generated_documents_tenant_id'), table_name='dms_generated_documents')
    op.drop_index(op.f('ix_dms_generated_documents_template_id'), table_name='dms_generated_documents')
    op.drop_index(op.f('ix_dms_generated_documents_document_id'), table_name='dms_generated_documents')
    op.drop_table('dms_generated_documents')
    op.drop_index(op.f('ix_dms_folders_tenant_id'), table_name='dms_folders')
    op.drop_table('dms_folders')
    op.drop_index(op.f('ix_dms_folder_permissions_tenant_id'), table_name='dms_folder_permissions')
    op.drop_index(op.f('ix_dms_folder_permissions_grantee_id'), table_name='dms_folder_permissions')
    op.drop_index(op.f('ix_dms_folder_permissions_folder_id'), table_name='dms_folder_permissions')
    op.drop_table('dms_folder_permissions')
    op.drop_index(op.f('ix_dms_documents_tenant_id'), table_name='dms_documents')
    op.drop_table('dms_documents')
    op.drop_index(op.f('ix_dms_document_versions_tenant_id'), table_name='dms_document_versions')
    op.drop_index(op.f('ix_dms_document_versions_document_id'), table_name='dms_document_versions')
    op.drop_table('dms_document_versions')
    op.drop_index(op.f('ix_dms_document_tags_tenant_id'), table_name='dms_document_tags')
    op.drop_index(op.f('ix_dms_document_tags_tag_name'), table_name='dms_document_tags')
    op.drop_index(op.f('ix_dms_document_tags_document_id'), table_name='dms_document_tags')
    op.drop_table('dms_document_tags')
    op.drop_index(op.f('ix_dms_document_shares_tenant_id'), table_name='dms_document_shares')
    op.drop_index(op.f('ix_dms_document_shares_target_id'), table_name='dms_document_shares')
    op.drop_index(op.f('ix_dms_document_shares_document_id'), table_name='dms_document_shares')
    op.drop_table('dms_document_shares')
    op.drop_index(op.f('ix_dms_document_retention_tenant_id'), table_name='dms_document_retention')
    op.drop_index(op.f('ix_dms_document_retention_document_id'), table_name='dms_document_retention')
    op.drop_table('dms_document_retention')
    op.drop_index(op.f('ix_dms_document_comments_tenant_id'), table_name='dms_document_comments')
    op.drop_index(op.f('ix_dms_document_comments_document_id'), table_name='dms_document_comments')
    op.drop_table('dms_document_comments')
    op.drop_index(op.f('ix_dms_archived_documents_tenant_id'), table_name='dms_archived_documents')
    op.drop_index(op.f('ix_dms_archived_documents_original_document_id'), table_name='dms_archived_documents')
    op.drop_table('dms_archived_documents')
    op.drop_index(op.f('ix_dms_archive_policies_tenant_id'), table_name='dms_archive_policies')
    op.drop_table('dms_archive_policies')
    op.drop_index(op.f('ix_acc_withholding_taxes_transaction_number'), table_name='acc_withholding_taxes')
    op.drop_index(op.f('ix_acc_withholding_taxes_transaction_date'), table_name='acc_withholding_taxes')
    op.drop_index(op.f('ix_acc_withholding_taxes_tenant_id'), table_name='acc_withholding_taxes')
    op.drop_index(op.f('ix_acc_withholding_taxes_id'), table_name='acc_withholding_taxes')
    op.drop_table('acc_withholding_taxes')
    op.drop_index(op.f('ix_acc_vat_declarations_tenant_id'), table_name='acc_vat_declarations')
    op.drop_index(op.f('ix_acc_vat_declarations_status'), table_name='acc_vat_declarations')
    op.drop_index(op.f('ix_acc_vat_declarations_period'), table_name='acc_vat_declarations')
    op.drop_index(op.f('ix_acc_vat_declarations_id'), table_name='acc_vat_declarations')
    op.drop_index(op.f('ix_acc_vat_declarations_declaration_number'), table_name='acc_vat_declarations')
    op.drop_table('acc_vat_declarations')
    op.drop_index(op.f('ix_acc_report_templates_tenant_id'), table_name='acc_report_templates')
    op.drop_index(op.f('ix_acc_report_templates_report_type'), table_name='acc_report_templates')
    op.drop_index(op.f('ix_acc_report_templates_id'), table_name='acc_report_templates')
    op.drop_index(op.f('ix_acc_report_templates_code'), table_name='acc_report_templates')
    op.drop_table('acc_report_templates')
    op.drop_index(op.f('ix_acc_pit_transactions_tenant_id'), table_name='acc_pit_transactions')
    op.drop_index(op.f('ix_acc_pit_transactions_period'), table_name='acc_pit_transactions')
    op.drop_index(op.f('ix_acc_pit_transactions_id'), table_name='acc_pit_transactions')
    op.drop_index(op.f('ix_acc_pit_transactions_employee_id'), table_name='acc_pit_transactions')
    op.drop_table('acc_pit_transactions')
    op.drop_index(op.f('ix_acc_pit_deductions_tenant_id'), table_name='acc_pit_deductions')
    op.drop_index(op.f('ix_acc_pit_deductions_id'), table_name='acc_pit_deductions')
    op.drop_index(op.f('ix_acc_pit_deductions_code'), table_name='acc_pit_deductions')
    op.drop_table('acc_pit_deductions')
    op.drop_index(op.f('ix_acc_pit_brackets_tenant_id'), table_name='acc_pit_brackets')
    op.drop_index(op.f('ix_acc_pit_brackets_id'), table_name='acc_pit_brackets')
    op.drop_table('acc_pit_brackets')
    op.drop_index(op.f('ix_acc_currency_rates_tenant_id'), table_name='acc_currency_rates')
    op.drop_index(op.f('ix_acc_currency_rates_rate_date'), table_name='acc_currency_rates')
    op.drop_index(op.f('ix_acc_currency_rates_id'), table_name='acc_currency_rates')
    op.drop_index(op.f('ix_acc_currency_rates_currency_code'), table_name='acc_currency_rates')
    op.drop_table('acc_currency_rates')
    op.drop_index(op.f('ix_acc_audit_logs_user_id'), table_name='acc_audit_logs')
    op.drop_index(op.f('ix_acc_audit_logs_timestamp'), table_name='acc_audit_logs')
    op.drop_index(op.f('ix_acc_audit_logs_tenant_id'), table_name='acc_audit_logs')
    op.drop_index(op.f('ix_acc_audit_logs_table_name'), table_name='acc_audit_logs')
    op.drop_index(op.f('ix_acc_audit_logs_record_id'), table_name='acc_audit_logs')
    op.drop_index(op.f('ix_acc_audit_logs_id'), table_name='acc_audit_logs')
    op.drop_table('acc_audit_logs')
    op.drop_index(op.f('ix_acc_ar_aging_snapshots_tenant_id'), table_name='acc_ar_aging_snapshots')
    op.drop_index(op.f('ix_acc_ar_aging_snapshots_snapshot_date'), table_name='acc_ar_aging_snapshots')
    op.drop_index(op.f('ix_acc_ar_aging_snapshots_id'), table_name='acc_ar_aging_snapshots')
    op.drop_index(op.f('ix_acc_ar_aging_snapshots_customer_id'), table_name='acc_ar_aging_snapshots')
    op.drop_table('acc_ar_aging_snapshots')
    op.drop_index(op.f('ix_acc_ap_aging_snapshots_vendor_id'), table_name='acc_ap_aging_snapshots')
    op.drop_index(op.f('ix_acc_ap_aging_snapshots_tenant_id'), table_name='acc_ap_aging_snapshots')
    op.drop_index(op.f('ix_acc_ap_aging_snapshots_snapshot_date'), table_name='acc_ap_aging_snapshots')
    op.drop_index(op.f('ix_acc_ap_aging_snapshots_id'), table_name='acc_ap_aging_snapshots')
    op.drop_table('acc_ap_aging_snapshots')
    # ### end Alembic commands ###
